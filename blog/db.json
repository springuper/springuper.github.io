{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/images/DIY.jpg","path":"images/DIY.jpg","modified":0,"renderable":0},{"_id":"source/images/banner-top1.jpg","path":"images/banner-top1.jpg","modified":0,"renderable":0},{"_id":"source/images/bubble-girl.jpg","path":"images/bubble-girl.jpg","modified":0,"renderable":0},{"_id":"source/images/delegate.jpg","path":"images/delegate.jpg","modified":0,"renderable":0},{"_id":"source/images/error-flow.png","path":"images/error-flow.png","modified":0,"renderable":0},{"_id":"source/images/event-default-action.png","path":"images/event-default-action.png","modified":0,"renderable":0},{"_id":"source/images/logo.fw.png","path":"images/logo.fw.png","modified":0,"renderable":0},{"_id":"source/images/logo.png","path":"images/logo.png","modified":0,"renderable":0},{"_id":"source/images/meituan-fe-job.png","path":"images/meituan-fe-job.png","modified":0,"renderable":0},{"_id":"source/images/metro.png","path":"images/metro.png","modified":0,"renderable":0},{"_id":"source/images/mouse.png","path":"images/mouse.png","modified":0,"renderable":0},{"_id":"source/images/mt-fe-architecture.png","path":"images/mt-fe-architecture.png","modified":0,"renderable":0},{"_id":"source/images/notSevenDay1.png","path":"images/notSevenDay1.png","modified":0,"renderable":0},{"_id":"source/images/office-1.jpg","path":"images/office-1.jpg","modified":0,"renderable":0},{"_id":"source/images/office-2.jpg","path":"images/office-2.jpg","modified":0,"renderable":0},{"_id":"source/images/panweizeng.jpeg","path":"images/panweizeng.jpeg","modified":0,"renderable":0},{"_id":"source/images/promise-series-flow.png","path":"images/promise-series-flow.png","modified":0,"renderable":0},{"_id":"source/images/promise-series-simple-flow.png","path":"images/promise-series-simple-flow.png","modified":0,"renderable":0},{"_id":"source/images/promise-states-flow.png","path":"images/promise-states-flow.png","modified":0,"renderable":0},{"_id":"source/images/w3ctech-meituan.jpg","path":"images/w3ctech-meituan.jpg","modified":0,"renderable":0},{"_id":"source/images/zhangmengxuan.jpg","path":"images/zhangmengxuan.jpg","modified":0,"renderable":0},{"_id":"source/images/zhiyelee.png","path":"images/zhiyelee.png","modified":0,"renderable":0},{"_id":"source/images/frontend-component-practice/component-flow.png","path":"images/frontend-component-practice/component-flow.png","modified":0,"renderable":0},{"_id":"source/images/frontend-component-practice/component-flux.png","path":"images/frontend-component-practice/component-flux.png","modified":0,"renderable":0},{"_id":"source/images/frontend-component-practice/component-lifecycle.png","path":"images/frontend-component-practice/component-lifecycle.png","modified":0,"renderable":0},{"_id":"source/images/frontend-component-practice/legacy-flow.png","path":"images/frontend-component-practice/legacy-flow.png","modified":0,"renderable":0},{"_id":"source/images/frontend-component-practice/smart-box.png","path":"images/frontend-component-practice/smart-box.png","modified":0,"renderable":0},{"_id":"themes/even/source/favicon.ico","path":"favicon.ico","modified":0,"renderable":1},{"_id":"themes/even/source/robots.txt","path":"robots.txt","modified":0,"renderable":1},{"_id":"themes/even/source/css/style.scss","path":"css/style.scss","modified":0,"renderable":1},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.svg","path":"fonts/chancery/apple-chancery-webfont.svg","modified":0,"renderable":1},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.eot","path":"fonts/chancery/apple-chancery-webfont.eot","modified":0,"renderable":1},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.ttf","path":"fonts/chancery/apple-chancery-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.woff","path":"fonts/chancery/apple-chancery-webfont.woff","modified":0,"renderable":1},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.woff2","path":"fonts/chancery/apple-chancery-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/even/source/js/src/even.js","path":"js/src/even.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/blank.gif","path":"lib/fancybox/blank.gif","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/fancybox_loading@2x.gif","path":"lib/fancybox/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/fancybox_loading.gif","path":"lib/fancybox/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/fancybox_overlay.png","path":"lib/fancybox/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/fancybox_sprite.png","path":"lib/fancybox/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/fancybox_sprite@2x.png","path":"lib/fancybox/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/jquery.fancybox.css","path":"lib/fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/jquery.fancybox.js","path":"lib/fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/jquery.fancybox.pack.js","path":"lib/fancybox/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/jquery/jquery.min.js","path":"lib/jquery/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/slideout/slideout.js","path":"lib/slideout/slideout.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/slideout/slideout.min.js","path":"lib/slideout/slideout.min.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/helpers/fancybox_buttons.png","path":"lib/fancybox/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-media.js","path":"lib/fancybox/helpers/jquery.fancybox-media.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/change-theme.md","hash":"c9675e659b0e1f1913acf36d7fd3755a13713761","modified":1633426487222},{"_id":"source/_posts/bitwise-not-and-logical-not.md","hash":"f66c8ea8318e728dde7ac81ff7e2e7fa2c852539","modified":1637838085485},{"_id":"source/_posts/birth.md","hash":"4aad0dac77599349a7bb413d9ca843e8046c67d6","modified":1633352236035},{"_id":"source/_posts/diff-great-software-engineer-from-a-good.md","hash":"e9f1b7f4df6a4f9e12f1e5df2d24c8a662264875","modified":1633352236045},{"_id":"source/_posts/continuation.md","hash":"4fc04f12ddeb5e1d13265b9b89b1a3b8a407dd42","modified":1633439605154},{"_id":"source/_posts/event-custom.md","hash":"b62c5ea2791f010463fd2362c018c55322ce8c82","modified":1633425743355},{"_id":"source/_posts/event-delegate.md","hash":"c4b5ac2a80d82b3d83dd5cb49babbc6635323813","modified":1633425770791},{"_id":"source/_posts/event-do.md","hash":"a1f65ae9b9267351d8fd8643b2bce7200cc7ac7a","modified":1633352236035},{"_id":"source/_posts/event-note.md","hash":"8d4f392fa98e4244a707b59781afffe7e9bafd21","modified":1633352236033},{"_id":"source/_posts/event.md","hash":"58b88557e328a20ff32974c39e2e3780c9b1d490","modified":1633425701238},{"_id":"source/_posts/event-target.md","hash":"866707229672738727bb3d417ad2593c3b163769","modified":1633426256356},{"_id":"source/_posts/extend-and-augment.md","hash":"857cbef75a2a92f591a984bc0320ebe86fccb06c","modified":1633352236038},{"_id":"source/_posts/fe-pipeline.md","hash":"47efbe88c37457ea4e4fd0e9ac3bd37deae236e3","modified":1633439990200},{"_id":"source/_posts/frontend-component-practice.md","hash":"0e5d47da6886d023daf806f76782628dc1199382","modified":1637838014648},{"_id":"source/_posts/frontend-frp.md","hash":"e5e4ab7395be048a512a85fb70f47d482a7b4983","modified":1642598596603},{"_id":"source/_posts/javascript-the-core.md","hash":"97e6ef5441ed4ef42af39cb982ca910aa3937324","modified":1633352236037},{"_id":"source/_posts/frontend-frp-2nd.md","hash":"72aa4af448f42d01b7cbd0dcaf3a661c0bbe0829","modified":1648265593290},{"_id":"source/_posts/hire-slow.md","hash":"4835ae2086b9b5b611a206548a80900e0af591fe","modified":1649069187654},{"_id":"source/_posts/js-linter-history.md","hash":"e8b06b239ed35e518abc0187259056d1dcf7edad","modified":1633439774125},{"_id":"source/_posts/monad.md","hash":"c13a05cf9538b59d9ff3dc17441a90ae47a61c03","modified":1633439690562},{"_id":"source/_posts/js-error-catch.md","hash":"424a7e796ec834d639f0cee45e5f8d197fe43bff","modified":1633426414983},{"_id":"source/_posts/react-design-highlights.md","hash":"37bf8077fde850e460b8ed9df090480bff6ffb89","modified":1633439855246},{"_id":"source/_posts/promise-insight.md","hash":"a6f3a333b7a7e86c9d4f0531f336e71e0bee7476","modified":1633425621060},{"_id":"source/_posts/interview-is-bidirectional.md","hash":"5076379afff5946352efec35f3d06797d00903fd","modified":1643620594468},{"_id":"source/_posts/recruitment-driven-organization.md","hash":"2d2f210dd49937d89db02d49223d2524bca334f7","modified":1637825744261},{"_id":"source/_posts/react-hooks.md","hash":"a09948699efe1a5ec73172d2fbd7765f5b39eafb","modified":1633439142377},{"_id":"source/_posts/typescript-101.md","hash":"9f2cf9c0be0674f5aaff7d1d2f8633ba79bb3e2c","modified":1633439522099},{"_id":"source/_posts/scope-safe-constructor.md","hash":"45bc3066051f08e7043038bc9c4aad26f0162548","modified":1633426609474},{"_id":"source/_posts/the-awakeing-age.md","hash":"06a510d1e952439a870fd2f2debd2e501e264812","modified":1633439322280},{"_id":"source/_posts/typescript-advanced.md","hash":"a0431e699af50d7152113141286d313f4895eaf1","modified":1633439425932},{"_id":"source/_posts/understanding-this-keyword.md","hash":"c572a0327e65f01122c83eb274ecc68a4bdd917b","modified":1633352236037},{"_id":"source/_posts/w3ctech-meituan.md","hash":"4868cd2fa10df97b6c4d9cc7f348941e4d6358c3","modified":1633426439162},{"_id":"source/_posts/yui-domready-after-load.md","hash":"7b27bd6daa917849f469fffe2a3eccdab7a8f180","modified":1633352236038},{"_id":"source/_posts/yui3-event-default-action.md","hash":"72cb81e51188dd1267f03e681c7659b2bd6a510c","modified":1633426068617},{"_id":"source/_posts/yui3-intro.md","hash":"e8d7965ddc19010077620fdf54e34935b8e84b9c","modified":1633352236046},{"_id":"source/_posts/yui3-in-meituan.md","hash":"17794b0cab58cec3709319841fff14cd7f90ac1f","modified":1633352236034},{"_id":"source/_posts/yui3-practice.md","hash":"70012159fb36d251377c7833f334e70b25e8813e","modified":1633426180997},{"_id":"source/tags/index.md","hash":"4e7ed46a5d65df75867d3133d40395852d40a806","modified":1637826335976},{"_id":"source/images/delegate.jpg","hash":"9d20c5d0d13198f6a740def2929307d21661d2a1","modified":1633352291889},{"_id":"source/images/banner-top1.jpg","hash":"4b46871a95c8d3b39be80d2ffccc580e4ff7a9ad","modified":1633352291884},{"_id":"source/images/error-flow.png","hash":"52eb57177722fb807ae7e9ef4ded99ba71a34488","modified":1633352291888},{"_id":"source/images/logo.png","hash":"231f5c3497e309892a05ebd464323958daa9aedb","modified":1633352291888},{"_id":"source/images/event-default-action.png","hash":"845446ba8a406949526fdb39287514f6c2e45c23","modified":1633352291889},{"_id":"source/images/mt-fe-architecture.png","hash":"f89aeec23af2771d693575b96d0f5453ad08e94b","modified":1633352291888},{"_id":"source/images/notSevenDay1.png","hash":"8888259d6a71b648a7100e498229f828a34c42b8","modified":1633352291877},{"_id":"source/images/panweizeng.jpeg","hash":"433ee71fca427066c527a85499ded84b5a691f1f","modified":1633352291885},{"_id":"source/images/promise-series-flow.png","hash":"8213fdcaab3ca6a3b30a4c9e21d6a8ae56df8d4d","modified":1633352291881},{"_id":"source/images/promise-states-flow.png","hash":"b2e160b9ab569149b887d458f329bce9a49c0d42","modified":1633352291882},{"_id":"source/images/promise-series-simple-flow.png","hash":"6c3d0af641e2928c232d3ac7d11f4554bcdf1a64","modified":1633352291883},{"_id":"source/images/zhiyelee.png","hash":"2c2fd9e9fad2314a027c37dff1ecfeb7c90cc037","modified":1633352291881},{"_id":"source/images/zhangmengxuan.jpg","hash":"63b74f005c01cb72c17e00e0c5a65d433ac62730","modified":1633352291882},{"_id":"source/images/frontend-component-practice/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1633352291877},{"_id":"source/images/frontend-component-practice/legacy-flow.png","hash":"c220c2158875c6787aa2f7d37e59d0387c227107","modified":1633352291880},{"_id":"source/images/frontend-component-practice/smart-box.png","hash":"47ed9b93e71012e7ca06ed9602bc395fd0dd4d24","modified":1633352291880},{"_id":"source/images/DIY.jpg","hash":"9fce1ac994accf1dae0ef4aaa403099bc55e4a15","modified":1633352291886},{"_id":"source/images/bubble-girl.jpg","hash":"29d758d430822567c110adf56623b8af881c181e","modified":1633352291884},{"_id":"source/images/logo.fw.png","hash":"98f9b3a60c09e26e25f77702ce1049113b4b9a59","modified":1633352291883},{"_id":"source/images/meituan-fe-job.png","hash":"b971bdb4baad297044854c9bd22ed4b9d68f284e","modified":1633352291887},{"_id":"source/images/mouse.png","hash":"c8713d425fa472a85c79d38de0ab5e7362df2819","modified":1633352291886},{"_id":"source/images/office-2.jpg","hash":"c6ee8382028c023981c22cd32b67009b9c827cbd","modified":1633352291885},{"_id":"source/images/w3ctech-meituan.jpg","hash":"32d807ac8cde835985bba75a27fd8786eb426caf","modified":1633352291887},{"_id":"source/images/frontend-component-practice/component-flow.png","hash":"e1be377d2d93a39e5fe9ca393d1a3b04e08bff51","modified":1633352291878},{"_id":"source/images/frontend-component-practice/component-lifecycle.png","hash":"5e0705e3b2f663d4a9bf370868f196276798a185","modified":1633352291879},{"_id":"source/images/office-1.jpg","hash":"a41271ca57cb78c4344eed1f7c2814b4bc8d027c","modified":1633352291887},{"_id":"source/images/metro.png","hash":"da8f39f2122fbe1a3a3f5db128dd29988969fb09","modified":1633352291882},{"_id":"themes/even/.eslintrc","hash":"0fcde446104e73d7159f8574f28fe661acdb384e","modified":1633424575182},{"_id":"themes/even/.gitignore","hash":"32753aa9232f2d5dbf10b3fb8de8f1426f264ac1","modified":1633424575182},{"_id":"themes/even/.eslintignore","hash":"de3f06c672357f312d670c9fd9cc58c2b1a0864c","modified":1633424575181},{"_id":"themes/even/LICENSE","hash":"187fc7598698ac70c7ab9dffaa08883fd8b91958","modified":1633424575182},{"_id":"themes/even/.all-contributorsrc","hash":"5e55677518a2d881c8a27821381da925365a8efa","modified":1633424575181},{"_id":"themes/even/README.md","hash":"18d6bbd43b5bdf8875a2328a3ef5834e92e9cd96","modified":1633424575182},{"_id":"themes/even/_config.yml.example","hash":"a480a7e2a2750a2d83cb8cd443dafe3d37dda711","modified":1685458219023},{"_id":"themes/even/package.json","hash":"5906a7d9489a93b63dffe902b851118c80b84013","modified":1685458219027},{"_id":"themes/even/package-lock.json","hash":"e331b6c669a12ecbc89c6f3442698a71cdf1e478","modified":1649069555838},{"_id":"themes/even/_config.yml","hash":"ba6ec1f9abd7edf19a148f6a1329243c9b402236","modified":1649069475765},{"_id":"themes/even/languages/default.yml","hash":"42df6a0f6f21778f20779f6b0336df65a59c890d","modified":1633424575182},{"_id":"themes/even/languages/zh-CN.yml","hash":"f7da3fc6252df9d19abd1321b3c5a8c2ad13cca7","modified":1633424575182},{"_id":"themes/even/languages/zh-TW.yml","hash":"c275550aded8b4173f9965a627eedf1d727f3da3","modified":1633424575182},{"_id":"themes/even/layout/_layout.swig","hash":"00dc81c1d5751144a59de05db415c51954973230","modified":1633424575182},{"_id":"themes/even/layout/categories.swig","hash":"a14078a46bc45e1e02c1bc450dc894d693975707","modified":1633424575184},{"_id":"themes/even/layout/archive.swig","hash":"fde460d3c38ad132ef5effbdbaf66c48c8296c3b","modified":1633424575184},{"_id":"themes/even/layout/page.swig","hash":"a6cf4e5bc3cb9a9ea6a6ed3b074cff6d69073f14","modified":1633424575184},{"_id":"themes/even/layout/post.swig","hash":"88f3f7538c75271133d00f3b1a0d0a40ec953c8d","modified":1633424575184},{"_id":"themes/even/layout/tags.swig","hash":"ce15107017d6e1663f2b0be92d7758622e17861f","modified":1633424575184},{"_id":"themes/even/layout/index.swig","hash":"4bc20e7616ace7cf12c17328cb84b8203b763b09","modified":1633424575184},{"_id":"themes/even/.github/workflows/deploy.yml","hash":"c3451c1d908b860d071f670cde130ea4d0ba8e83","modified":1633424575182},{"_id":"themes/even/layout/_macro/archive.swig","hash":"641f02ccabc1cc59ecc73f2a40516088495e9ff9","modified":1633424575182},{"_id":"themes/even/layout/_macro/post.swig","hash":"671faa8fc3374ce900f57487d9e53bc8a5f2f592","modified":1633424575182},{"_id":"themes/even/layout/_script/analytics.swig","hash":"b1fe6eb7e42594383dba5e5a6a9ed655158e1f25","modified":1633424575184},{"_id":"themes/even/layout/_script/comments.swig","hash":"76b88bca6080243ee1054a98053b04db57d423d7","modified":1633424575184},{"_id":"themes/even/languages/en.yml","hash":"42df6a0f6f21778f20779f6b0336df65a59c890d","modified":1633424575182},{"_id":"themes/even/source/robots.txt","hash":"eed1ebad39b24e7942fcaf8f27da7487eb9f956e","modified":1633424575189},{"_id":"themes/even/layout/_script/theme.swig","hash":"ef8207e22d10ba11821749e1dc0041cf0104d7e3","modified":1633424575184},{"_id":"themes/even/layout/_partial/comments.swig","hash":"f60c042be03c113377900f6fd46635f50c1a3c80","modified":1633424575183},{"_id":"themes/even/layout/_script/counter.swig","hash":"fbd7b08c88440a5c174ec6c6be91a0236d63a3f0","modified":1685458219026},{"_id":"themes/even/layout/_script/push.swig","hash":"494cabb33f057de618e71eb163420d98320d4ed3","modified":1685458219026},{"_id":"themes/even/layout/_partial/footer.swig","hash":"418855b4ace54609431c52e091506e7a6180d433","modified":1633424575183},{"_id":"themes/even/layout/_partial/head.swig","hash":"b18d4f4b5ce4ea3c3ba5c3d4a1300f9fc3a5b15e","modified":1633424575183},{"_id":"themes/even/layout/_partial/pagination.swig","hash":"caab675c3c1df76d5c047d5c4dc42ffcb79caa9a","modified":1633424575183},{"_id":"themes/even/layout/_partial/header.swig","hash":"2c3a0fba88605a98b56528437e1c2160942cdba4","modified":1633424575183},{"_id":"themes/even/layout/_partial/slideout.swig","hash":"ecfaa8a922eef7d0c6eb05592d390ae36d6da9e3","modified":1633424575183},{"_id":"themes/even/source/css/_base.scss","hash":"ffd8c02b4e1dde0433458b0fef02f01a1fd0f1dd","modified":1633424575184},{"_id":"themes/even/layout/_script/_analytics/baidu-analytics.swig","hash":"707864f34f7750a438817acef927f1e4075c5cf8","modified":1633424575183},{"_id":"themes/even/layout/_script/_analytics/google-analytics.swig","hash":"5143d9e510bfd98723a009780ba23aebade21b29","modified":1633424575183},{"_id":"themes/even/layout/_script/_comments/changyan.swig","hash":"a14f06c0ab2eff5c1039cbf199328a62fdc3def8","modified":1633424575183},{"_id":"themes/even/layout/_script/_comments/cusdis.swig","hash":"8bc1430e52c7ba6700430628df1fc7d8b7c6b0c3","modified":1633424575183},{"_id":"themes/even/layout/_script/_comments/disqus.swig","hash":"52009d5092377937af79ea9e391262d34df6d36f","modified":1633424575183},{"_id":"themes/even/source/favicon.ico","hash":"0505cec3b99707df7a681de37177b3cf7950cc5d","modified":1633424575186},{"_id":"themes/even/layout/_script/_comments/livere.swig","hash":"dfc42123f637b775cf85967476cb8439d19dbe4c","modified":1633424575183},{"_id":"themes/even/layout/_script/libs.swig","hash":"668e0939e5c22bcf5437afdd398a7fd16c0059a0","modified":1633424575184},{"_id":"themes/even/layout/_script/_comments/utterances.swig","hash":"5772689ec4c0a772d0e51311535080544fcb2bdd","modified":1633424575184},{"_id":"themes/even/layout/_script/_comments/gitalk.swig","hash":"869e4e4bca23ccd9be61fa671dd2b327b5b6e86c","modified":1633424575183},{"_id":"themes/even/layout/_partial/_footer/social.swig","hash":"45159378a4abd916367a5a10cf39eabb0d460c70","modified":1633424575182},{"_id":"themes/even/layout/_partial/_head/meta.swig","hash":"067665118c38c2f579f801ff53bab0d32b28109c","modified":1633424575183},{"_id":"themes/even/layout/_partial/_post/copyright.swig","hash":"517533bf6cb5292a55be11036ef72d699acc33ef","modified":1633424575183},{"_id":"themes/even/layout/_partial/_post/reward.swig","hash":"2a026a5252082c5cc9fbbb5aedf29770d1d56e62","modified":1633424575183},{"_id":"themes/even/source/css/_variables.scss","hash":"a32d1aa88bf6c81af01a0ad87d0cdc9beb17bfa1","modified":1633424575186},{"_id":"themes/even/source/css/style.scss","hash":"814c81baf2d6fe1acdaf5319c3fa796c260a2d3c","modified":1633424575186},{"_id":"themes/even/layout/_partial/_post/toc.swig","hash":"3eb2de1ad24607af9497663149730292227022cf","modified":1633424575183},{"_id":"themes/even/source/css/_common/_animation.scss","hash":"f32d2444f0ab4dcb8b811ae1bccae6073f21a988","modified":1633424575184},{"_id":"themes/even/source/css/_common/_normalize.scss","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1633424575184},{"_id":"themes/even/source/css/_common/_utils.scss","hash":"9ec5b1f6cf47260eba2729ff4931111b808644f0","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_archive.scss","hash":"c0cd7dc3462f7726428a30f5852fcf5577df5961","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_back-to-top.scss","hash":"de94a4546dad90f588e902c9641d94b31fd6625b","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_categories.scss","hash":"96f47000d25ef4e0e948f8f43fa4e2983ff0d746","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_header.scss","hash":"4a3e92feef33bed0021f1a65a801c24ee7d5946f","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_footer.scss","hash":"76f3a72440be8aa1e93d8ddc5ea958777d1545ab","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_iconfont.scss","hash":"6effdc886469ee76f3c66451ef4b04baaecd48ef","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_mathjax.scss","hash":"4005390d40cfc457e4d07dbaf78b718e01b651f4","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_mobile.scss","hash":"0d1c60bd92f8e5db01e7843934251152ec4d6d44","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_pagination.scss","hash":"b24db39534e180ebcebba2e81d91d9f1d534eea1","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_post.scss","hash":"655e8f56328a220b64d54c400990165a015fecd9","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_slideout.scss","hash":"e4820a42698f647a824575b234835b9ce4ac4797","modified":1633424575186},{"_id":"themes/even/source/css/_partial/_tags.scss","hash":"fb4bf54b34291d5b72598a7ba4d3e370c8ad9383","modified":1633424575186},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.eot","hash":"fef78bd502f74fdbf0316123e176454cb3eb4e50","modified":1633424575186},{"_id":"themes/even/source/css/_custom/_custom.scss","hash":"d0873cd8554d515282a6792fcc3f5bd4a256b7a6","modified":1649069402126},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.ttf","hash":"5e25c531901d8a9e37ab45a7f4acdbe5324b51b6","modified":1633424575187},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.woff","hash":"95beafe485d4bdbddfecbcf3b2bc9b2d9cf5f5c5","modified":1633424575187},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.woff2","hash":"afd0f74128f1c21c5a542b2e100870e74da663b6","modified":1633424575187},{"_id":"themes/even/source/js/src/even.js","hash":"e15f39b54da71226e8dca3fa2fa9be8dda1f5e75","modified":1633424575187},{"_id":"themes/even/source/lib/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1633424575187},{"_id":"themes/even/source/lib/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1633424575187},{"_id":"themes/even/source/lib/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1633424575187},{"_id":"themes/even/source/lib/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1633424575188},{"_id":"themes/even/source/css/_partial/_footer/_copyright.scss","hash":"afbc0f90c674e5cd5fd7509eb1296d60b999d4e1","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_footer/_social.scss","hash":"bca6a1036951c2475278bfbd3a5ce51ff861e9a3","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_header/_logo.scss","hash":"109073dde15146d835bf06faa2f256d1ac658315","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_header/_menu.scss","hash":"454214ab2b5a0ca17d6872068c52bfd01ac02fdc","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_post/_code.scss","hash":"4accdb9fdda9818c700ce309f28575de18e04228","modified":1633424575185},{"_id":"themes/even/source/css/_partial/_post/_copyright.scss","hash":"3a53f708b9dec34426460e3ad7cb29c335e1f7b8","modified":1633424575186},{"_id":"themes/even/source/css/_partial/_post/_footer.scss","hash":"9f2ab0ac20b2a8bfd315febd387c399f72f43d10","modified":1633424575186},{"_id":"themes/even/source/css/_partial/_post/_reward.scss","hash":"66ec9faa27ed879dc9a2ca59c73ed6bfd5e61dcd","modified":1633424575186},{"_id":"themes/even/source/lib/slideout/slideout.min.js","hash":"7166ed307b771398a593fc3d4f1c5d93fbbe19bb","modified":1633424575189},{"_id":"themes/even/source/lib/slideout/slideout.js","hash":"81ec76a63f6f4bbdfc801d822182ab8afa9068fe","modified":1633424575189},{"_id":"themes/even/source/css/_partial/_post/_header.scss","hash":"f655fc254804e59d1426471f41127f26d06432b6","modified":1633424575186},{"_id":"themes/even/source/css/_partial/_post/_toc.scss","hash":"5806ce8d5c4e2d70e12e03ab48327bdebc68c67b","modified":1633424575186},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1633424575188},{"_id":"themes/even/source/lib/fancybox/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1633424575188},{"_id":"themes/even/source/css/_partial/_post/_content.scss","hash":"7cf29c7af82c31d82f09dedfca09ea2d863b92ff","modified":1637675681286},{"_id":"themes/even/source/fonts/chancery/apple-chancery-webfont.svg","hash":"a94e508f306a742637653f98c6e8827b11d3c142","modified":1633424575187},{"_id":"themes/even/source/lib/jquery/jquery.min.js","hash":"88523924351bac0b5d560fe0c5781e2556e7693d","modified":1633424575189},{"_id":"source/images/frontend-component-practice/component-flux.png","hash":"7cb86d2125e668a9c434ef0d31b62105bf13601e","modified":1633352291879},{"_id":"public/atom.xml","hash":"33e5b0b5e7c713637999535f451186e59fceab52","modified":1685457651666},{"_id":"public/tags/index.html","hash":"d4ca22ab9e4bc4e436e328aaade6b7bc9ef1f260","modified":1685458231537},{"_id":"public/hire-slow/index.html","hash":"5a1534b280d2aa5b9d6984c6477213dabb170036","modified":1685458231537},{"_id":"public/frontend-frp-2nd/index.html","hash":"96f510395a330a39bac1c411cfadc5fa1726878a","modified":1685458231537},{"_id":"public/frontend-frp/index.html","hash":"42e4e36d6d57385e8b379819156287868a406820","modified":1685458231537},{"_id":"public/recruitment-driven-organization/index.html","hash":"af029a6c0b26abe2154ff32fc5dec64e34884541","modified":1685458231537},{"_id":"public/react-hooks/index.html","hash":"a1a0927465a93674d20812f084701841afa97075","modified":1685458231537},{"_id":"public/typescript-advanced/index.html","hash":"fe0474b0954d560709d1501677e60a4a6b313acd","modified":1685458231537},{"_id":"public/the-awakeing-age/index.html","hash":"15830e73228b70500d8716ead576b671a6b75ddc","modified":1685458231537},{"_id":"public/typescript-101/index.html","hash":"41dd066fb106f5f46a88050a9b694f78df338239","modified":1685458231537},{"_id":"public/monad/index.html","hash":"8dd98d9b0009e3ed703b8e6128b5ceabcb8e01c9","modified":1685458231537},{"_id":"public/js-linter-history/index.html","hash":"17d91a5e7e594785195484ea9966add09d2562a5","modified":1685458231537},{"_id":"public/continuation/index.html","hash":"fe4c6de54b32f2d067a6c292a7529df433fd92ee","modified":1685458231537},{"_id":"public/react-design-highlights/index.html","hash":"c9494a9a9e43ff94487025e99cb23fa58e8822dd","modified":1685458231537},{"_id":"public/fe-pipeline/index.html","hash":"991ab22216517e5866e03bc55901bed298820772","modified":1685458231537},{"_id":"public/diff-great-software-engineer-from-a-good/index.html","hash":"5eb75b8a7cb2c5b12b28c6272f9236c6504403f4","modified":1685458231537},{"_id":"public/yui3-in-meituan/index.html","hash":"7ab3dab8425fee40f7a716596c6a34ee160aced8","modified":1685458231537},{"_id":"public/change-theme/index.html","hash":"135cf85cf2208ba684cd442493f8ccc1aaf3f93e","modified":1685458231537},{"_id":"public/w3ctech-meituan/index.html","hash":"de891d9bb9971d99e57658272b7ba027bedcb4d4","modified":1685458231537},{"_id":"public/yui-domready-after-load/index.html","hash":"32e251a66ad52b1dbc3eb72a209c8924c3629a6d","modified":1685458231537},{"_id":"public/event-note/index.html","hash":"8ae92f1f035a9cbba3b1f2d4999c42aea15ae17e","modified":1685458231537},{"_id":"public/birth/index.html","hash":"b2f3b02a7583ffbea8dc9d7139d0d2d6a4c33a8f","modified":1685458231537},{"_id":"public/archives/index.html","hash":"e660b2a58b9c6091f3e4027c6390a66241717f85","modified":1685458231537},{"_id":"public/archives/page/2/index.html","hash":"3d39b37b5d32c857b881075668949f04c7a71318","modified":1685458231537},{"_id":"public/scope-safe-constructor/index.html","hash":"d367861f6b819f3425dc92d9a37e966528e6fc8d","modified":1685458231537},{"_id":"public/archives/page/3/index.html","hash":"34e2780b8690ff5258f0222e48f2e7f9842632b6","modified":1685458231537},{"_id":"public/archives/page/4/index.html","hash":"a6373446c64b6221c117d9a18c3f1558a50bb388","modified":1685458231537},{"_id":"public/archives/2011/index.html","hash":"abec504dfa8c5b56adecee97ff2a8c6ad07e0bce","modified":1685458231537},{"_id":"public/archives/2011/page/2/index.html","hash":"7e4b2132d199920d51d24ee7a83c5346cc095fc2","modified":1685458231537},{"_id":"public/archives/2011/03/index.html","hash":"4cca8c3e8256789e9ad930cfc42b0fdaf9a5bef7","modified":1685458231537},{"_id":"public/archives/2011/08/index.html","hash":"246caf83be901282662416691c6e8dd93e1e9e80","modified":1685458231537},{"_id":"public/archives/2011/05/index.html","hash":"e03621026f8956c35a816e1f67f984516006491e","modified":1685458231537},{"_id":"public/archives/2011/06/index.html","hash":"062060067f204b3a707ee7696e1d085a0029a17b","modified":1685458231537},{"_id":"public/archives/2011/12/index.html","hash":"623ede9b3c0efa1d76e25b76ce99ee3b8b758073","modified":1685458231537},{"_id":"public/archives/2012/index.html","hash":"fccf027a2c209b1d5e596de46aaecaf0e1df01c2","modified":1685458231537},{"_id":"public/archives/2012/02/index.html","hash":"5fdd53646eb3b5fe9137d868f87b19c4b6ac9f38","modified":1685458231537},{"_id":"public/archives/2012/07/index.html","hash":"8b12387d104293bdf2515cda755c483b32cc3f41","modified":1685458231537},{"_id":"public/archives/2011/11/index.html","hash":"84bee001ab67cf501c1bf98c353d2abfc3b11b83","modified":1685458231537},{"_id":"public/archives/2012/11/index.html","hash":"251524fb0500da333339f51113c62e5a8aa5d1b7","modified":1685458231537},{"_id":"public/archives/2013/01/index.html","hash":"ee4a8690ea75cb31cc1f53b5cc9521d5939a3b0b","modified":1685458231537},{"_id":"public/archives/2013/index.html","hash":"6acf3c2c947179e80a53c536b01bff83882d8699","modified":1685458231537},{"_id":"public/archives/2012/09/index.html","hash":"f5dac38c8291b47a40b510e29954a49910a300bd","modified":1685458231537},{"_id":"public/archives/2013/04/index.html","hash":"bb6052c5ff5a570863e10efa26ad90afaece766b","modified":1685458231537},{"_id":"public/archives/2014/index.html","hash":"627e0b54b840f4249786d9af642f50e8844430f7","modified":1685458231537},{"_id":"public/archives/2014/02/index.html","hash":"461fc8ba73750740ad841c581f3bbe729e5b11bd","modified":1685458231537},{"_id":"public/archives/2013/10/index.html","hash":"77740f55287fc024780bc4d45efa517ac299af73","modified":1685458231537},{"_id":"public/archives/2013/05/index.html","hash":"a4e42997dff88ea3d5c12a65ae07cac3c2a50d49","modified":1685458231537},{"_id":"public/archives/2014/05/index.html","hash":"0ee7000d5f79d4e1e05309d6184e61cfbb4985d8","modified":1685458231537},{"_id":"public/archives/2015/index.html","hash":"ac5280f57bae5656d2e9a56a8203cba551d85727","modified":1685458231537},{"_id":"public/archives/2015/06/index.html","hash":"3d420c8e2983c1c22021be63619f1f27f77b00fd","modified":1685458231537},{"_id":"public/archives/2015/10/index.html","hash":"1742dc07e2e71ac40928ad49d2db2e30197fa13e","modified":1685458231537},{"_id":"public/archives/2017/index.html","hash":"3d79b40ad265be9c010d9f98ab2554ae4dae2785","modified":1685458231537},{"_id":"public/archives/2017/10/index.html","hash":"aae274193f428a63e8a955c7a95e9bd01a3a3608","modified":1685458231537},{"_id":"public/archives/2018/index.html","hash":"6841e9a9f5dfdc6ac9dfca994c62d2da87c20c9e","modified":1685458231537},{"_id":"public/archives/2018/05/index.html","hash":"f6e30439f244ba18c7d762919f1b048b65b85012","modified":1685458231537},{"_id":"public/archives/2018/01/index.html","hash":"4a2e6b788617447f99a732231d351c697a4e466f","modified":1685458231537},{"_id":"public/archives/2018/10/index.html","hash":"e87f19357eed4cd9f82fec5c27e547eb81fc4b86","modified":1685458231537},{"_id":"public/archives/2019/index.html","hash":"cd0b8b0e365a25a36b80dcad479d4ef1355c5c83","modified":1685458231537},{"_id":"public/archives/2019/06/index.html","hash":"ca116ca5e41c44919f6c3564241846a6961f9c3b","modified":1685458231537},{"_id":"public/archives/2020/05/index.html","hash":"efde2a405a8a1418e5b464b02bee9016676eb3a8","modified":1685458231537},{"_id":"public/archives/2021/index.html","hash":"3a380f7ff5cc8fff53d8395f9738d080fc4c452b","modified":1685458231537},{"_id":"public/archives/2020/index.html","hash":"a27893c4f88cdc288364c128877399b2a65a9b0f","modified":1685458231537},{"_id":"public/archives/2021/05/index.html","hash":"4fb978ad585ef6d132a40120d9185e5354aff59d","modified":1685458231537},{"_id":"public/archives/2021/08/index.html","hash":"8a9ae9866ab816bf51398f8d0d42e7b3a3f2e69d","modified":1685458231537},{"_id":"public/archives/2021/11/index.html","hash":"7de9203ef354238414322a7846513286aeb07323","modified":1685458231537},{"_id":"public/archives/2022/index.html","hash":"0b544f9a77b4e71fcba9a34fe89b92fcd12c25b5","modified":1685458231537},{"_id":"public/archives/2022/01/index.html","hash":"4f627a88efe8be8aa0679f1f9a9234f09f4cd4f2","modified":1685458231537},{"_id":"public/archives/2022/03/index.html","hash":"d3bdc96e133d90b0f98bc0293fe631e7e1d300db","modified":1685458231537},{"_id":"public/archives/2022/04/index.html","hash":"e97dec8f9e8038c46abf3f16b51a9282586d78c4","modified":1685458231537},{"_id":"public/index.html","hash":"71810765fb2a5f073ab2856e859293a6289b0ec9","modified":1685458231537},{"_id":"public/tags/Self/index.html","hash":"8f1221f215930c14e0a30d2805779b50d7f75ca4","modified":1685458231537},{"_id":"public/tags/Life/index.html","hash":"2bd319d293f963b25b4025350d1d5db84d609749","modified":1685458231537},{"_id":"public/tags/Metro/index.html","hash":"6dd0d1ef07016c4d3302c08ed4ff598cd4985740","modified":1685458231537},{"_id":"public/tags/BitwiseNOT/index.html","hash":"99081f32f5a7d387b28b2f01e062112e9535756f","modified":1685458231537},{"_id":"public/tags/LogicalNOT/index.html","hash":"231ecde6e7e02474ad2ccf1453d08aa666638006","modified":1685458231537},{"_id":"public/tags/JavaScript/index.html","hash":"234c8a0974eb8c78d6c70500292a7216de12eaf2","modified":1685458231537},{"_id":"public/tags/Functional-Programming/index.html","hash":"1f4d70e163ed86cbf97a09c0aaa37dd60d7f34d4","modified":1685458231537},{"_id":"public/tags/Continuation/index.html","hash":"bbc53b2ede785d366cd7d25ace56adb8d2e91e24","modified":1685458231537},{"_id":"public/tags/Promise/index.html","hash":"f82718dc0d25a5033859597c373476009a8299bd","modified":1685458231537},{"_id":"public/tags/Y-delegate/index.html","hash":"4f96e9db8d6c2f946f8834ce5873afff80cc9436","modified":1685458231537},{"_id":"public/tags/YUI/index.html","hash":"73ba37dafc9f657ce5775be5031c3515ba129e4b","modified":1685458231537},{"_id":"public/tags/Programming/index.html","hash":"4bb43d848e30d08c1f320e53370eac53af587358","modified":1685458231537},{"_id":"public/tags/YUI/page/2/index.html","hash":"afd665df19f156938d49cc61804fdc0629aa3765","modified":1685458231537},{"_id":"public/tags/Event/index.html","hash":"94f5d0d9125020a4dcece6d4fae266ec7a891638","modified":1685458231537},{"_id":"public/tags/Y-Event/index.html","hash":"c17d8ca5fac351d226dba64ab72380618aabbe10","modified":1685458231537},{"_id":"public/tags/OOP/index.html","hash":"31a5b5bb8023450081cddb948f8fd8d979f50a02","modified":1685458231537},{"_id":"public/tags/Middleware/index.html","hash":"f03d0cfaed305e1d3321db97818bc0fa8ce8002d","modified":1685458231537},{"_id":"public/tags/Pipeline/index.html","hash":"77094e94cd989e2afdd9cab65b25ca0803c25731","modified":1685458231537},{"_id":"public/tags/Stream/index.html","hash":"591bb876fd2fe815e101af0f0b9e6d4ff403e831","modified":1685458231537},{"_id":"public/tags/FrontEnd/index.html","hash":"539d926872276e9b4c8b7bc96cf7324665fe301c","modified":1685458231537},{"_id":"public/tags/front-end/index.html","hash":"abce4d46ac84f848d92da13188435f52db9158c3","modified":1685458231537},{"_id":"public/tags/component/index.html","hash":"a2fb437e7155161387824f2e8179e2a08be9f8b9","modified":1685458231537},{"_id":"public/tags/reduce/index.html","hash":"de5ee4129e749d6a19f352a6bf26bd62a39c4073","modified":1685458231537},{"_id":"public/tags/Recruitment/index.html","hash":"72277a90f43c7aa87518cc73d3c709afb4f9538d","modified":1685458231537},{"_id":"public/tags/Functional-Reactive-Programming/index.html","hash":"c839e73fe155fa811c734c36eca12422d7acdd6f","modified":1685458231537},{"_id":"public/tags/RxJS/index.html","hash":"af26ba5b3b79987d6a1ec25e04fc58be9c1947df","modified":1685458231537},{"_id":"public/tags/Organization/index.html","hash":"ff7a7913396073346038ef062d0967fb957b4b01","modified":1685458231537},{"_id":"public/tags/Closure/index.html","hash":"d58dd4e41cf157f59f160a250d583223ca9a1397","modified":1685458231537},{"_id":"public/tags/Execution-Context/index.html","hash":"4794a422a1b21247b99b23b81b1fa64ae2010d9a","modified":1685458231537},{"_id":"public/tags/turbo/index.html","hash":"48b5e0eb291b827adc20a7a86e7b12fe6ee83602","modified":1685458231537},{"_id":"public/tags/Interview/index.html","hash":"3f3e677a43c9446ba88fd40bd324a4a1d3f9509e","modified":1685458231537},{"_id":"public/tags/Prototype-Chain/index.html","hash":"8836abb86cc8a4555b670ddbc9157e3f1c9d06c9","modified":1685458231537},{"_id":"public/tags/Linter/index.html","hash":"2fa95cd0eeef76fe7eac09f8e754e26f6744075e","modified":1685458231537},{"_id":"public/tags/ESLint/index.html","hash":"de56e60171fe959e8638f59083fa03b0337c1365","modified":1685458231537},{"_id":"public/tags/JSLint/index.html","hash":"d6a9ba0a7a4f1c0a874f4fda0934d20dcdb66fbe","modified":1685458231537},{"_id":"public/tags/React/index.html","hash":"ec7ce17fb25b17a186684f931c95aa060926da60","modified":1685458231537},{"_id":"public/tags/Virtual-DOM/index.html","hash":"828bbd877315fb67ffebbcb6babd2acac6e4c676","modified":1685458231537},{"_id":"public/tags/Fiber/index.html","hash":"4fe7ccc35a58f34ee95cc650c6d7fc73ccb2dc2b","modified":1685458231537},{"_id":"public/tags/Monad/index.html","hash":"cca72868dd060953c11ac2d2c0991125c18e994c","modified":1685458231537},{"_id":"public/tags/Hooks/index.html","hash":"fb38d0067234b568a20d9d3e48c248c20213062f","modified":1685458231537},{"_id":"public/tags/try-cacth/index.html","hash":"50d7fa41e1b8c3f39255491d0637b508a2958953","modified":1685458231537},{"_id":"public/tags/onerror/index.html","hash":"ac5f1a1afc19753667ab68cfa89dc8a8cead49a9","modified":1685458231537},{"_id":"public/tags/Web/index.html","hash":"c9f0b89972b986b40c981764c0522ff4195deb90","modified":1685458231537},{"_id":"public/tags/Series/index.html","hash":"c94b81311300a1fc7593177c2c2c2b6a8e7b3ce5","modified":1685458231537},{"_id":"public/tags/Review/index.html","hash":"a6f6497bdd284df5e320c01fba2ca59ff22dd723","modified":1685458231537},{"_id":"public/tags/TypeScript/index.html","hash":"1d874cf057b22a74f6aa17759fd3b84593f4fc74","modified":1685458231537},{"_id":"public/tags/W3CTech/index.html","hash":"54f5373e91dccc30e4575b1535905f276cbc643b","modified":1685458231537},{"_id":"public/tags/Type-System/index.html","hash":"6e65eeec96c035930c7c320377e57cc90fc3fbdd","modified":1685458231537},{"_id":"public/tags/Meituan/index.html","hash":"f04140c547edf8656dfcdff5f67608427ced5870","modified":1685458231537},{"_id":"public/tags/YUI2/index.html","hash":"683ab440bd3c5bd71b0d756006f295d609415281","modified":1685458231537},{"_id":"public/tags/This/index.html","hash":"40bfd18826523d2ae0a3192e8a0be894069135a6","modified":1685458231537},{"_id":"public/tags/domready/index.html","hash":"cde3d37828b10f589d98f72ddd408ec2507003e3","modified":1685458231537},{"_id":"public/tags/Scope-safe-Constructor/index.html","hash":"38991814f89678a733e0d8da09bd65cf39817465","modified":1685458231537},{"_id":"public/tags/load/index.html","hash":"2aad3b94abf0cfef7254da3fe29b8c740009ca97","modified":1685458231537},{"_id":"public/tags/Framework/index.html","hash":"eb52ce4a1733b4922117353bf828807fd1948245","modified":1685458231537},{"_id":"public/tags/Instanceof/index.html","hash":"62ab4c40189c1eda42e9bf4852bab46012c4989b","modified":1685458231537},{"_id":"public/interview-is-bidirectional/index.html","hash":"06e13a9261b1dada8c6000ff3409e29d2a8c341e","modified":1685458231537},{"_id":"public/promise-insight/index.html","hash":"6e98bf32a5a759093161c95ec0409d75d8049055","modified":1685458231537},{"_id":"public/frontend-component-practice/index.html","hash":"10aefdc2b39c3887f09a3f6697991d5c7b67db4f","modified":1685458231537},{"_id":"public/bitwise-not-and-logical-not/index.html","hash":"51d1d6dffffbf6aa52fc200193464a7515169239","modified":1685458231537},{"_id":"public/yui3-event-default-action/index.html","hash":"62d679120620b3eddc11f09f0dcb75d1c7d20fa1","modified":1685458231537},{"_id":"public/event-delegate/index.html","hash":"5f6b29a46f0c40c72ff7035bd088f1881544427f","modified":1685458231537},{"_id":"public/yui3-practice/index.html","hash":"9b2d83cf379554d84cace9d19d9fe51bf2713ddd","modified":1685458231537},{"_id":"public/event/index.html","hash":"f08b420b0cee6ec191f565c34c9492aece08c7e8","modified":1685458231537},{"_id":"public/event-do/index.html","hash":"977c0ed36e90718c7843a9ca21b0e20aa4af40d2","modified":1685458231537},{"_id":"public/event-custom/index.html","hash":"34ce5ae9ac5fa32bbfac593b8a0f33fa668b2381","modified":1685458231537},{"_id":"public/event-target/index.html","hash":"618bdd0b41fc38ae85e0348a332ff8afc6732022","modified":1685458231537},{"_id":"public/extend-and-augment/index.html","hash":"e5fa6923e94ad5a203d3eb6ff084b79322ba8c55","modified":1685458231537},{"_id":"public/javascript-the-core/index.html","hash":"8009df5b45485e86937498a46b84dfa38e51cb6d","modified":1685458231537},{"_id":"public/js-error-catch/index.html","hash":"ed6b46620dc7f13e3f8e74181b90cc532a68a3a9","modified":1685458231537},{"_id":"public/understanding-this-keyword/index.html","hash":"d943b3f2a20a1faabaad83a4ddc332b74eaba28c","modified":1685458231537},{"_id":"public/yui3-intro/index.html","hash":"32cffd198fe0fd32de8067cb537a8818acbb4218","modified":1685458231537},{"_id":"public/page/3/index.html","hash":"3736fb9057f953a8039fb17262d807f8ca943dd6","modified":1685458231537},{"_id":"public/page/4/index.html","hash":"f21b305b84d6279c707ada0c09697fa43fb83f84","modified":1685458231537},{"_id":"public/page/2/index.html","hash":"34fbdd4fceed91cbc91051b1375597a1316080b5","modified":1685458231537},{"_id":"public/favicon.ico","hash":"0505cec3b99707df7a681de37177b3cf7950cc5d","modified":1685458231537},{"_id":"public/robots.txt","hash":"eed1ebad39b24e7942fcaf8f27da7487eb9f956e","modified":1685458231537},{"_id":"public/fonts/chancery/apple-chancery-webfont.eot","hash":"fef78bd502f74fdbf0316123e176454cb3eb4e50","modified":1685458231537},{"_id":"public/fonts/chancery/apple-chancery-webfont.ttf","hash":"5e25c531901d8a9e37ab45a7f4acdbe5324b51b6","modified":1685458231537},{"_id":"public/fonts/chancery/apple-chancery-webfont.woff","hash":"95beafe485d4bdbddfecbcf3b2bc9b2d9cf5f5c5","modified":1685458231537},{"_id":"public/fonts/chancery/apple-chancery-webfont.woff2","hash":"afd0f74128f1c21c5a542b2e100870e74da663b6","modified":1685458231537},{"_id":"public/lib/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1685458231537},{"_id":"public/lib/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1685458231537},{"_id":"public/lib/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1685458231537},{"_id":"public/lib/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1685458231537},{"_id":"public/lib/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1685458231537},{"_id":"public/lib/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1685458231537},{"_id":"public/lib/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1685458231537},{"_id":"public/images/banner-top1.jpg","hash":"4b46871a95c8d3b39be80d2ffccc580e4ff7a9ad","modified":1685455148264},{"_id":"public/images/error-flow.png","hash":"52eb57177722fb807ae7e9ef4ded99ba71a34488","modified":1685455148264},{"_id":"public/images/delegate.jpg","hash":"9d20c5d0d13198f6a740def2929307d21661d2a1","modified":1685455148264},{"_id":"public/images/logo.png","hash":"231f5c3497e309892a05ebd464323958daa9aedb","modified":1685455148264},{"_id":"public/images/event-default-action.png","hash":"845446ba8a406949526fdb39287514f6c2e45c23","modified":1685455148264},{"_id":"public/images/notSevenDay1.png","hash":"8888259d6a71b648a7100e498229f828a34c42b8","modified":1685455148264},{"_id":"public/images/panweizeng.jpeg","hash":"433ee71fca427066c527a85499ded84b5a691f1f","modified":1685455148264},{"_id":"public/images/mt-fe-architecture.png","hash":"f89aeec23af2771d693575b96d0f5453ad08e94b","modified":1685455148264},{"_id":"public/images/promise-series-simple-flow.png","hash":"6c3d0af641e2928c232d3ac7d11f4554bcdf1a64","modified":1685455148264},{"_id":"public/images/promise-states-flow.png","hash":"b2e160b9ab569149b887d458f329bce9a49c0d42","modified":1685455148264},{"_id":"public/images/promise-series-flow.png","hash":"8213fdcaab3ca6a3b30a4c9e21d6a8ae56df8d4d","modified":1685455148264},{"_id":"public/images/zhangmengxuan.jpg","hash":"63b74f005c01cb72c17e00e0c5a65d433ac62730","modified":1685455148264},{"_id":"public/images/zhiyelee.png","hash":"2c2fd9e9fad2314a027c37dff1ecfeb7c90cc037","modified":1685455148264},{"_id":"public/images/frontend-component-practice/smart-box.png","hash":"47ed9b93e71012e7ca06ed9602bc395fd0dd4d24","modified":1685455148264},{"_id":"public/images/frontend-component-practice/legacy-flow.png","hash":"c220c2158875c6787aa2f7d37e59d0387c227107","modified":1685455148264},{"_id":"public/fonts/chancery/apple-chancery-webfont.svg","hash":"a94e508f306a742637653f98c6e8827b11d3c142","modified":1685458231537},{"_id":"public/images/DIY.jpg","hash":"9fce1ac994accf1dae0ef4aaa403099bc55e4a15","modified":1685455148264},{"_id":"public/images/bubble-girl.jpg","hash":"29d758d430822567c110adf56623b8af881c181e","modified":1685455148264},{"_id":"public/images/meituan-fe-job.png","hash":"b971bdb4baad297044854c9bd22ed4b9d68f284e","modified":1685455148264},{"_id":"public/images/logo.fw.png","hash":"98f9b3a60c09e26e25f77702ce1049113b4b9a59","modified":1685455148264},{"_id":"public/images/office-2.jpg","hash":"c6ee8382028c023981c22cd32b67009b9c827cbd","modified":1685455148264},{"_id":"public/images/mouse.png","hash":"c8713d425fa472a85c79d38de0ab5e7362df2819","modified":1685455148264},{"_id":"public/images/w3ctech-meituan.jpg","hash":"32d807ac8cde835985bba75a27fd8786eb426caf","modified":1685455148264},{"_id":"public/images/frontend-component-practice/component-lifecycle.png","hash":"5e0705e3b2f663d4a9bf370868f196276798a185","modified":1685455148264},{"_id":"public/images/frontend-component-practice/component-flow.png","hash":"e1be377d2d93a39e5fe9ca393d1a3b04e08bff51","modified":1685455148264},{"_id":"public/js/src/even.js","hash":"e15f39b54da71226e8dca3fa2fa9be8dda1f5e75","modified":1685458231537},{"_id":"public/lib/fancybox/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1685458231537},{"_id":"public/lib/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1685458231537},{"_id":"public/lib/slideout/slideout.min.js","hash":"7166ed307b771398a593fc3d4f1c5d93fbbe19bb","modified":1685458231537},{"_id":"public/lib/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1685458231537},{"_id":"public/lib/fancybox/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1685458231537},{"_id":"public/lib/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1685458231537},{"_id":"public/lib/fancybox/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1685458231537},{"_id":"public/lib/fancybox/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1685458231537},{"_id":"public/lib/fancybox/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1685458231537},{"_id":"public/lib/jquery/jquery.min.js","hash":"88523924351bac0b5d560fe0c5781e2556e7693d","modified":1685458231537},{"_id":"public/lib/slideout/slideout.js","hash":"81ec76a63f6f4bbdfc801d822182ab8afa9068fe","modified":1685458231537},{"_id":"public/images/office-1.jpg","hash":"a41271ca57cb78c4344eed1f7c2814b4bc8d027c","modified":1685455148264},{"_id":"public/images/metro.png","hash":"da8f39f2122fbe1a3a3f5db128dd29988969fb09","modified":1685455148264},{"_id":"public/images/frontend-component-practice/component-flux.png","hash":"7cb86d2125e668a9c434ef0d31b62105bf13601e","modified":1685455148264},{"_id":"public/css/style.css","hash":"8c9a5aa3a059fad95125f5f6a7a03bb9ca61f041","modified":1685458231537},{"_id":"source/_posts/fire-fast.md","hash":"c5b7861408c0214aa6e63e22680aa5a895e86329","modified":1651550389290},{"_id":"source/_posts/react-query.md","hash":"a33092dbde1cddbe319e50640b984f4f6e4d58a0","modified":1656291280679},{"_id":"public/react-query/index.html","hash":"39f8d03974132069b450cb4859c3a673cde5c79b","modified":1685458231537},{"_id":"public/fire-fast/index.html","hash":"a077ef947a6bcc5e6fdc643d0f165550d9c86217","modified":1685458231537},{"_id":"public/archives/2022/06/index.html","hash":"407da62e2fd0f3beae574c282fab90807fde1fc0","modified":1685458231537},{"_id":"public/archives/2022/05/index.html","hash":"8f79d3400bc92797c0058c7bd7510eb6d0e09ebf","modified":1685458231537},{"_id":"public/tags/React-Query/index.html","hash":"77cb334533978caa812e36730873dc7fcb17bf0f","modified":1685458231537},{"_id":"source/_posts/management-leverage.md","hash":"af47223f28d0324c4981cdc8fcb4a7834d5eb0dd","modified":1660354270199},{"_id":"themes/even/yarn.lock","hash":"ff5d63b50f76b4b6f36661c012ffca2af7ba9dff","modified":1637675681299},{"_id":"public/management-leverage/index.html","hash":"f20076b8347e3d982f2c1f1996337bbbd282f5c5","modified":1660354302598},{"_id":"public/archives/2022/07/index.html","hash":"646969df5652633393a330a910cbd43b5311bcec","modified":1685458231537},{"_id":"source/_posts/management-lever.md","hash":"e8e89daec83bbec7b4c68df7d2d1fc675ec60df8","modified":1660355537954},{"_id":"public/tags/Management/index.html","hash":"8781e28eecf47adef8869f6ebad18ba7af753b6e","modified":1685458231537},{"_id":"public/tags/Lever/index.html","hash":"2c604dbd17c3ce9c40fe10b364ddddfd9b4975cd","modified":1685458231537},{"_id":"public/management-lever/index.html","hash":"17fab1dc2dedf62b076b63ecc995afd37f4505aa","modified":1685458231537},{"_id":"source/_posts/ask-with-answers.md","hash":"0d837d034ea94ec731131471c1bb5722849f4342","modified":1685456217616},{"_id":"public/ask-with-answers/index.html","hash":"eaa1b5c036dac32a95f3d1bd78986d04e879403f","modified":1685458231537},{"_id":"public/archives/page/5/index.html","hash":"c9d8999f003930542bfe72236930105e6b0a8235","modified":1685458231537},{"_id":"public/archives/2023/index.html","hash":"927aefe0901cd48a70dfea9c606b177c397cf3d6","modified":1685458231537},{"_id":"public/archives/2023/05/index.html","hash":"51ef78ba77deec1ff4ddff50e7cfc92fe90fafad","modified":1685458231537},{"_id":"public/page/5/index.html","hash":"0ff96d9507d64933335e784e7d66ab4d20b1af6c","modified":1685458231537},{"_id":"public/tags/Communication/index.html","hash":"0be7614b6f30cac2b34d3ac797efd9561c77592c","modified":1685458231537},{"_id":"public/tags/Asking/index.html","hash":"e18a7d0ff322fd37ebeb6c0aead2a6e89a945742","modified":1685458231537},{"_id":"source/_posts/react-context.md","hash":"0e5ac5033c331730a858200d7b103d4554935c7d","modified":1685457642936},{"_id":"public/react-context/index.html","hash":"a42f5ee97b016fbd41acd0ba51bf9e26b8ea9774","modified":1685458231537},{"_id":"public/archives/2023/03/index.html","hash":"496e6a7f3a6a7f003bca4829f03ecd594b4c1c68","modified":1685458231537},{"_id":"public/tags/Context/index.html","hash":"03adb39c8cc8fb258cbdb4e265d59e19be845b6d","modified":1685458231537},{"_id":"public/tags/useContextSelector/index.html","hash":"5bfc1e42975f0d02e4eb3b41f8a7a6c395f58f1b","modified":1685458231537}],"Category":[],"Data":[],"Page":[{"title":"Tags","date":"2021-11-25T04:12:45.000Z","layout":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: Tags\ndate: 2021-11-25 12:12:45\nlayout: \"tags\"\ncomments: false\n---\n","updated":"2021-11-25T07:45:35.976Z","path":"tags/index.html","_id":"cl1klguoy00008e85e86oea6a","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"layout":"post","title":"","date":"2011-03-10T05:35:00.000Z","status":"publish","_content":"\nblog\n\n\n\nideaproblem\n\n\n\n\n","source":"_posts/birth.md","raw":"---\nlayout: post\ntitle: \"\"\ndate: 2011-03-10 13:35\nstatus: publish\ntags: [Self, Life]\n---\n\nblog\n\n\n\nideaproblem\n\n\n\n\n","slug":"birth","published":1,"updated":"2021-10-04T12:57:16.035Z","comments":1,"photos":[],"link":"","_id":"cl1klgup100018e853wvtdzqz","content":"<p>blog</p>\n<p></p>\n<p>ideaproblem</p>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p>blog</p>\n<p></p>\n<p>ideaproblem</p>\n<p></p>\n<p></p>\n"},{"layout":"post","title":"","date":"2011-06-05T12:20:00.000Z","status":"publish","_content":"\n![Metro](/images/metro.png)\n\n\n\n\n\nblog\n\n[Metro](http://ubelly.com/2011/01/metro-windows-phone-7-design-language/)\n\n\n\n\n\n\n\n\n\n[Raphal](http://raphaeljs.com)\n\nSpring\n\n\n\n\n\n\n\n\n","source":"_posts/change-theme.md","raw":"---\nlayout: post\ntitle: \"\"\ndate: 2011-06-05 20:20\nstatus: publish\ntags: [Self, Metro]\n---\n\n![Metro](/images/metro.png)\n\n\n\n\n\nblog\n\n[Metro](http://ubelly.com/2011/01/metro-windows-phone-7-design-language/)\n\n\n\n\n\n\n\n\n\n[Raphal](http://raphaeljs.com)\n\nSpring\n\n\n\n\n\n\n\n\n","slug":"change-theme","published":1,"updated":"2021-10-05T09:34:47.222Z","comments":1,"photos":[],"link":"","_id":"cl1klgup400028e85bpac6xtr","content":"<p><img src=\"/images/metro.png\" alt=\"Metro\"></p>\n<p></p>\n<p></p>\n<p>blog</p>\n<p><a href=\"http://ubelly.com/2011/01/metro-windows-phone-7-design-language/\">Metro</a></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><a href=\"http://raphaeljs.com/\">Raphal</a></p>\n<p>Spring</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/images/metro.png\" alt=\"Metro\"></p>\n<p></p>\n<p></p>\n<p>blog</p>\n<p><a href=\"http://ubelly.com/2011/01/metro-windows-phone-7-design-language/\">Metro</a></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><a href=\"http://raphaeljs.com/\">Raphal</a></p>\n<p>Spring</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n"},{"layout":"post","title":"js  !!  ~~","date":"2015-10-17T13:01:00.000Z","status":"publish","_content":"\n js  !!  ~~\n\n## !\n\n !EcmaScript \n\n>  `UnaryExpression : ! UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  `oldValue`  ToBoolean(GetValue(`expr`))\n> -  `oldValue`  true,  false\n> -  true\n\nGetValue  getter  ToBoolean [ES5#9.2 ToBoolean](http://es5.github.io/#x9.2) \n\n ToBoolen  `oldValue`  true false true\n\n<!--more-->\n\n## !!\n\n ! !! \n\n>  `UnaryExpression : !! UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  ToBoolean(GetValue(`expr`))\n\n !  ToBoolean  !! ****\n\n```js\n!! null // false\n!! undefined // false\n\n!! '' // false\n!! 'hello' // true\n\n!! 5 // true\n!! 0 // false\n\n!! {} // true\n```\n\n!!  `Boolean` \n\n```js\n!!(value) === Boolean(value)\n```\n\n## ~\n\n ~  !  1  00  1EcmaScript \n\n>  `UnaryExpression : ~ UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  `oldValue`  ToInt32(GetValue(`expr`))\n> -  `oldValue` \n\n ToInt32  ToBooleanToInt32 \n\n-  `number`  ToNumber \n-  `number`  NaN+0-0+  - +0\n-  `posInt`  sign(`number`) * floor(abs(`number`))\n-  `posInt`  2^31  2^311  32 \n\nToInt32 \n\n- \n- NaN    0\n- \n-  32 \n\n ToInt32  32 \n\n 32 \n\n## ~~\n\n !!  ! ~~  ~ \n\n>  `UnaryExpression : ~~ UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  ToInt32(GetValue(`expr`))\n\n ~  32  ~  ~  ~~ ** 32 **\n\n\n\n```js\n~~ null // 0\n~~ undefined // 0\n~~ NaN // 0\n~~ {} // 0\n~~ true // 1\n~~ '' // 0\n~~ 'string' // 0\n~~ '1' // 1\n~~ Number.POSITIVE_INFINITY // 0\n\n~~ 1.2 // 1\n~~ -1.2 // -1\n~~ 1.6 // 1\n~~ -1.6 // -1\n~~ (Math.pow(2, 31) - 1) // 2147483647 = 2^31-1\n~~ (Math.pow(2, 31)) // -2147483648 = -2^31\n~~ (-Math.pow(2, 31)) // -2147483648 = -2^31\n~~ (-Math.pow(2, 31) - 1) // 2147483647 = 2^31-1\n~~ (Math.pow(2, 32)) // 0\n```\n\n 32  ~~ \n\n## \n\n- [-MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators)\n- [ToBoolean - ES5](http://es5.github.io/#x9.2)\n- [ToInt32 - ES5](http://es5.github.io/#x9.5)\n- [Bitwise NOT Operator - ES5](http://es5.github.io/#x11.4.8)\n- [Logical NOT Operator - ES5](http://es5.github.io/#x11.4.9)\n","source":"_posts/bitwise-not-and-logical-not.md","raw":"---\nlayout: post\ntitle: \"js  !!  ~~\"\ndate: 2015-10-17 21:01\nstatus: publish\ntags: [BitwiseNOT, LogicalNOT, JavaScript]\n---\n\n js  !!  ~~\n\n## !\n\n !EcmaScript \n\n>  `UnaryExpression : ! UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  `oldValue`  ToBoolean(GetValue(`expr`))\n> -  `oldValue`  true,  false\n> -  true\n\nGetValue  getter  ToBoolean [ES5#9.2 ToBoolean](http://es5.github.io/#x9.2) \n\n ToBoolen  `oldValue`  true false true\n\n<!--more-->\n\n## !!\n\n ! !! \n\n>  `UnaryExpression : !! UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  ToBoolean(GetValue(`expr`))\n\n !  ToBoolean  !! ****\n\n```js\n!! null // false\n!! undefined // false\n\n!! '' // false\n!! 'hello' // true\n\n!! 5 // true\n!! 0 // false\n\n!! {} // true\n```\n\n!!  `Boolean` \n\n```js\n!!(value) === Boolean(value)\n```\n\n## ~\n\n ~  !  1  00  1EcmaScript \n\n>  `UnaryExpression : ~ UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  `oldValue`  ToInt32(GetValue(`expr`))\n> -  `oldValue` \n\n ToInt32  ToBooleanToInt32 \n\n-  `number`  ToNumber \n-  `number`  NaN+0-0+  - +0\n-  `posInt`  sign(`number`) * floor(abs(`number`))\n-  `posInt`  2^31  2^311  32 \n\nToInt32 \n\n- \n- NaN    0\n- \n-  32 \n\n ToInt32  32 \n\n 32 \n\n## ~~\n\n !!  ! ~~  ~ \n\n>  `UnaryExpression : ~~ UnaryExpression` \n> \n> -  `expr`  `UnaryExpression` \n> -  ToInt32(GetValue(`expr`))\n\n ~  32  ~  ~  ~~ ** 32 **\n\n\n\n```js\n~~ null // 0\n~~ undefined // 0\n~~ NaN // 0\n~~ {} // 0\n~~ true // 1\n~~ '' // 0\n~~ 'string' // 0\n~~ '1' // 1\n~~ Number.POSITIVE_INFINITY // 0\n\n~~ 1.2 // 1\n~~ -1.2 // -1\n~~ 1.6 // 1\n~~ -1.6 // -1\n~~ (Math.pow(2, 31) - 1) // 2147483647 = 2^31-1\n~~ (Math.pow(2, 31)) // -2147483648 = -2^31\n~~ (-Math.pow(2, 31)) // -2147483648 = -2^31\n~~ (-Math.pow(2, 31) - 1) // 2147483647 = 2^31-1\n~~ (Math.pow(2, 32)) // 0\n```\n\n 32  ~~ \n\n## \n\n- [-MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators)\n- [ToBoolean - ES5](http://es5.github.io/#x9.2)\n- [ToInt32 - ES5](http://es5.github.io/#x9.5)\n- [Bitwise NOT Operator - ES5](http://es5.github.io/#x11.4.8)\n- [Logical NOT Operator - ES5](http://es5.github.io/#x11.4.9)\n","slug":"bitwise-not-and-logical-not","published":1,"updated":"2021-11-25T11:01:25.485Z","comments":1,"photos":[],"link":"","_id":"cl1klgup700048e854aa60cuj","content":"<p> js  !!  ~~</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"!\"></a>!</h2><p> !EcmaScript </p>\n<blockquote>\n<p> <code>UnaryExpression : ! UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> <code>oldValue</code>  ToBoolean(GetValue(<code>expr</code>))</li>\n<li> <code>oldValue</code>  true,  false</li>\n<li> true</li>\n</ul>\n</blockquote>\n<p>GetValue  getter  ToBoolean <a href=\"http://es5.github.io/#x9.2\">ES5#9.2 ToBoolean</a> </p>\n<p> ToBoolen  <code>oldValue</code>  true false true</p>\n<span id=\"more\"></span>\n\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"!!\"></a>!!</h2><p> ! !! </p>\n<blockquote>\n<p> <code>UnaryExpression : !! UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> ToBoolean(GetValue(<code>expr</code>))</li>\n</ul>\n</blockquote>\n<p> !  ToBoolean  !! <strong></strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">!! <span class=\"literal\">null</span> <span class=\"comment\">// false</span></span><br><span class=\"line\">!! <span class=\"literal\">undefined</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\">!! <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\">!! <span class=\"string\">&#x27;hello&#x27;</span> <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br><span class=\"line\">!! <span class=\"number\">5</span> <span class=\"comment\">// true</span></span><br><span class=\"line\">!! <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\">!! &#123;&#125; <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>!!  <code>Boolean</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">!!(value) === <span class=\"built_in\">Boolean</span>(value)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"~\"></a>~</h2><p> ~  !  1  00  1EcmaScript </p>\n<blockquote>\n<p> <code>UnaryExpression : ~ UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> <code>oldValue</code>  ToInt32(GetValue(<code>expr</code>))</li>\n<li> <code>oldValue</code> </li>\n</ul>\n</blockquote>\n<p> ToInt32  ToBooleanToInt32 </p>\n<ul>\n<li> <code>number</code>  ToNumber </li>\n<li> <code>number</code>  NaN+0-0+  - +0</li>\n<li> <code>posInt</code>  sign(<code>number</code>) * floor(abs(<code>number</code>))</li>\n<li> <code>posInt</code>  2^31  2^311  32 </li>\n</ul>\n<p>ToInt32 </p>\n<ul>\n<li></li>\n<li>NaN    0</li>\n<li></li>\n<li> 32 </li>\n</ul>\n<p> ToInt32  32 </p>\n<p> 32 </p>\n<h2 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"~~\"></a>~~</h2><p> !!  ! ~~  ~ </p>\n<blockquote>\n<p> <code>UnaryExpression : ~~ UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> ToInt32(GetValue(<code>expr</code>))</li>\n</ul>\n</blockquote>\n<p> ~  32  ~  ~  ~~ <strong> 32 </strong></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~~ <span class=\"literal\">null</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"literal\">undefined</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"literal\">NaN</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ &#123;&#125; <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"literal\">true</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"string\">&#x27;string&#x27;</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"string\">&#x27;1&#x27;</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ <span class=\"built_in\">Number</span>.POSITIVE_INFINITY <span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br><span class=\"line\">~~ <span class=\"number\">1.2</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ -<span class=\"number\">1.2</span> <span class=\"comment\">// -1</span></span><br><span class=\"line\">~~ <span class=\"number\">1.6</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ -<span class=\"number\">1.6</span> <span class=\"comment\">// -1</span></span><br><span class=\"line\">~~ (<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>) - <span class=\"number\">1</span>) <span class=\"comment\">// 2147483647 = 2^31-1</span></span><br><span class=\"line\">~~ (<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>)) <span class=\"comment\">// -2147483648 = -2^31</span></span><br><span class=\"line\">~~ (-<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>)) <span class=\"comment\">// -2147483648 = -2^31</span></span><br><span class=\"line\">~~ (-<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>) - <span class=\"number\">1</span>) <span class=\"comment\">// 2147483647 = 2^31-1</span></span><br><span class=\"line\">~~ (<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">32</span>)) <span class=\"comment\">// 0</span></span><br></pre></td></tr></table></figure>\n\n<p> 32  ~~ </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators\">-MDN</a></li>\n<li><a href=\"http://es5.github.io/#x9.2\">ToBoolean - ES5</a></li>\n<li><a href=\"http://es5.github.io/#x9.5\">ToInt32 - ES5</a></li>\n<li><a href=\"http://es5.github.io/#x11.4.8\">Bitwise NOT Operator - ES5</a></li>\n<li><a href=\"http://es5.github.io/#x11.4.9\">Logical NOT Operator - ES5</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p> js  !!  ~~</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"!\"></a>!</h2><p> !EcmaScript </p>\n<blockquote>\n<p> <code>UnaryExpression : ! UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> <code>oldValue</code>  ToBoolean(GetValue(<code>expr</code>))</li>\n<li> <code>oldValue</code>  true,  false</li>\n<li> true</li>\n</ul>\n</blockquote>\n<p>GetValue  getter  ToBoolean <a href=\"http://es5.github.io/#x9.2\">ES5#9.2 ToBoolean</a> </p>\n<p> ToBoolen  <code>oldValue</code>  true false true</p>","more":"<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"!!\"></a>!!</h2><p> ! !! </p>\n<blockquote>\n<p> <code>UnaryExpression : !! UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> ToBoolean(GetValue(<code>expr</code>))</li>\n</ul>\n</blockquote>\n<p> !  ToBoolean  !! <strong></strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">!! <span class=\"literal\">null</span> <span class=\"comment\">// false</span></span><br><span class=\"line\">!! <span class=\"literal\">undefined</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\">!! <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// false</span></span><br><span class=\"line\">!! <span class=\"string\">&#x27;hello&#x27;</span> <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br><span class=\"line\">!! <span class=\"number\">5</span> <span class=\"comment\">// true</span></span><br><span class=\"line\">!! <span class=\"number\">0</span> <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\">!! &#123;&#125; <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<p>!!  <code>Boolean</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">!!(value) === <span class=\"built_in\">Boolean</span>(value)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"~\"></a>~</h2><p> ~  !  1  00  1EcmaScript </p>\n<blockquote>\n<p> <code>UnaryExpression : ~ UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> <code>oldValue</code>  ToInt32(GetValue(<code>expr</code>))</li>\n<li> <code>oldValue</code> </li>\n</ul>\n</blockquote>\n<p> ToInt32  ToBooleanToInt32 </p>\n<ul>\n<li> <code>number</code>  ToNumber </li>\n<li> <code>number</code>  NaN+0-0+  - +0</li>\n<li> <code>posInt</code>  sign(<code>number</code>) * floor(abs(<code>number</code>))</li>\n<li> <code>posInt</code>  2^31  2^311  32 </li>\n</ul>\n<p>ToInt32 </p>\n<ul>\n<li></li>\n<li>NaN    0</li>\n<li></li>\n<li> 32 </li>\n</ul>\n<p> ToInt32  32 </p>\n<p> 32 </p>\n<h2 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"~~\"></a>~~</h2><p> !!  ! ~~  ~ </p>\n<blockquote>\n<p> <code>UnaryExpression : ~~ UnaryExpression</code> </p>\n<ul>\n<li> <code>expr</code>  <code>UnaryExpression</code> </li>\n<li> ToInt32(GetValue(<code>expr</code>))</li>\n</ul>\n</blockquote>\n<p> ~  32  ~  ~  ~~ <strong> 32 </strong></p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~~ <span class=\"literal\">null</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"literal\">undefined</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"literal\">NaN</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ &#123;&#125; <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"literal\">true</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ <span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"string\">&#x27;string&#x27;</span> <span class=\"comment\">// 0</span></span><br><span class=\"line\">~~ <span class=\"string\">&#x27;1&#x27;</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ <span class=\"built_in\">Number</span>.POSITIVE_INFINITY <span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br><span class=\"line\">~~ <span class=\"number\">1.2</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ -<span class=\"number\">1.2</span> <span class=\"comment\">// -1</span></span><br><span class=\"line\">~~ <span class=\"number\">1.6</span> <span class=\"comment\">// 1</span></span><br><span class=\"line\">~~ -<span class=\"number\">1.6</span> <span class=\"comment\">// -1</span></span><br><span class=\"line\">~~ (<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>) - <span class=\"number\">1</span>) <span class=\"comment\">// 2147483647 = 2^31-1</span></span><br><span class=\"line\">~~ (<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>)) <span class=\"comment\">// -2147483648 = -2^31</span></span><br><span class=\"line\">~~ (-<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>)) <span class=\"comment\">// -2147483648 = -2^31</span></span><br><span class=\"line\">~~ (-<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">31</span>) - <span class=\"number\">1</span>) <span class=\"comment\">// 2147483647 = 2^31-1</span></span><br><span class=\"line\">~~ (<span class=\"built_in\">Math</span>.pow(<span class=\"number\">2</span>, <span class=\"number\">32</span>)) <span class=\"comment\">// 0</span></span><br></pre></td></tr></table></figure>\n\n<p> 32  ~~ </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators\">-MDN</a></li>\n<li><a href=\"http://es5.github.io/#x9.2\">ToBoolean - ES5</a></li>\n<li><a href=\"http://es5.github.io/#x9.5\">ToInt32 - ES5</a></li>\n<li><a href=\"http://es5.github.io/#x11.4.8\">Bitwise NOT Operator - ES5</a></li>\n<li><a href=\"http://es5.github.io/#x11.4.9\">Logical NOT Operator - ES5</a></li>\n</ul>"},{"layout":"post","title":"Continuation  JS ","date":"2020-05-05T12:05:00.000Z","status":"publish","_content":"\n [Continuation  JS ](https://zhuanlan.zhihu.com/p/94611888) \n","source":"_posts/continuation.md","raw":"---\nlayout: post\ntitle: \"Continuation  JS \"\ndate: 2020-05-05 20:05\nstatus: publish\ntags: [Functional Programming, Continuation, Promise]\n---\n\n [Continuation  JS ](https://zhuanlan.zhihu.com/p/94611888) \n","slug":"continuation","published":1,"updated":"2021-10-05T13:13:25.154Z","comments":1,"photos":[],"link":"","_id":"cl1klgup800058e8527pzb6at","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/94611888\">Continuation  JS </a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/94611888\">Continuation  JS </a> </p>\n"},{"layout":"post","title":"[]","date":"2013-10-19T12:39:00.000Z","status":"publish","_content":"\n<div class=\"preface\">\n    <p>QuoraRussel SimmonsEE</p>\n    <em><a href=\"http://www.quora.com/Software-Engineering/What-distinguishes-a-good-software-engineer-from-a-great-one/answer/Russel-Simmons?srid=mo0\" target=\"_blank\">Software Engineering: What distinguishes a good software engineer from a great one?</a></em>\n</div>\n\n\n\n- ****hack\n- **bug**\n- ****\n","source":"_posts/diff-great-software-engineer-from-a-good.md","raw":"---\nlayout: post\ntitle: \"[]\"\ndate: 2013-10-19 20:39\nstatus: publish\ntags: [Programming]\n---\n\n<div class=\"preface\">\n    <p>QuoraRussel SimmonsEE</p>\n    <em><a href=\"http://www.quora.com/Software-Engineering/What-distinguishes-a-good-software-engineer-from-a-great-one/answer/Russel-Simmons?srid=mo0\" target=\"_blank\">Software Engineering: What distinguishes a good software engineer from a great one?</a></em>\n</div>\n\n\n\n- ****hack\n- **bug**\n- ****\n","slug":"diff-great-software-engineer-from-a-good","published":1,"updated":"2021-10-04T12:57:16.045Z","comments":1,"photos":[],"link":"","_id":"cl1klgup900068e852o73d2x5","content":"<div class=\"preface\">\n    <p>QuoraRussel SimmonsEE</p>\n    <em><a href=\"http://www.quora.com/Software-Engineering/What-distinguishes-a-good-software-engineer-from-a-great-one/answer/Russel-Simmons?srid=mo0\" target=\"_blank\">Software Engineering: What distinguishes a good software engineer from a great one?</a></em>\n</div>\n\n<p></p>\n<ul>\n<li><strong></strong>hack</li>\n<li><strong>bug</strong></li>\n<li><strong></strong></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<div class=\"preface\">\n    <p>QuoraRussel SimmonsEE</p>\n    <em><a href=\"http://www.quora.com/Software-Engineering/What-distinguishes-a-good-software-engineer-from-a-great-one/answer/Russel-Simmons?srid=mo0\" target=\"_blank\">Software Engineering: What distinguishes a good software engineer from a great one?</a></em>\n</div>\n\n<p></p>\n<ul>\n<li><strong></strong>hack</li>\n<li><strong>bug</strong></li>\n<li><strong></strong></li>\n</ul>\n"},{"layout":"post","title":"YUIY.delegate","date":"2013-04-05T15:23:00.000Z","status":"publish","_content":"\n![relay baton](/images/delegate.jpg)\n\nYUIDOMEvent Delegationzakas[Event delegation in JavaScript](http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/)YUI`Y.delegate`\n\n## \n\n\n\n- \n- \n- `event.target`\n\n &lt;=  &lt;= \n\n<!-- more -->\n\nhtml\n\n```html\n<ul>\n    <li>\n        <a href=\"http://google.com\">google</a>\n    </li>\n    <li>\n        <a name=\"facebook\" href=\"http://facebook.com\">facebook</a>\n    </li>\n    <li>\n        <a name=\"twitter\" href=\"http://twitter.com\">twitter</a>\n    </li>\n</ul>\n```\n\n`Y.delegate`\n\n```js\n// 1\n// API: Y.delegate(type, fn, el, filter)\nYUI().use('event-delegate', function(Y) {\n    var handle = Y.delegate('click', function (e) {\n        e.halt();\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'ul', 'a');\n\n    Y.delegate('click', function (e) {\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'ul', 'li');\n\n    // click first anchor\n    // output 'A is clicked'\n    // output 'LI is clicked'\n\n    handle.detach();\n\n    // click first anchor again\n    // output 'LI is clicked'\n});\n```\n\nthis`Y.Node`\n\nYUI3`Y.Node`delegate1\n\n```js\n// 2\n// API: Y.Node.prototype.delegate(type, fn, filter)\nYUI().use('node-event-delegate', function(Y) {\n    var ndList = Y.one('ul'),\n        handle;\n\n    handle = ndList.delegate('click', function (e) {\n        e.halt();\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'a');\n\n    ndList.delegate('click', function (e) {\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'li');\n\n    // click first anchor\n    // output 'A is clicked'\n    // output 'LI is clicked'\n\n    handle.detach();\n\n    // click first anchor again\n    // output 'LI is clicked'\n});\n```\n\n1selector\n\n```js\n// 3\nYUI().use('node-event-delegate', function(Y) {\n    var ndList = Y.one('ul');\n\n    ndList.delegate('click', function (e) {\n        e.halt();\n        console.log(this.get('tagName') + ' is clicked');\n    }, function (nd, e) {\n        return nd.get('name') &&\n               e.target.get('tagName').toLowerCase() === 'a';\n    });\n\n    // click the first anchor\n    // no output\n\n    // click the second anchor\n    // output 'LI is clicked'\n});\n```\n\n## \n\nYUI\n\n[](https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js)\n\n```js\nvar toArray = Y.Array,\n    isString = Y.Lang.isString;\n\nfunction delegate(type, fn, el, filter) {\n    var container = isString(el) ? Y.Selector.query(el, null, true) : el,\n        handle;\n\n    // type\n    handle = Y.Event._attach([type, fn, container], { facade: false });\n    handle.sub.filter  = filter;\n    // \n    handle.sub._notify = delegate.notifySub;\n\n    return handle;\n}\n    \n// \ndelegate.notifySub = function (thisObj, args, ce) {\n    // filter\n    var currentTarget = delegate._applyFilter(this.filter, args, ce),\n        e, i, len, ret;\n    if (!currentTarget) return;\n\n    currentTarget = toArray(currentTarget);\n\n    // \n    e = args[0] = new Y.DOMEventFacade(args[0], ce.el, ce);\n    // container\n    e.container = Y.one(ce.el);\n\n    for (i = 0, len = currentTarget.length; i < len && !e.stopped; ++i) {\n        // currentTarget\n        e.currentTarget = Y.one(currentTarget[i]);\n\n        // this\n        ret = this.fn.apply(e.currentTarget, args);\n        if (ret === false) break;\n    }\n\n    return ret;\n};\n\n// filter\ndelegate._applyFilter = function (filter, args, ce) {\n    var e         = args[0],\n        container = ce.el,\n        target    = e.target || e.srcElement,\n        match     = [],\n        isContainer = false;\n\n    // \n    if (target.nodeType === 3) {\n        target = target.parentNode;\n    }\n\n    // filterselector\n    if (isString(filter)) {\n        while (target) {\n            isContainer = (target === container);\n            // targetselector filter\n            if (Y.Selector.test(target, filter, (isContainer ? null : container))) {\n                match.push(target);\n            }\n            if (isContainer) break;\n\n            target = target.parentNode;\n        }\n    // filterfunction\n    } else {\n        // targetfunction filter\n        // \n        args.unshift(Y.one(target));\n        args[1] = new Y.DOMEventFacade(e, container, ce);\n\n        while (target) {\n            // function filterthistarget\n            if (filter.apply(args[0], args)) {\n                match.push(target);\n            }\n            if (target === container) break;\n\n            // target\n            target = target.parentNode;\n            args[0] = Y.one(target);\n        }\n\n        // args\n        args[1] = e;\n        args.shift();\n    }\n\n    return match.length <= 1 ? match[0] : match;\n};\n\nY.delegate = Y.Event.delegate = delegate;\n```\n\n## \n\n### \n\n`Y.delegate`\n\n- Y.delegate({ typeA: fnA, typeB: fnB }, el, filter)\n- Y.delegate([typeA, typeB], fn, el, filter)\n\n```js\n// 4\nYUI().use('node-event-delegate', function(Y) {\n    var ndList = Y.one('ul');\n    ndList.delegate({\n        click: function (e) {\n            e.halt();\n            console.log(e.type);\n        },\n        dblclick: function (e) {\n            e.halt();\n            console.log(e.type);\n        }\n    }, 'li');\n\n    // double click the first anchor\n    // output 'click'\n    // output 'click'\n    // output 'dblclick'\n\n    ndList.delegate(['click', 'dblclick'], function (e) {\n        e.halt();\n        console.log(e.type);\n    }, 'li');\n\n    // double click the first anchor\n    // output 'click'\n    // output 'click'\n    // output 'dblclick'\n});\n```\n\n### this\n\n```js\n// 5\nYUI().use('node-event-delegate', function(Y) {\n    Y.one('ul').delegate('click', function (e, args) {\n        e.halt();\n        console.log(this === document.body);\n        console.log(args.data);\n    }, 'li', document.body, { data: 'data' });\n\n    // click the first anchor\n    // output 'true'\n    // output 'data'\n});\n```\n\n### focusblur\n\nDOMfocusblurloadunloadresizefocusblurfocusinfocusout\n\nYUIDOMfocusblurawesome\n\n```js\n// 6\nYUI().use('node-event-delegate', 'event-focus', function(Y) {\n    Y.one('form').delegate({\n        focus: function (e) {\n            // \n            clearErr(this);\n        },\n        blur: function (e) {\n            // \n            if (this.get('value') === '') showErr(this);\n        }\n    }, 'input');\n\n    function clearErr(nd) {\n        var ndErr = nd.next('.error');\n        if (ndErr) ndErr.hide().setHTML('');\n    };\n\n    function showErr(nd) {\n        var ndErr = nd.next('.error');\n        if (!ndErr) {\n            ndErr = Y.Node.create('<span class=\"error\"></span>');\n            nd.insert(ndErr, 'after');\n        }\n\n        ndErr.show().setHTML('');\n    };\n});\n```\n\n## \n\n[GitHub](https://github.com/springuper/yuianalyser/tree/master/event)\n\n## \n\n- [YUILibrary-UserGuides-Event Delegation](http://yuilibrary.com/yui/docs/event/#delegation)\n- [Event delegation in JavaScript](http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/)\n- [YUILibrary-delegate](https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js)\n","source":"_posts/event-delegate.md","raw":"---\nlayout: post\ntitle: \"YUIY.delegate\"\ndate: 2013-04-05 23:23\nstatus: publish\ntags: [Y.delegate, YUI]\n---\n\n![relay baton](/images/delegate.jpg)\n\nYUIDOMEvent Delegationzakas[Event delegation in JavaScript](http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/)YUI`Y.delegate`\n\n## \n\n\n\n- \n- \n- `event.target`\n\n &lt;=  &lt;= \n\n<!-- more -->\n\nhtml\n\n```html\n<ul>\n    <li>\n        <a href=\"http://google.com\">google</a>\n    </li>\n    <li>\n        <a name=\"facebook\" href=\"http://facebook.com\">facebook</a>\n    </li>\n    <li>\n        <a name=\"twitter\" href=\"http://twitter.com\">twitter</a>\n    </li>\n</ul>\n```\n\n`Y.delegate`\n\n```js\n// 1\n// API: Y.delegate(type, fn, el, filter)\nYUI().use('event-delegate', function(Y) {\n    var handle = Y.delegate('click', function (e) {\n        e.halt();\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'ul', 'a');\n\n    Y.delegate('click', function (e) {\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'ul', 'li');\n\n    // click first anchor\n    // output 'A is clicked'\n    // output 'LI is clicked'\n\n    handle.detach();\n\n    // click first anchor again\n    // output 'LI is clicked'\n});\n```\n\nthis`Y.Node`\n\nYUI3`Y.Node`delegate1\n\n```js\n// 2\n// API: Y.Node.prototype.delegate(type, fn, filter)\nYUI().use('node-event-delegate', function(Y) {\n    var ndList = Y.one('ul'),\n        handle;\n\n    handle = ndList.delegate('click', function (e) {\n        e.halt();\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'a');\n\n    ndList.delegate('click', function (e) {\n        console.log(this.get('tagName') + ' is clicked');\n    }, 'li');\n\n    // click first anchor\n    // output 'A is clicked'\n    // output 'LI is clicked'\n\n    handle.detach();\n\n    // click first anchor again\n    // output 'LI is clicked'\n});\n```\n\n1selector\n\n```js\n// 3\nYUI().use('node-event-delegate', function(Y) {\n    var ndList = Y.one('ul');\n\n    ndList.delegate('click', function (e) {\n        e.halt();\n        console.log(this.get('tagName') + ' is clicked');\n    }, function (nd, e) {\n        return nd.get('name') &&\n               e.target.get('tagName').toLowerCase() === 'a';\n    });\n\n    // click the first anchor\n    // no output\n\n    // click the second anchor\n    // output 'LI is clicked'\n});\n```\n\n## \n\nYUI\n\n[](https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js)\n\n```js\nvar toArray = Y.Array,\n    isString = Y.Lang.isString;\n\nfunction delegate(type, fn, el, filter) {\n    var container = isString(el) ? Y.Selector.query(el, null, true) : el,\n        handle;\n\n    // type\n    handle = Y.Event._attach([type, fn, container], { facade: false });\n    handle.sub.filter  = filter;\n    // \n    handle.sub._notify = delegate.notifySub;\n\n    return handle;\n}\n    \n// \ndelegate.notifySub = function (thisObj, args, ce) {\n    // filter\n    var currentTarget = delegate._applyFilter(this.filter, args, ce),\n        e, i, len, ret;\n    if (!currentTarget) return;\n\n    currentTarget = toArray(currentTarget);\n\n    // \n    e = args[0] = new Y.DOMEventFacade(args[0], ce.el, ce);\n    // container\n    e.container = Y.one(ce.el);\n\n    for (i = 0, len = currentTarget.length; i < len && !e.stopped; ++i) {\n        // currentTarget\n        e.currentTarget = Y.one(currentTarget[i]);\n\n        // this\n        ret = this.fn.apply(e.currentTarget, args);\n        if (ret === false) break;\n    }\n\n    return ret;\n};\n\n// filter\ndelegate._applyFilter = function (filter, args, ce) {\n    var e         = args[0],\n        container = ce.el,\n        target    = e.target || e.srcElement,\n        match     = [],\n        isContainer = false;\n\n    // \n    if (target.nodeType === 3) {\n        target = target.parentNode;\n    }\n\n    // filterselector\n    if (isString(filter)) {\n        while (target) {\n            isContainer = (target === container);\n            // targetselector filter\n            if (Y.Selector.test(target, filter, (isContainer ? null : container))) {\n                match.push(target);\n            }\n            if (isContainer) break;\n\n            target = target.parentNode;\n        }\n    // filterfunction\n    } else {\n        // targetfunction filter\n        // \n        args.unshift(Y.one(target));\n        args[1] = new Y.DOMEventFacade(e, container, ce);\n\n        while (target) {\n            // function filterthistarget\n            if (filter.apply(args[0], args)) {\n                match.push(target);\n            }\n            if (target === container) break;\n\n            // target\n            target = target.parentNode;\n            args[0] = Y.one(target);\n        }\n\n        // args\n        args[1] = e;\n        args.shift();\n    }\n\n    return match.length <= 1 ? match[0] : match;\n};\n\nY.delegate = Y.Event.delegate = delegate;\n```\n\n## \n\n### \n\n`Y.delegate`\n\n- Y.delegate({ typeA: fnA, typeB: fnB }, el, filter)\n- Y.delegate([typeA, typeB], fn, el, filter)\n\n```js\n// 4\nYUI().use('node-event-delegate', function(Y) {\n    var ndList = Y.one('ul');\n    ndList.delegate({\n        click: function (e) {\n            e.halt();\n            console.log(e.type);\n        },\n        dblclick: function (e) {\n            e.halt();\n            console.log(e.type);\n        }\n    }, 'li');\n\n    // double click the first anchor\n    // output 'click'\n    // output 'click'\n    // output 'dblclick'\n\n    ndList.delegate(['click', 'dblclick'], function (e) {\n        e.halt();\n        console.log(e.type);\n    }, 'li');\n\n    // double click the first anchor\n    // output 'click'\n    // output 'click'\n    // output 'dblclick'\n});\n```\n\n### this\n\n```js\n// 5\nYUI().use('node-event-delegate', function(Y) {\n    Y.one('ul').delegate('click', function (e, args) {\n        e.halt();\n        console.log(this === document.body);\n        console.log(args.data);\n    }, 'li', document.body, { data: 'data' });\n\n    // click the first anchor\n    // output 'true'\n    // output 'data'\n});\n```\n\n### focusblur\n\nDOMfocusblurloadunloadresizefocusblurfocusinfocusout\n\nYUIDOMfocusblurawesome\n\n```js\n// 6\nYUI().use('node-event-delegate', 'event-focus', function(Y) {\n    Y.one('form').delegate({\n        focus: function (e) {\n            // \n            clearErr(this);\n        },\n        blur: function (e) {\n            // \n            if (this.get('value') === '') showErr(this);\n        }\n    }, 'input');\n\n    function clearErr(nd) {\n        var ndErr = nd.next('.error');\n        if (ndErr) ndErr.hide().setHTML('');\n    };\n\n    function showErr(nd) {\n        var ndErr = nd.next('.error');\n        if (!ndErr) {\n            ndErr = Y.Node.create('<span class=\"error\"></span>');\n            nd.insert(ndErr, 'after');\n        }\n\n        ndErr.show().setHTML('');\n    };\n});\n```\n\n## \n\n[GitHub](https://github.com/springuper/yuianalyser/tree/master/event)\n\n## \n\n- [YUILibrary-UserGuides-Event Delegation](http://yuilibrary.com/yui/docs/event/#delegation)\n- [Event delegation in JavaScript](http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/)\n- [YUILibrary-delegate](https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js)\n","slug":"event-delegate","published":1,"updated":"2021-10-05T09:22:50.791Z","comments":1,"photos":[],"link":"","_id":"cl1klgupa00088e857bp81ncu","content":"<p><img src=\"/images/delegate.jpg\" alt=\"relay baton\"></p>\n<p>YUIDOMEvent Delegationzakas<a href=\"http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/\">Event delegation in JavaScript</a>YUI<code>Y.delegate</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li><code>event.target</code></li>\n</ul>\n<p> &lt;=  &lt;= </p>\n<span id=\"more\"></span>\n\n<p>html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://google.com&quot;</span>&gt;</span>google<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;facebook&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://facebook.com&quot;</span>&gt;</span>facebook<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;twitter&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://twitter.com&quot;</span>&gt;</span>twitter<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>Y.delegate</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// API: Y.delegate(type, fn, el, filter)</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> handle = Y.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;ul&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    Y.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;ul&#x27;</span>, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;A is clicked&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    handle.detach();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor again</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>this<code>Y.Node</code></p>\n<p>YUI3<code>Y.Node</code>delegate1</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"comment\">// API: Y.Node.prototype.delegate(type, fn, filter)</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ndList = Y.one(<span class=\"string\">&#x27;ul&#x27;</span>),</span><br><span class=\"line\">        handle;</span><br><span class=\"line\"></span><br><span class=\"line\">    handle = ndList.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;a&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    ndList.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;A is clicked&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    handle.detach();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor again</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>1selector</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ndList = Y.one(<span class=\"string\">&#x27;ul&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    ndList.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nd, e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nd.get(<span class=\"string\">&#x27;name&#x27;</span>) &amp;&amp;</span><br><span class=\"line\">               e.target.get(<span class=\"string\">&#x27;tagName&#x27;</span>).toLowerCase() === <span class=\"string\">&#x27;a&#x27;</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// no output</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click the second anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI</p>\n<p><a href=\"https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js\"></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> toArray = Y.Array,</span><br><span class=\"line\">    isString = Y.Lang.isString;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">delegate</span>(<span class=\"params\">type, fn, el, filter</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> container = isString(el) ? Y.Selector.query(el, <span class=\"literal\">null</span>, <span class=\"literal\">true</span>) : el,</span><br><span class=\"line\">        handle;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// type</span></span><br><span class=\"line\">    handle = Y.Event._attach([type, fn, container], &#123; <span class=\"attr\">facade</span>: <span class=\"literal\">false</span> &#125;);</span><br><span class=\"line\">    handle.sub.filter  = filter;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    handle.sub._notify = delegate.notifySub;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">delegate.notifySub = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">thisObj, args, ce</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// filter</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> currentTarget = delegate._applyFilter(<span class=\"built_in\">this</span>.filter, args, ce),</span><br><span class=\"line\">        e, i, len, ret;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!currentTarget) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    currentTarget = toArray(currentTarget);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    e = args[<span class=\"number\">0</span>] = <span class=\"keyword\">new</span> Y.DOMEventFacade(args[<span class=\"number\">0</span>], ce.el, ce);</span><br><span class=\"line\">    <span class=\"comment\">// container</span></span><br><span class=\"line\">    e.container = Y.one(ce.el);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>, len = currentTarget.length; i &lt; len &amp;&amp; !e.stopped; ++i) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// currentTarget</span></span><br><span class=\"line\">        e.currentTarget = Y.one(currentTarget[i]);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// this</span></span><br><span class=\"line\">        ret = <span class=\"built_in\">this</span>.fn.apply(e.currentTarget, args);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ret === <span class=\"literal\">false</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// filter</span></span><br><span class=\"line\">delegate._applyFilter = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">filter, args, ce</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> e         = args[<span class=\"number\">0</span>],</span><br><span class=\"line\">        container = ce.el,</span><br><span class=\"line\">        target    = e.target || e.srcElement,</span><br><span class=\"line\">        match     = [],</span><br><span class=\"line\">        isContainer = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (target.nodeType === <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">        target = target.parentNode;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// filterselector</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isString(filter)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (target) &#123;</span><br><span class=\"line\">            isContainer = (target === container);</span><br><span class=\"line\">            <span class=\"comment\">// targetselector filter</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (Y.Selector.test(target, filter, (isContainer ? <span class=\"literal\">null</span> : container))) &#123;</span><br><span class=\"line\">                match.push(target);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isContainer) <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            target = target.parentNode;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    <span class=\"comment\">// filterfunction</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// targetfunction filter</span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        args.unshift(Y.one(target));</span><br><span class=\"line\">        args[<span class=\"number\">1</span>] = <span class=\"keyword\">new</span> Y.DOMEventFacade(e, container, ce);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (target) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// function filterthistarget</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (filter.apply(args[<span class=\"number\">0</span>], args)) &#123;</span><br><span class=\"line\">                match.push(target);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (target === container) <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// target</span></span><br><span class=\"line\">            target = target.parentNode;</span><br><span class=\"line\">            args[<span class=\"number\">0</span>] = Y.one(target);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// args</span></span><br><span class=\"line\">        args[<span class=\"number\">1</span>] = e;</span><br><span class=\"line\">        args.shift();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> match.length &lt;= <span class=\"number\">1</span> ? match[<span class=\"number\">0</span>] : match;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.delegate = Y.Event.delegate = delegate;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>Y.delegate</code></p>\n<ul>\n<li>Y.delegate({ typeA: fnA, typeB: fnB }, el, filter)</li>\n<li>Y.delegate([typeA, typeB], fn, el, filter)</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ndList = Y.one(<span class=\"string\">&#x27;ul&#x27;</span>);</span><br><span class=\"line\">    ndList.delegate(&#123;</span><br><span class=\"line\">        <span class=\"attr\">click</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.halt();</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(e.type);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">dblclick</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.halt();</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(e.type);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// double click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;dblclick&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    ndList.delegate([<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"string\">&#x27;dblclick&#x27;</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(e.type);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// double click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;dblclick&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 5</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.one(<span class=\"string\">&#x27;ul&#x27;</span>).delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e, args</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span> === <span class=\"built_in\">document</span>.body);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(args.data);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>, <span class=\"built_in\">document</span>.body, &#123; <span class=\"attr\">data</span>: <span class=\"string\">&#x27;data&#x27;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;true&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;data&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"focusblur\"><a href=\"#focusblur\" class=\"headerlink\" title=\"focusblur\"></a>focusblur</h3><p>DOMfocusblurloadunloadresizefocusblurfocusinfocusout</p>\n<p>YUIDOMfocusblurawesome</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 6</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"string\">&#x27;event-focus&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.one(<span class=\"string\">&#x27;form&#x27;</span>).delegate(&#123;</span><br><span class=\"line\">        <span class=\"attr\">focus</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            clearErr(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">blur</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;value&#x27;</span>) === <span class=\"string\">&#x27;&#x27;</span>) showErr(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;input&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clearErr</span>(<span class=\"params\">nd</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ndErr = nd.next(<span class=\"string\">&#x27;.error&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ndErr) ndErr.hide().setHTML(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">showErr</span>(<span class=\"params\">nd</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ndErr = nd.next(<span class=\"string\">&#x27;.error&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!ndErr) &#123;</span><br><span class=\"line\">            ndErr = Y.Node.create(<span class=\"string\">&#x27;&lt;span class=&quot;error&quot;&gt;&lt;/span&gt;&#x27;</span>);</span><br><span class=\"line\">            nd.insert(ndErr, <span class=\"string\">&#x27;after&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        ndErr.show().setHTML(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/springuper/yuianalyser/tree/master/event\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/event/#delegation\">YUILibrary-UserGuides-Event Delegation</a></li>\n<li><a href=\"http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/\">Event delegation in JavaScript</a></li>\n<li><a href=\"https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js\">YUILibrary-delegate</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><img src=\"/images/delegate.jpg\" alt=\"relay baton\"></p>\n<p>YUIDOMEvent Delegationzakas<a href=\"http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/\">Event delegation in JavaScript</a>YUI<code>Y.delegate</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li><code>event.target</code></li>\n</ul>\n<p> &lt;=  &lt;= </p>","more":"<p>html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://google.com&quot;</span>&gt;</span>google<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;facebook&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://facebook.com&quot;</span>&gt;</span>facebook<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;twitter&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://twitter.com&quot;</span>&gt;</span>twitter<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>Y.delegate</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// API: Y.delegate(type, fn, el, filter)</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> handle = Y.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;ul&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    Y.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;ul&#x27;</span>, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;A is clicked&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    handle.detach();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor again</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>this<code>Y.Node</code></p>\n<p>YUI3<code>Y.Node</code>delegate1</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"comment\">// API: Y.Node.prototype.delegate(type, fn, filter)</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ndList = Y.one(<span class=\"string\">&#x27;ul&#x27;</span>),</span><br><span class=\"line\">        handle;</span><br><span class=\"line\"></span><br><span class=\"line\">    handle = ndList.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;a&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    ndList.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;A is clicked&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    handle.detach();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click first anchor again</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>1selector</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ndList = Y.one(<span class=\"string\">&#x27;ul&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    ndList.delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;tagName&#x27;</span>) + <span class=\"string\">&#x27; is clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nd, e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nd.get(<span class=\"string\">&#x27;name&#x27;</span>) &amp;&amp;</span><br><span class=\"line\">               e.target.get(<span class=\"string\">&#x27;tagName&#x27;</span>).toLowerCase() === <span class=\"string\">&#x27;a&#x27;</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// no output</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click the second anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;LI is clicked&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI</p>\n<p><a href=\"https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js\"></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> toArray = Y.Array,</span><br><span class=\"line\">    isString = Y.Lang.isString;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">delegate</span>(<span class=\"params\">type, fn, el, filter</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> container = isString(el) ? Y.Selector.query(el, <span class=\"literal\">null</span>, <span class=\"literal\">true</span>) : el,</span><br><span class=\"line\">        handle;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// type</span></span><br><span class=\"line\">    handle = Y.Event._attach([type, fn, container], &#123; <span class=\"attr\">facade</span>: <span class=\"literal\">false</span> &#125;);</span><br><span class=\"line\">    handle.sub.filter  = filter;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    handle.sub._notify = delegate.notifySub;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">delegate.notifySub = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">thisObj, args, ce</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// filter</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> currentTarget = delegate._applyFilter(<span class=\"built_in\">this</span>.filter, args, ce),</span><br><span class=\"line\">        e, i, len, ret;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!currentTarget) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    currentTarget = toArray(currentTarget);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    e = args[<span class=\"number\">0</span>] = <span class=\"keyword\">new</span> Y.DOMEventFacade(args[<span class=\"number\">0</span>], ce.el, ce);</span><br><span class=\"line\">    <span class=\"comment\">// container</span></span><br><span class=\"line\">    e.container = Y.one(ce.el);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>, len = currentTarget.length; i &lt; len &amp;&amp; !e.stopped; ++i) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// currentTarget</span></span><br><span class=\"line\">        e.currentTarget = Y.one(currentTarget[i]);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// this</span></span><br><span class=\"line\">        ret = <span class=\"built_in\">this</span>.fn.apply(e.currentTarget, args);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ret === <span class=\"literal\">false</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// filter</span></span><br><span class=\"line\">delegate._applyFilter = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">filter, args, ce</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> e         = args[<span class=\"number\">0</span>],</span><br><span class=\"line\">        container = ce.el,</span><br><span class=\"line\">        target    = e.target || e.srcElement,</span><br><span class=\"line\">        match     = [],</span><br><span class=\"line\">        isContainer = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (target.nodeType === <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">        target = target.parentNode;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// filterselector</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isString(filter)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (target) &#123;</span><br><span class=\"line\">            isContainer = (target === container);</span><br><span class=\"line\">            <span class=\"comment\">// targetselector filter</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (Y.Selector.test(target, filter, (isContainer ? <span class=\"literal\">null</span> : container))) &#123;</span><br><span class=\"line\">                match.push(target);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isContainer) <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            target = target.parentNode;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    <span class=\"comment\">// filterfunction</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// targetfunction filter</span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        args.unshift(Y.one(target));</span><br><span class=\"line\">        args[<span class=\"number\">1</span>] = <span class=\"keyword\">new</span> Y.DOMEventFacade(e, container, ce);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span> (target) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// function filterthistarget</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (filter.apply(args[<span class=\"number\">0</span>], args)) &#123;</span><br><span class=\"line\">                match.push(target);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (target === container) <span class=\"keyword\">break</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// target</span></span><br><span class=\"line\">            target = target.parentNode;</span><br><span class=\"line\">            args[<span class=\"number\">0</span>] = Y.one(target);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// args</span></span><br><span class=\"line\">        args[<span class=\"number\">1</span>] = e;</span><br><span class=\"line\">        args.shift();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> match.length &lt;= <span class=\"number\">1</span> ? match[<span class=\"number\">0</span>] : match;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.delegate = Y.Event.delegate = delegate;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>Y.delegate</code></p>\n<ul>\n<li>Y.delegate({ typeA: fnA, typeB: fnB }, el, filter)</li>\n<li>Y.delegate([typeA, typeB], fn, el, filter)</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ndList = Y.one(<span class=\"string\">&#x27;ul&#x27;</span>);</span><br><span class=\"line\">    ndList.delegate(&#123;</span><br><span class=\"line\">        <span class=\"attr\">click</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.halt();</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(e.type);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">dblclick</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.halt();</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(e.type);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// double click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;dblclick&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    ndList.delegate([<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"string\">&#x27;dblclick&#x27;</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(e.type);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// double click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;click&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;dblclick&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"this\"><a href=\"#this\" class=\"headerlink\" title=\"this\"></a>this</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 5</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.one(<span class=\"string\">&#x27;ul&#x27;</span>).delegate(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e, args</span>) </span>&#123;</span><br><span class=\"line\">        e.halt();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span> === <span class=\"built_in\">document</span>.body);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(args.data);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;li&#x27;</span>, <span class=\"built_in\">document</span>.body, &#123; <span class=\"attr\">data</span>: <span class=\"string\">&#x27;data&#x27;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click the first anchor</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;true&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;data&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"focusblur\"><a href=\"#focusblur\" class=\"headerlink\" title=\"focusblur\"></a>focusblur</h3><p>DOMfocusblurloadunloadresizefocusblurfocusinfocusout</p>\n<p>YUIDOMfocusblurawesome</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 6</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node-event-delegate&#x27;</span>, <span class=\"string\">&#x27;event-focus&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.one(<span class=\"string\">&#x27;form&#x27;</span>).delegate(&#123;</span><br><span class=\"line\">        <span class=\"attr\">focus</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            clearErr(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">blur</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;value&#x27;</span>) === <span class=\"string\">&#x27;&#x27;</span>) showErr(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;input&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clearErr</span>(<span class=\"params\">nd</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ndErr = nd.next(<span class=\"string\">&#x27;.error&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ndErr) ndErr.hide().setHTML(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">showErr</span>(<span class=\"params\">nd</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ndErr = nd.next(<span class=\"string\">&#x27;.error&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!ndErr) &#123;</span><br><span class=\"line\">            ndErr = Y.Node.create(<span class=\"string\">&#x27;&lt;span class=&quot;error&quot;&gt;&lt;/span&gt;&#x27;</span>);</span><br><span class=\"line\">            nd.insert(ndErr, <span class=\"string\">&#x27;after&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        ndErr.show().setHTML(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/springuper/yuianalyser/tree/master/event\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/event/#delegation\">YUILibrary-UserGuides-Event Delegation</a></li>\n<li><a href=\"http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/\">Event delegation in JavaScript</a></li>\n<li><a href=\"https://github.com/yui/yui3/blob/v3.9.1/src/event/js/delegate.js\">YUILibrary-delegate</a></li>\n</ul>"},{"layout":"post","title":"YUIY.CustomEvent","date":"2012-09-01T11:13:00.000Z","comments":1,"status":"publish","_content":"\n![DIY](/images/DIY.jpg)\n\n[](/2013/01/20/event-do/)YUIAOP`Y.Do`\n\nYUI`Y.CustomEvent`YUIDOM\n\n## Y.Subscriber\n\nY.Subscriber\n\n```javascript\nY.Subscriber = function (fn, context) {\n    this.fn = fn; // \n    this.context = context; // \n    this.id = Y.stamp(this); // id\n};\nY.Subscriber.prototype = {\n    constructor: Y.Subscriber,\n    // \n    notify: function (args, ce) {\n        if (this.deleted) return null;\n        var ret;\n\n        ret = this.fn.apply(this.context, args || []);\n        // \n        if (this.once) {\n            ce._delete(this);\n        }\n\n        return ret;\n    }\n};\n```\n\n## Y.CustomEvent\n\n`Y.CustomEvent`[Observer Pattern](http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern)[Publishsubscribe Pattern](http://en.wikipedia.org/wiki/Observer_pattern)\n\nYUIjsfeatures\n\n- (Event Facade)\n- \n- /\n- ()\n- (`Y.EventTarget`)\n- YUIYUI\n\nYUIDOMDOM\n\n<!-- more -->\n\n### \n\n\n\n```javascript\n// 1 \nYUI().use('event-custom', function (Y) {\n    var eatEvent = new Y.CustomEvent('eat');\n    var onHandle = eatEvent.on(function () {\n        Y.log('before eating');\n    });\n    var onHandle2 = eatEvent.on(function () {\n        Y.log('before eating, too');\n    });\n    var afterHandle = eatEvent.after(function () {\n        Y.log('after eating');\n    }); \n\n    // output: \"before eating\", \"before eating, too\", \"after eating\"\n    eatEvent.fire();\n\n    onHandle2.detach();\n    // output: \"before eating\", \"after eating\"\n    eatEvent.fire();\n});\n```\n\n\n```javascript\n// 2 \nYUI().use('event-custom', function (Y) {\n    var birthEvent = new Y.CustomEvent('birth', {\n        fireOnce: true  // you can only birth once\n    });\n    var onBirthHandle = birthEvent.on(function () {\n        Y.log('before birth');\n    });\n\n    // output: \"before birth\"\n    birthEvent.fire();\n    // nothing happened\n    birthEvent.fire();\n\n    // \n    // output: before birth, too\n    var onBirthHandle2 = birthEvent.on(function () {\n        Y.log('before birth, too');\n    });\n});\n```\n\nYUIsandboxapi\n\n```javascript\n// 3 \nYUI().use('event-custom', function (Y) {\n    var cryEvent = new Y.CustomEvent('cry', {\n        broadcast: 2  // global broadcast\n    });\n    cryEvent.on(function () {\n        Y.log('before cry');\n    });\n    Y.on('cry', function () {\n        Y.log('YUI instance broadcast');\n    });\n    Y.Global.on('cry', function () {\n        Y.log('YUI global broadcast');\n    });\n\n    // output: \"before cry\", \"YUI instance broadcast\", \"YUI global broadcast\"\n    cryEvent.fire();\n});\n```\n\nYUINB\n\n```javascript\n// 4 \nYUI().use('event-custom', function (Y) {\n    var driveEvent = new Y.CustomEvent('drive', {\n        emitFacade: true,\n        host: {  // hacking. hosthostaugment Y.EventTarget\n            _yuievt: {},\n            _monitor: function () {}\n        },\n        defaultFn: function () {\n            Y.log('execute defaultFn');\n        },\n        preventedFn: function () {\n            Y.log('execute preventedFn');\n        },\n        stoppedFn: function () {\n            Y.log('execute stoppedFn');\n        }\n    });\n    driveEvent.on(function (e) {\n        e.stopImmediatePropagation();\n    });\n    driveEvent.on(function (e) {\n        e.preventDefault();\n    });\n    driveEvent.after(function (e) {\n        Y.log('after driving');\n    });\n\n    // output: \"execute stoppedFn\", \"execute defaultFn\"\n    driveEvent.fire();\n});\n```\n\n`Y.EventTarget`\n\n### \n\nYUI\n\n[](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38)\n\n```javascript\nvar AFTER = 'after',\n    // config\n    CONFIGS = ['broadcast', 'monitored', 'bubbles', 'context', 'contextFn', 'currentTarget', 'defaultFn', 'defaultTargetOnly', 'details', 'emitFacade', 'fireOnce', 'async', 'host', 'preventable', 'preventedFn', 'queuable', 'silent', 'stoppedFn', 'target', 'type'];\n\nY.CustomEvent = function (type, o) {\n    this.id = Y.stamp(this);\n    this.type = type;\n    this.context = Y;\n    this.preventable = true;\n    this.bubbles = true;\n    this.subscribers = {}; // () YUI3.7.0\n    this.afters = {}; //  YUI3.7.0\n    this.subCount = 0;\n    this.afterCount = 0;\n\n    o = o || {};\n    this.applyConfig(o, true);\n};\nY.CustomEvent.prototype = {\n    constructor: Y.CustomEvent,\n    // \n    applyConfig: function (o, force) {\n        if (o) {\n            Y.mix(this, o, force, CONFIGS);\n        }\n    },\n\n    // \n    on: function (fn, context) {\n        var a = (arguments.length &gt; 2) ? Y.Array(arguments, 2, true) : null;\n        return this._on(fn, context, a, true);\n    },\n    // \n    after: function (fn, context) {\n        var a = (arguments.length &gt; 2) ? Y.Array(arguments, 2, true) : null;\n        return this._on(fn, context, a, AFTER);\n    },\n    // \n    _on: function (fn, context, args, when) {\n        var s = new Y.Subscriber(fn, context);\n\n        if (this.fireOnce &amp;&amp; this.fired) {\n            // \n            this._notify(s, this.firedWith);\n        }\n\n        if (when == AFTER) {\n            this.afters[s.id] = s;\n            this.afterCount++;\n        } else {\n            this.subscribers[s.id] = s;\n            this.subCount++;\n        }\n\n        return new Y.EventHandle(this, s);\n    },\n\n    // \n    fire: function () {\n        if (this.fireOnce &amp;&amp; this.fired) {\n            // true\n            return true;\n        } else {\n            // \n            var args = Y.Array(arguments, 0, true);\n\n            this.fired = true;\n            this.firedWith = args;\n\n            if (this.emitFacade) {\n                // \n                return this.fireComplex(args);\n            } else {\n                return this.fireSimple(args);\n            }\n        }\n    },\n    // \n    fireSimple: function (args) {\n        this.stopped = 0;\n        this.prevented = 0;\n        if (this.hasSubs()) {\n            var subs = this.getSubs();\n            // \n            this._procSubs(subs[0], args);\n            // \n            this._procSubs(subs[1], args);\n        }\n        this._broadcast(args);\n        return this.stopped ? false : true;\n    },\n    // \n    hasSubs: function (when) {\n        var s = this.subCount,\n            a = this.afterCount;\n        if (when) {\n            return (when == 'after') ? a : s;\n        }\n        return (s + a);\n    },\n    // \n    getSubs: function () {\n        var s = Y.merge(this.subscribers),\n            a = Y.merge(this.afters);\n        return [s, a];\n    },\n    // \n    _procSubs: function (subs, args, ef) {\n        var s, i;\n        for (i in subs) {\n            if (subs.hasOwnProperty(i)) {\n                s = subs[i];\n                if (s && s.fn) {\n                    if (false === this._notify(s, args, ef)) {\n                        // false\n                        this.stopped = 2;\n                    }\n                    if (this.stopped == 2) {\n                        // stopImmediatePropagation\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return true;\n    },\n    // \n    _notify: function (s, args, ef) {\n        var ret = s.notify(args, this);\n        if (false === ret || this.stopped &gt; 1) {\n            return false;\n        }\n        return true;\n    },\n    // \n    _broadcast: function (args) {\n        if (!this.stopped &amp;&amp; this.broadcast) {\n            var a = Y.Array(args);\n            a.unshift(this.type);\n\n            // YUIY\n            if (this.host !== Y) {\n                Y.fire.apply(Y, a);\n            }\n\n            // YUI\n            if (this.broadcast == 2) {\n                Y.Global.fire.apply(Y.Global, a);\n            }\n        }\n    },\n\n    // TODO: Y.EventTarget\n    fireComplex: function (args) {},\n\n    // \n    detach: function (fn, context) {\n        // unsubscribe handle\n        if (fn &amp;&amp; fn.detach) {\n            return fn.detach();\n        }\n\n        var i, s,\n            found = 0,\n            subs = Y.merge(this.subscribers, this.afters);\n\n        for (i in subs) {\n            if (subs.hasOwnProperty(i)) {\n                s = subs[i];\n                if (s &amp;&amp; (!fn || fn === s.fn)) {\n                    this._delete(s);\n                    found++;\n                }\n            }\n        }\n\n        return found;\n    },\n    _delete: function (s) {\n        if (s) {\n            if (this.subscribers[s.id]) {\n                delete this.subscribers[s.id];\n                this.subCount--;\n            }\n            if (this.afters[s.id]) {\n                delete this.afters[s.id];\n                this.afterCount--;\n            }\n        }\n\n        if (s) {\n            s.deleted = true;\n        }\n    }\n};\n```\n\n### \nPublishsubscribe Pattern\n\n#### a) /\n\n/\n\nYUI/`Y.Anim`startend`Y.io`successfailureend`Y.Attribute`\n\n#### b) /\n\nDOManchor\n\n###  VS \n\n\n\n[MSDN](http://msdn.microsoft.com/en-us/library/aa733743%28v=vs.60%29.aspx)An event is like an anonymous broadcast, while a call-back is like a handshake. The corollary of this is that a component that raises events knows nothing about its clients, while a component that makes call-backs knows a great deal\n\n\n\n## \n- [YUILibrary-CustomEvent](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html)\n- [YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n- [Wikipedia-Publishsubscribe Pattern](http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern)\n- [Zakas-Custom events in JavaScript](http://www.nczonline.net/blog/2010/03/09/custom-events-in-javascript/)\n- [When to Use Events or Call-Backs for Notifications][1]\n\n[1]:http://msdn.microsoft.com/en-us/library/aa733743(v=vs.60).aspx\n","source":"_posts/event-custom.md","raw":"---\nlayout: post\ntitle: \"YUIY.CustomEvent\"\ndate: 2012-09-01 19:13\ncomments: true\nstatus: publish\ntags: [YUI, Event, JavaScript]\n---\n\n![DIY](/images/DIY.jpg)\n\n[](/2013/01/20/event-do/)YUIAOP`Y.Do`\n\nYUI`Y.CustomEvent`YUIDOM\n\n## Y.Subscriber\n\nY.Subscriber\n\n```javascript\nY.Subscriber = function (fn, context) {\n    this.fn = fn; // \n    this.context = context; // \n    this.id = Y.stamp(this); // id\n};\nY.Subscriber.prototype = {\n    constructor: Y.Subscriber,\n    // \n    notify: function (args, ce) {\n        if (this.deleted) return null;\n        var ret;\n\n        ret = this.fn.apply(this.context, args || []);\n        // \n        if (this.once) {\n            ce._delete(this);\n        }\n\n        return ret;\n    }\n};\n```\n\n## Y.CustomEvent\n\n`Y.CustomEvent`[Observer Pattern](http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern)[Publishsubscribe Pattern](http://en.wikipedia.org/wiki/Observer_pattern)\n\nYUIjsfeatures\n\n- (Event Facade)\n- \n- /\n- ()\n- (`Y.EventTarget`)\n- YUIYUI\n\nYUIDOMDOM\n\n<!-- more -->\n\n### \n\n\n\n```javascript\n// 1 \nYUI().use('event-custom', function (Y) {\n    var eatEvent = new Y.CustomEvent('eat');\n    var onHandle = eatEvent.on(function () {\n        Y.log('before eating');\n    });\n    var onHandle2 = eatEvent.on(function () {\n        Y.log('before eating, too');\n    });\n    var afterHandle = eatEvent.after(function () {\n        Y.log('after eating');\n    }); \n\n    // output: \"before eating\", \"before eating, too\", \"after eating\"\n    eatEvent.fire();\n\n    onHandle2.detach();\n    // output: \"before eating\", \"after eating\"\n    eatEvent.fire();\n});\n```\n\n\n```javascript\n// 2 \nYUI().use('event-custom', function (Y) {\n    var birthEvent = new Y.CustomEvent('birth', {\n        fireOnce: true  // you can only birth once\n    });\n    var onBirthHandle = birthEvent.on(function () {\n        Y.log('before birth');\n    });\n\n    // output: \"before birth\"\n    birthEvent.fire();\n    // nothing happened\n    birthEvent.fire();\n\n    // \n    // output: before birth, too\n    var onBirthHandle2 = birthEvent.on(function () {\n        Y.log('before birth, too');\n    });\n});\n```\n\nYUIsandboxapi\n\n```javascript\n// 3 \nYUI().use('event-custom', function (Y) {\n    var cryEvent = new Y.CustomEvent('cry', {\n        broadcast: 2  // global broadcast\n    });\n    cryEvent.on(function () {\n        Y.log('before cry');\n    });\n    Y.on('cry', function () {\n        Y.log('YUI instance broadcast');\n    });\n    Y.Global.on('cry', function () {\n        Y.log('YUI global broadcast');\n    });\n\n    // output: \"before cry\", \"YUI instance broadcast\", \"YUI global broadcast\"\n    cryEvent.fire();\n});\n```\n\nYUINB\n\n```javascript\n// 4 \nYUI().use('event-custom', function (Y) {\n    var driveEvent = new Y.CustomEvent('drive', {\n        emitFacade: true,\n        host: {  // hacking. hosthostaugment Y.EventTarget\n            _yuievt: {},\n            _monitor: function () {}\n        },\n        defaultFn: function () {\n            Y.log('execute defaultFn');\n        },\n        preventedFn: function () {\n            Y.log('execute preventedFn');\n        },\n        stoppedFn: function () {\n            Y.log('execute stoppedFn');\n        }\n    });\n    driveEvent.on(function (e) {\n        e.stopImmediatePropagation();\n    });\n    driveEvent.on(function (e) {\n        e.preventDefault();\n    });\n    driveEvent.after(function (e) {\n        Y.log('after driving');\n    });\n\n    // output: \"execute stoppedFn\", \"execute defaultFn\"\n    driveEvent.fire();\n});\n```\n\n`Y.EventTarget`\n\n### \n\nYUI\n\n[](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38)\n\n```javascript\nvar AFTER = 'after',\n    // config\n    CONFIGS = ['broadcast', 'monitored', 'bubbles', 'context', 'contextFn', 'currentTarget', 'defaultFn', 'defaultTargetOnly', 'details', 'emitFacade', 'fireOnce', 'async', 'host', 'preventable', 'preventedFn', 'queuable', 'silent', 'stoppedFn', 'target', 'type'];\n\nY.CustomEvent = function (type, o) {\n    this.id = Y.stamp(this);\n    this.type = type;\n    this.context = Y;\n    this.preventable = true;\n    this.bubbles = true;\n    this.subscribers = {}; // () YUI3.7.0\n    this.afters = {}; //  YUI3.7.0\n    this.subCount = 0;\n    this.afterCount = 0;\n\n    o = o || {};\n    this.applyConfig(o, true);\n};\nY.CustomEvent.prototype = {\n    constructor: Y.CustomEvent,\n    // \n    applyConfig: function (o, force) {\n        if (o) {\n            Y.mix(this, o, force, CONFIGS);\n        }\n    },\n\n    // \n    on: function (fn, context) {\n        var a = (arguments.length &gt; 2) ? Y.Array(arguments, 2, true) : null;\n        return this._on(fn, context, a, true);\n    },\n    // \n    after: function (fn, context) {\n        var a = (arguments.length &gt; 2) ? Y.Array(arguments, 2, true) : null;\n        return this._on(fn, context, a, AFTER);\n    },\n    // \n    _on: function (fn, context, args, when) {\n        var s = new Y.Subscriber(fn, context);\n\n        if (this.fireOnce &amp;&amp; this.fired) {\n            // \n            this._notify(s, this.firedWith);\n        }\n\n        if (when == AFTER) {\n            this.afters[s.id] = s;\n            this.afterCount++;\n        } else {\n            this.subscribers[s.id] = s;\n            this.subCount++;\n        }\n\n        return new Y.EventHandle(this, s);\n    },\n\n    // \n    fire: function () {\n        if (this.fireOnce &amp;&amp; this.fired) {\n            // true\n            return true;\n        } else {\n            // \n            var args = Y.Array(arguments, 0, true);\n\n            this.fired = true;\n            this.firedWith = args;\n\n            if (this.emitFacade) {\n                // \n                return this.fireComplex(args);\n            } else {\n                return this.fireSimple(args);\n            }\n        }\n    },\n    // \n    fireSimple: function (args) {\n        this.stopped = 0;\n        this.prevented = 0;\n        if (this.hasSubs()) {\n            var subs = this.getSubs();\n            // \n            this._procSubs(subs[0], args);\n            // \n            this._procSubs(subs[1], args);\n        }\n        this._broadcast(args);\n        return this.stopped ? false : true;\n    },\n    // \n    hasSubs: function (when) {\n        var s = this.subCount,\n            a = this.afterCount;\n        if (when) {\n            return (when == 'after') ? a : s;\n        }\n        return (s + a);\n    },\n    // \n    getSubs: function () {\n        var s = Y.merge(this.subscribers),\n            a = Y.merge(this.afters);\n        return [s, a];\n    },\n    // \n    _procSubs: function (subs, args, ef) {\n        var s, i;\n        for (i in subs) {\n            if (subs.hasOwnProperty(i)) {\n                s = subs[i];\n                if (s && s.fn) {\n                    if (false === this._notify(s, args, ef)) {\n                        // false\n                        this.stopped = 2;\n                    }\n                    if (this.stopped == 2) {\n                        // stopImmediatePropagation\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return true;\n    },\n    // \n    _notify: function (s, args, ef) {\n        var ret = s.notify(args, this);\n        if (false === ret || this.stopped &gt; 1) {\n            return false;\n        }\n        return true;\n    },\n    // \n    _broadcast: function (args) {\n        if (!this.stopped &amp;&amp; this.broadcast) {\n            var a = Y.Array(args);\n            a.unshift(this.type);\n\n            // YUIY\n            if (this.host !== Y) {\n                Y.fire.apply(Y, a);\n            }\n\n            // YUI\n            if (this.broadcast == 2) {\n                Y.Global.fire.apply(Y.Global, a);\n            }\n        }\n    },\n\n    // TODO: Y.EventTarget\n    fireComplex: function (args) {},\n\n    // \n    detach: function (fn, context) {\n        // unsubscribe handle\n        if (fn &amp;&amp; fn.detach) {\n            return fn.detach();\n        }\n\n        var i, s,\n            found = 0,\n            subs = Y.merge(this.subscribers, this.afters);\n\n        for (i in subs) {\n            if (subs.hasOwnProperty(i)) {\n                s = subs[i];\n                if (s &amp;&amp; (!fn || fn === s.fn)) {\n                    this._delete(s);\n                    found++;\n                }\n            }\n        }\n\n        return found;\n    },\n    _delete: function (s) {\n        if (s) {\n            if (this.subscribers[s.id]) {\n                delete this.subscribers[s.id];\n                this.subCount--;\n            }\n            if (this.afters[s.id]) {\n                delete this.afters[s.id];\n                this.afterCount--;\n            }\n        }\n\n        if (s) {\n            s.deleted = true;\n        }\n    }\n};\n```\n\n### \nPublishsubscribe Pattern\n\n#### a) /\n\n/\n\nYUI/`Y.Anim`startend`Y.io`successfailureend`Y.Attribute`\n\n#### b) /\n\nDOManchor\n\n###  VS \n\n\n\n[MSDN](http://msdn.microsoft.com/en-us/library/aa733743%28v=vs.60%29.aspx)An event is like an anonymous broadcast, while a call-back is like a handshake. The corollary of this is that a component that raises events knows nothing about its clients, while a component that makes call-backs knows a great deal\n\n\n\n## \n- [YUILibrary-CustomEvent](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html)\n- [YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n- [Wikipedia-Publishsubscribe Pattern](http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern)\n- [Zakas-Custom events in JavaScript](http://www.nczonline.net/blog/2010/03/09/custom-events-in-javascript/)\n- [When to Use Events or Call-Backs for Notifications][1]\n\n[1]:http://msdn.microsoft.com/en-us/library/aa733743(v=vs.60).aspx\n","slug":"event-custom","published":1,"updated":"2021-10-05T09:22:23.355Z","photos":[],"link":"","_id":"cl1klgupb00098e85htfeay0o","content":"<p><img src=\"/images/DIY.jpg\" alt=\"DIY\"></p>\n<p><a href=\"/2013/01/20/event-do/\"></a>YUIAOP<code>Y.Do</code></p>\n<p>YUI<code>Y.CustomEvent</code>YUIDOM</p>\n<h2 id=\"Y-Subscriber\"><a href=\"#Y-Subscriber\" class=\"headerlink\" title=\"Y.Subscriber\"></a>Y.Subscriber</h2><p>Y.Subscriber</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.Subscriber = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.fn = fn; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.context = context; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.id = Y.stamp(<span class=\"built_in\">this</span>); <span class=\"comment\">// id</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.Subscriber.prototype = &#123;</span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: Y.Subscriber,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">notify</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args, ce</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.deleted) <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ret;</span><br><span class=\"line\"></span><br><span class=\"line\">        ret = <span class=\"built_in\">this</span>.fn.apply(<span class=\"built_in\">this</span>.context, args || []);</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.once) &#123;</span><br><span class=\"line\">            ce._delete(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-CustomEvent\"><a href=\"#Y-CustomEvent\" class=\"headerlink\" title=\"Y.CustomEvent\"></a>Y.CustomEvent</h2><p><code>Y.CustomEvent</code><a href=\"http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\">Observer Pattern</a><a href=\"http://en.wikipedia.org/wiki/Observer_pattern\">Publishsubscribe Pattern</a></p>\n<p>YUIjsfeatures</p>\n<ul>\n<li>(Event Facade)</li>\n<li></li>\n<li>/</li>\n<li>()</li>\n<li>(<code>Y.EventTarget</code>)</li>\n<li>YUIYUI</li>\n</ul>\n<p>YUIDOMDOM</p>\n<span id=\"more\"></span>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> eatEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;eat&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> onHandle = eatEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before eating&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> onHandle2 = eatEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before eating, too&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> afterHandle = eatEvent.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;after eating&#x27;</span>);</span><br><span class=\"line\">    &#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before eating&quot;, &quot;before eating, too&quot;, &quot;after eating&quot;</span></span><br><span class=\"line\">    eatEvent.fire();</span><br><span class=\"line\"></span><br><span class=\"line\">    onHandle2.detach();</span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before eating&quot;, &quot;after eating&quot;</span></span><br><span class=\"line\">    eatEvent.fire();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> birthEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;birth&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">fireOnce</span>: <span class=\"literal\">true</span>  <span class=\"comment\">// you can only birth once</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> onBirthHandle = birthEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before birth&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before birth&quot;</span></span><br><span class=\"line\">    birthEvent.fire();</span><br><span class=\"line\">    <span class=\"comment\">// nothing happened</span></span><br><span class=\"line\">    birthEvent.fire();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// output: before birth, too</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> onBirthHandle2 = birthEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before birth, too&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUIsandboxapi</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cryEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;cry&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">broadcast</span>: <span class=\"number\">2</span>  <span class=\"comment\">// global broadcast</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    cryEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before cry&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    Y.on(<span class=\"string\">&#x27;cry&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;YUI instance broadcast&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    Y.Global.on(<span class=\"string\">&#x27;cry&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;YUI global broadcast&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before cry&quot;, &quot;YUI instance broadcast&quot;, &quot;YUI global broadcast&quot;</span></span><br><span class=\"line\">    cryEvent.fire();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUINB</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> driveEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;drive&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">host</span>: &#123;  <span class=\"comment\">// hacking. hosthostaugment Y.EventTarget</span></span><br><span class=\"line\">            <span class=\"attr\">_yuievt</span>: &#123;&#125;,</span><br><span class=\"line\">            <span class=\"attr\">_monitor</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">defaultFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            Y.log(<span class=\"string\">&#x27;execute defaultFn&#x27;</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">preventedFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            Y.log(<span class=\"string\">&#x27;execute preventedFn&#x27;</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">stoppedFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            Y.log(<span class=\"string\">&#x27;execute stoppedFn&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    driveEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.stopImmediatePropagation();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    driveEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    driveEvent.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;after driving&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;execute stoppedFn&quot;, &quot;execute defaultFn&quot;</span></span><br><span class=\"line\">    driveEvent.fire();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>Y.EventTarget</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUI</p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38\"></a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> AFTER = <span class=\"string\">&#x27;after&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// config</span></span><br><span class=\"line\">    CONFIGS = [<span class=\"string\">&#x27;broadcast&#x27;</span>, <span class=\"string\">&#x27;monitored&#x27;</span>, <span class=\"string\">&#x27;bubbles&#x27;</span>, <span class=\"string\">&#x27;context&#x27;</span>, <span class=\"string\">&#x27;contextFn&#x27;</span>, <span class=\"string\">&#x27;currentTarget&#x27;</span>, <span class=\"string\">&#x27;defaultFn&#x27;</span>, <span class=\"string\">&#x27;defaultTargetOnly&#x27;</span>, <span class=\"string\">&#x27;details&#x27;</span>, <span class=\"string\">&#x27;emitFacade&#x27;</span>, <span class=\"string\">&#x27;fireOnce&#x27;</span>, <span class=\"string\">&#x27;async&#x27;</span>, <span class=\"string\">&#x27;host&#x27;</span>, <span class=\"string\">&#x27;preventable&#x27;</span>, <span class=\"string\">&#x27;preventedFn&#x27;</span>, <span class=\"string\">&#x27;queuable&#x27;</span>, <span class=\"string\">&#x27;silent&#x27;</span>, <span class=\"string\">&#x27;stoppedFn&#x27;</span>, <span class=\"string\">&#x27;target&#x27;</span>, <span class=\"string\">&#x27;type&#x27;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">Y.CustomEvent = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, o</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.id = Y.stamp(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.type = type;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.context = Y;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.preventable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.bubbles = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.subscribers = &#123;&#125;; <span class=\"comment\">// () YUI3.7.0</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.afters = &#123;&#125;; <span class=\"comment\">//  YUI3.7.0</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.subCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.afterCount = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    o = o || &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.applyConfig(o, <span class=\"literal\">true</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.CustomEvent.prototype = &#123;</span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: Y.CustomEvent,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">applyConfig</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">o, force</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (o) &#123;</span><br><span class=\"line\">            Y.mix(<span class=\"built_in\">this</span>, o, force, CONFIGS);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">on</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = (<span class=\"built_in\">arguments</span>.length &amp;gt; <span class=\"number\">2</span>) ? Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">2</span>, <span class=\"literal\">true</span>) : <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._on(fn, context, a, <span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">after</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = (<span class=\"built_in\">arguments</span>.length &amp;gt; <span class=\"number\">2</span>) ? Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">2</span>, <span class=\"literal\">true</span>) : <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._on(fn, context, a, AFTER);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_on</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context, args, when</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> Y.Subscriber(fn, context);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.fireOnce &amp;amp;&amp;amp; <span class=\"built_in\">this</span>.fired) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>._notify(s, <span class=\"built_in\">this</span>.firedWith);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (when == AFTER) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.afters[s.id] = s;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.afterCount++;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.subscribers[s.id] = s;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.subCount++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.EventHandle(<span class=\"built_in\">this</span>, s);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">fire</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.fireOnce &amp;amp;&amp;amp; <span class=\"built_in\">this</span>.fired) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// true</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> args = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">0</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.fired = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.firedWith = args;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.emitFacade) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.fireComplex(args);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.fireSimple(args);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">fireSimple</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.prevented = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.hasSubs()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> subs = <span class=\"built_in\">this</span>.getSubs();</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>._procSubs(subs[<span class=\"number\">0</span>], args);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>._procSubs(subs[<span class=\"number\">1</span>], args);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._broadcast(args);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.stopped ? <span class=\"literal\">false</span> : <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">hasSubs</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">when</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = <span class=\"built_in\">this</span>.subCount,</span><br><span class=\"line\">            a = <span class=\"built_in\">this</span>.afterCount;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (when) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (when == <span class=\"string\">&#x27;after&#x27;</span>) ? a : s;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (s + a);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">getSubs</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = Y.merge(<span class=\"built_in\">this</span>.subscribers),</span><br><span class=\"line\">            a = Y.merge(<span class=\"built_in\">this</span>.afters);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [s, a];</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_procSubs</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">subs, args, ef</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s, i;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> subs) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (subs.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">                s = subs[i];</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (s &amp;&amp; s.fn) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (<span class=\"literal\">false</span> === <span class=\"built_in\">this</span>._notify(s, args, ef)) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// false</span></span><br><span class=\"line\">                        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">2</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.stopped == <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// stopImmediatePropagation</span></span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_notify</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">s, args, ef</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ret = s.notify(args, <span class=\"built_in\">this</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"literal\">false</span> === ret || <span class=\"built_in\">this</span>.stopped &amp;gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_broadcast</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.stopped &amp;amp;&amp;amp; <span class=\"built_in\">this</span>.broadcast) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> a = Y.Array(args);</span><br><span class=\"line\">            a.unshift(<span class=\"built_in\">this</span>.type);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// YUIY</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.host !== Y) &#123;</span><br><span class=\"line\">                Y.fire.apply(Y, a);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// YUI</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.broadcast == <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                Y.Global.fire.apply(Y.Global, a);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Y.EventTarget</span></span><br><span class=\"line\">    <span class=\"attr\">fireComplex</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">detach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// unsubscribe handle</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (fn &amp;amp;&amp;amp; fn.detach) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> fn.detach();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> i, s,</span><br><span class=\"line\">            found = <span class=\"number\">0</span>,</span><br><span class=\"line\">            subs = Y.merge(<span class=\"built_in\">this</span>.subscribers, <span class=\"built_in\">this</span>.afters);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> subs) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (subs.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">                s = subs[i];</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (s &amp;amp;&amp;amp; (!fn || fn === s.fn)) &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">this</span>._delete(s);</span><br><span class=\"line\">                    found++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> found;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">_delete</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">s</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.subscribers[s.id]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.subscribers[s.id];</span><br><span class=\"line\">                <span class=\"built_in\">this</span>.subCount--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.afters[s.id]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.afters[s.id];</span><br><span class=\"line\">                <span class=\"built_in\">this</span>.afterCount--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s) &#123;</span><br><span class=\"line\">            s.deleted = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Publishsubscribe Pattern</p>\n<h4 id=\"a--\"><a href=\"#a--\" class=\"headerlink\" title=\"a) /\"></a>a) /</h4><p>/</p>\n<p>YUI/<code>Y.Anim</code>startend<code>Y.io</code>successfailureend<code>Y.Attribute</code></p>\n<h4 id=\"b--\"><a href=\"#b--\" class=\"headerlink\" title=\"b) /\"></a>b) /</h4><p>DOManchor</p>\n<h3 id=\"-VS-\"><a href=\"#-VS-\" class=\"headerlink\" title=\" VS \"></a> VS </h3><p></p>\n<p><a href=\"http://msdn.microsoft.com/en-us/library/aa733743%28v=vs.60%29.aspx\">MSDN</a>An event is like an anonymous broadcast, while a call-back is like a handshake. The corollary of this is that a component that raises events knows nothing about its clients, while a component that makes call-backs knows a great deal</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html\">YUILibrary-CustomEvent</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUILibrary-EventTarget</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\">Wikipedia-Publishsubscribe Pattern</a></li>\n<li><a href=\"http://www.nczonline.net/blog/2010/03/09/custom-events-in-javascript/\">Zakas-Custom events in JavaScript</a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/aa733743(v=vs.60).aspx\">When to Use Events or Call-Backs for Notifications</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><img src=\"/images/DIY.jpg\" alt=\"DIY\"></p>\n<p><a href=\"/2013/01/20/event-do/\"></a>YUIAOP<code>Y.Do</code></p>\n<p>YUI<code>Y.CustomEvent</code>YUIDOM</p>\n<h2 id=\"Y-Subscriber\"><a href=\"#Y-Subscriber\" class=\"headerlink\" title=\"Y.Subscriber\"></a>Y.Subscriber</h2><p>Y.Subscriber</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.Subscriber = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.fn = fn; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.context = context; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.id = Y.stamp(<span class=\"built_in\">this</span>); <span class=\"comment\">// id</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.Subscriber.prototype = &#123;</span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: Y.Subscriber,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">notify</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args, ce</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.deleted) <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ret;</span><br><span class=\"line\"></span><br><span class=\"line\">        ret = <span class=\"built_in\">this</span>.fn.apply(<span class=\"built_in\">this</span>.context, args || []);</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.once) &#123;</span><br><span class=\"line\">            ce._delete(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-CustomEvent\"><a href=\"#Y-CustomEvent\" class=\"headerlink\" title=\"Y.CustomEvent\"></a>Y.CustomEvent</h2><p><code>Y.CustomEvent</code><a href=\"http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\">Observer Pattern</a><a href=\"http://en.wikipedia.org/wiki/Observer_pattern\">Publishsubscribe Pattern</a></p>\n<p>YUIjsfeatures</p>\n<ul>\n<li>(Event Facade)</li>\n<li></li>\n<li>/</li>\n<li>()</li>\n<li>(<code>Y.EventTarget</code>)</li>\n<li>YUIYUI</li>\n</ul>\n<p>YUIDOMDOM</p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> eatEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;eat&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> onHandle = eatEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before eating&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> onHandle2 = eatEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before eating, too&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> afterHandle = eatEvent.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;after eating&#x27;</span>);</span><br><span class=\"line\">    &#125;); </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before eating&quot;, &quot;before eating, too&quot;, &quot;after eating&quot;</span></span><br><span class=\"line\">    eatEvent.fire();</span><br><span class=\"line\"></span><br><span class=\"line\">    onHandle2.detach();</span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before eating&quot;, &quot;after eating&quot;</span></span><br><span class=\"line\">    eatEvent.fire();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> birthEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;birth&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">fireOnce</span>: <span class=\"literal\">true</span>  <span class=\"comment\">// you can only birth once</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> onBirthHandle = birthEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before birth&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before birth&quot;</span></span><br><span class=\"line\">    birthEvent.fire();</span><br><span class=\"line\">    <span class=\"comment\">// nothing happened</span></span><br><span class=\"line\">    birthEvent.fire();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// output: before birth, too</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> onBirthHandle2 = birthEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before birth, too&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUIsandboxapi</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cryEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;cry&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">broadcast</span>: <span class=\"number\">2</span>  <span class=\"comment\">// global broadcast</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    cryEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;before cry&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    Y.on(<span class=\"string\">&#x27;cry&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;YUI instance broadcast&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    Y.Global.on(<span class=\"string\">&#x27;cry&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;YUI global broadcast&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;before cry&quot;, &quot;YUI instance broadcast&quot;, &quot;YUI global broadcast&quot;</span></span><br><span class=\"line\">    cryEvent.fire();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUINB</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4 </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> driveEvent = <span class=\"keyword\">new</span> Y.CustomEvent(<span class=\"string\">&#x27;drive&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">host</span>: &#123;  <span class=\"comment\">// hacking. hosthostaugment Y.EventTarget</span></span><br><span class=\"line\">            <span class=\"attr\">_yuievt</span>: &#123;&#125;,</span><br><span class=\"line\">            <span class=\"attr\">_monitor</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">defaultFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            Y.log(<span class=\"string\">&#x27;execute defaultFn&#x27;</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">preventedFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            Y.log(<span class=\"string\">&#x27;execute preventedFn&#x27;</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">stoppedFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            Y.log(<span class=\"string\">&#x27;execute stoppedFn&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    driveEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.stopImmediatePropagation();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    driveEvent.on(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    driveEvent.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        Y.log(<span class=\"string\">&#x27;after driving&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: &quot;execute stoppedFn&quot;, &quot;execute defaultFn&quot;</span></span><br><span class=\"line\">    driveEvent.fire();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>Y.EventTarget</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUI</p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38\"></a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> AFTER = <span class=\"string\">&#x27;after&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// config</span></span><br><span class=\"line\">    CONFIGS = [<span class=\"string\">&#x27;broadcast&#x27;</span>, <span class=\"string\">&#x27;monitored&#x27;</span>, <span class=\"string\">&#x27;bubbles&#x27;</span>, <span class=\"string\">&#x27;context&#x27;</span>, <span class=\"string\">&#x27;contextFn&#x27;</span>, <span class=\"string\">&#x27;currentTarget&#x27;</span>, <span class=\"string\">&#x27;defaultFn&#x27;</span>, <span class=\"string\">&#x27;defaultTargetOnly&#x27;</span>, <span class=\"string\">&#x27;details&#x27;</span>, <span class=\"string\">&#x27;emitFacade&#x27;</span>, <span class=\"string\">&#x27;fireOnce&#x27;</span>, <span class=\"string\">&#x27;async&#x27;</span>, <span class=\"string\">&#x27;host&#x27;</span>, <span class=\"string\">&#x27;preventable&#x27;</span>, <span class=\"string\">&#x27;preventedFn&#x27;</span>, <span class=\"string\">&#x27;queuable&#x27;</span>, <span class=\"string\">&#x27;silent&#x27;</span>, <span class=\"string\">&#x27;stoppedFn&#x27;</span>, <span class=\"string\">&#x27;target&#x27;</span>, <span class=\"string\">&#x27;type&#x27;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">Y.CustomEvent = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, o</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.id = Y.stamp(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.type = type;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.context = Y;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.preventable = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.bubbles = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.subscribers = &#123;&#125;; <span class=\"comment\">// () YUI3.7.0</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.afters = &#123;&#125;; <span class=\"comment\">//  YUI3.7.0</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.subCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.afterCount = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    o = o || &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.applyConfig(o, <span class=\"literal\">true</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.CustomEvent.prototype = &#123;</span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: Y.CustomEvent,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">applyConfig</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">o, force</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (o) &#123;</span><br><span class=\"line\">            Y.mix(<span class=\"built_in\">this</span>, o, force, CONFIGS);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">on</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = (<span class=\"built_in\">arguments</span>.length &amp;gt; <span class=\"number\">2</span>) ? Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">2</span>, <span class=\"literal\">true</span>) : <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._on(fn, context, a, <span class=\"literal\">true</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">after</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = (<span class=\"built_in\">arguments</span>.length &amp;gt; <span class=\"number\">2</span>) ? Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">2</span>, <span class=\"literal\">true</span>) : <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._on(fn, context, a, AFTER);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_on</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context, args, when</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = <span class=\"keyword\">new</span> Y.Subscriber(fn, context);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.fireOnce &amp;amp;&amp;amp; <span class=\"built_in\">this</span>.fired) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>._notify(s, <span class=\"built_in\">this</span>.firedWith);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (when == AFTER) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.afters[s.id] = s;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.afterCount++;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.subscribers[s.id] = s;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.subCount++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.EventHandle(<span class=\"built_in\">this</span>, s);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">fire</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.fireOnce &amp;amp;&amp;amp; <span class=\"built_in\">this</span>.fired) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// true</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> args = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">0</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.fired = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.firedWith = args;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.emitFacade) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.fireComplex(args);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.fireSimple(args);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">fireSimple</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.prevented = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.hasSubs()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> subs = <span class=\"built_in\">this</span>.getSubs();</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>._procSubs(subs[<span class=\"number\">0</span>], args);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>._procSubs(subs[<span class=\"number\">1</span>], args);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._broadcast(args);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.stopped ? <span class=\"literal\">false</span> : <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">hasSubs</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">when</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = <span class=\"built_in\">this</span>.subCount,</span><br><span class=\"line\">            a = <span class=\"built_in\">this</span>.afterCount;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (when) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (when == <span class=\"string\">&#x27;after&#x27;</span>) ? a : s;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (s + a);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">getSubs</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s = Y.merge(<span class=\"built_in\">this</span>.subscribers),</span><br><span class=\"line\">            a = Y.merge(<span class=\"built_in\">this</span>.afters);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [s, a];</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_procSubs</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">subs, args, ef</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> s, i;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> subs) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (subs.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">                s = subs[i];</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (s &amp;&amp; s.fn) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (<span class=\"literal\">false</span> === <span class=\"built_in\">this</span>._notify(s, args, ef)) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// false</span></span><br><span class=\"line\">                        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">2</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.stopped == <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// stopImmediatePropagation</span></span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_notify</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">s, args, ef</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ret = s.notify(args, <span class=\"built_in\">this</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"literal\">false</span> === ret || <span class=\"built_in\">this</span>.stopped &amp;gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">_broadcast</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.stopped &amp;amp;&amp;amp; <span class=\"built_in\">this</span>.broadcast) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> a = Y.Array(args);</span><br><span class=\"line\">            a.unshift(<span class=\"built_in\">this</span>.type);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// YUIY</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.host !== Y) &#123;</span><br><span class=\"line\">                Y.fire.apply(Y, a);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// YUI</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.broadcast == <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                Y.Global.fire.apply(Y.Global, a);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Y.EventTarget</span></span><br><span class=\"line\">    <span class=\"attr\">fireComplex</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">detach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// unsubscribe handle</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (fn &amp;amp;&amp;amp; fn.detach) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> fn.detach();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> i, s,</span><br><span class=\"line\">            found = <span class=\"number\">0</span>,</span><br><span class=\"line\">            subs = Y.merge(<span class=\"built_in\">this</span>.subscribers, <span class=\"built_in\">this</span>.afters);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> subs) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (subs.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">                s = subs[i];</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (s &amp;amp;&amp;amp; (!fn || fn === s.fn)) &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">this</span>._delete(s);</span><br><span class=\"line\">                    found++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> found;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">_delete</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">s</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.subscribers[s.id]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.subscribers[s.id];</span><br><span class=\"line\">                <span class=\"built_in\">this</span>.subCount--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.afters[s.id]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.afters[s.id];</span><br><span class=\"line\">                <span class=\"built_in\">this</span>.afterCount--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s) &#123;</span><br><span class=\"line\">            s.deleted = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Publishsubscribe Pattern</p>\n<h4 id=\"a--\"><a href=\"#a--\" class=\"headerlink\" title=\"a) /\"></a>a) /</h4><p>/</p>\n<p>YUI/<code>Y.Anim</code>startend<code>Y.io</code>successfailureend<code>Y.Attribute</code></p>\n<h4 id=\"b--\"><a href=\"#b--\" class=\"headerlink\" title=\"b) /\"></a>b) /</h4><p>DOManchor</p>\n<h3 id=\"-VS-\"><a href=\"#-VS-\" class=\"headerlink\" title=\" VS \"></a> VS </h3><p></p>\n<p><a href=\"http://msdn.microsoft.com/en-us/library/aa733743%28v=vs.60%29.aspx\">MSDN</a>An event is like an anonymous broadcast, while a call-back is like a handshake. The corollary of this is that a component that raises events knows nothing about its clients, while a component that makes call-backs knows a great deal</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html\">YUILibrary-CustomEvent</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUILibrary-EventTarget</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\">Wikipedia-Publishsubscribe Pattern</a></li>\n<li><a href=\"http://www.nczonline.net/blog/2010/03/09/custom-events-in-javascript/\">Zakas-Custom events in JavaScript</a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/aa733743(v=vs.60).aspx\">When to Use Events or Call-Backs for Notifications</a></li>\n</ul>"},{"layout":"post","title":"Event","date":"2011-03-16T16:39:00.000Z","status":"publish","_content":"\nEventjavascript\n\n- Eventinput eventssemantic eventssemantic eventsinput eventsonsubmitinput eventsEventsHTMLEventsMouseEventsUIEventsEventMouseEventUIEventMouseEventEventUIEventaltKeyctrlKeyshiftKey\n- DOM level 0&lt;input type=\"button\" onclick=\"alert(this.nodeName)\" /&gt; elButton.onclick = function(){ alert(this.nodeName); }elButton.onclick()this\n- DOM level 2capturingtarget nodebubblingNetscapeIENetScapeIEW3CaddEventListenercapturingtruebubblingfalse\n- DOM level 0return falsewindow.statusreturn trueDOM level 2preventDefaultstopPropagation\n- IEW3CcapturingbubblingcurrentTargeteventevent/attachEvent/detachEventcancelBubble\n- documentIEsetCapture/releaseCapture\n- keyCodecharCodeIEkeyCode e.charCode || e.keyCodekeypress\n- Document.createEventEvent.initEventdispatchEventIEDocument.createEventObjectfireEvent\n","source":"_posts/event-note.md","raw":"---\nlayout: post\ntitle: \"Event\"\ndate: 2011-03-17 00:39\nstatus: publish\ntags: [Event]\n---\n\nEventjavascript\n\n- Eventinput eventssemantic eventssemantic eventsinput eventsonsubmitinput eventsEventsHTMLEventsMouseEventsUIEventsEventMouseEventUIEventMouseEventEventUIEventaltKeyctrlKeyshiftKey\n- DOM level 0&lt;input type=\"button\" onclick=\"alert(this.nodeName)\" /&gt; elButton.onclick = function(){ alert(this.nodeName); }elButton.onclick()this\n- DOM level 2capturingtarget nodebubblingNetscapeIENetScapeIEW3CaddEventListenercapturingtruebubblingfalse\n- DOM level 0return falsewindow.statusreturn trueDOM level 2preventDefaultstopPropagation\n- IEW3CcapturingbubblingcurrentTargeteventevent/attachEvent/detachEventcancelBubble\n- documentIEsetCapture/releaseCapture\n- keyCodecharCodeIEkeyCode e.charCode || e.keyCodekeypress\n- Document.createEventEvent.initEventdispatchEventIEDocument.createEventObjectfireEvent\n","slug":"event-note","published":1,"updated":"2021-10-04T12:57:16.033Z","comments":1,"photos":[],"link":"","_id":"cl1klgupe000b8e85bh9f4lyu","content":"<p>Eventjavascript</p>\n<ul>\n<li>Eventinput eventssemantic eventssemantic eventsinput eventsonsubmitinput eventsEventsHTMLEventsMouseEventsUIEventsEventMouseEventUIEventMouseEventEventUIEventaltKeyctrlKeyshiftKey</li>\n<li>DOM level 0&lt;input type=button onclick=alert(this.nodeName) /&gt; elButton.onclick = function(){ alert(this.nodeName); }elButton.onclick()this</li>\n<li>DOM level 2capturingtarget nodebubblingNetscapeIENetScapeIEW3CaddEventListenercapturingtruebubblingfalse</li>\n<li>DOM level 0return falsewindow.statusreturn trueDOM level 2preventDefaultstopPropagation</li>\n<li>IEW3CcapturingbubblingcurrentTargeteventevent/attachEvent/detachEventcancelBubble</li>\n<li>documentIEsetCapture/releaseCapture</li>\n<li>keyCodecharCodeIEkeyCode e.charCode || e.keyCodekeypress</li>\n<li>Document.createEventEvent.initEventdispatchEventIEDocument.createEventObjectfireEvent</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>Eventjavascript</p>\n<ul>\n<li>Eventinput eventssemantic eventssemantic eventsinput eventsonsubmitinput eventsEventsHTMLEventsMouseEventsUIEventsEventMouseEventUIEventMouseEventEventUIEventaltKeyctrlKeyshiftKey</li>\n<li>DOM level 0&lt;input type=button onclick=alert(this.nodeName) /&gt; elButton.onclick = function(){ alert(this.nodeName); }elButton.onclick()this</li>\n<li>DOM level 2capturingtarget nodebubblingNetscapeIENetScapeIEW3CaddEventListenercapturingtruebubblingfalse</li>\n<li>DOM level 0return falsewindow.statusreturn trueDOM level 2preventDefaultstopPropagation</li>\n<li>IEW3CcapturingbubblingcurrentTargeteventevent/attachEvent/detachEventcancelBubble</li>\n<li>documentIEsetCapture/releaseCapture</li>\n<li>keyCodecharCodeIEkeyCode e.charCode || e.keyCodekeypress</li>\n<li>Document.createEventEvent.initEventdispatchEventIEDocument.createEventObjectfireEvent</li>\n</ul>\n"},{"layout":"post","title":"YUIY.EventTarget","date":"2012-11-25T13:25:00.000Z","comments":1,"status":"publish","_content":"\n![bubble girl](/images/bubble-girl.jpg)\n\n[YUIY.Do](/event-do/)[YUIY.CustomEvent](/event-custom/)YUIAOP`Y.Do``Y.CustomEvent`\n\nYUI`Y.EventTarget`\n\n## Y.EventTarget\n\nDOM`event.target`inputclickfocus`Y.EventTarget`\n\n`Y.EventTarget``Y.EventCustom``Y.augment``Y.augment``Y.extend`[Y.extendY.augment](/extend-and-augment/)\n\nYUI`Y.EventTarget``Y`YUI instancesandbox`Y.Global``Y.Node``Y.NodeList``Y.Base`\n\nYUILibraryEventTargetEventTarget[YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/)\n\n<!-- more -->\n\n### \n\n`Y.EventTarget`\n\n```javascript\n// 1\nYUI().use('event-custom', function (Y) {\n    var et = new Y.EventTarget();\n\n    et.on('say', function (msg) {\n        console.log('say:', msg);\n    });\n    et.on('listen', function (msg) {\n        console.log('listen:', msg);\n    });\n\n    // output: say: Hello, world\n    instance.fire('say', 'Hello, world');\n});\n```\n\n<!-- more -->\n\nYUI`Y.Global`\n\n`Y.augment`\n\n```javascript\n// 2\nYUI().use('event-custom', function (Y) {\n    function MyClass() {}\n    MyClass.prototype.add = function (item) {\n        // do sth\n        this.fire('addItem', { item: item });\n    };\n    MyClass.prototype.remove = function (item) {\n        // do sth\n        this.fire('removeItem', { item: item });\n    };\n    // EventTargetMyClass\n    Y.augment(MyClass, Y.EventTarget);\n\n    var instance = new MyClass();\n    // addItem\n    instance.on('addItem', function (data) {\n        console.log('add an item:', data.item);\n    });\n    // removeItem\n    instance.on('removeItem', function (data) {\n        console.log('remove an item:', data.item);\n    });\n\n    // output: add an item: orange\n    instance.add('orange');\n    // output: remove an item: red\n    instance.remove('red');\n});\n```\n\n### \n\nYUI\n\n[](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38)\n\n```javascript\nvar AFTER_PREFIX = '~AFTER~';\n\n// EventTarget\nvar ET = function (opts) {\n    var o = opts || {};\n    // \n    this._yuievt = this._yuievt || {\n        id: Y.guid(),\n        events: {},\n        config: o,\n        // \n        defaults: {\n            context: o.context || this,\n            host: this,\n            emitFacade: o.emitFacade,\n            fireOnce: o.fireOnce,\n            queuable: o.queuable,\n            broadcast: o.broadcast\n        }\n    };\n};\n\nET.prototype = {\n    constructor: ET,\n    // \n    publish: function (type, opts) {\n        var ce,\n            events = this._yuievt.events,\n            defaults = this._yuievt.defaults;\n\n        ce = events[type];\n        if (ce) { // \n            if (opts) {\n                ce.applyConfig(opts, true);\n            }\n        } else { // CustomEvent\n            ce = new Y.CustomEvent(type,\n                                    (opts) ? Y.merge(defaults, opts) : defaults);\n            events[type] = ce;\n        }\n\n        return ce;\n    },\n    // \n    on: function (type, fn, context) {\n        var ce,\n            after,\n            handle,\n            args = null;\n\n        // \n        if (type.indexOf(AFTER_PREFIX) &gt; -1) {\n            after = true;\n            type = type.substr(AFTER_PREFIX.length);\n        }\n\n        // \n        ce = this._yuievt.events[type] || this.publish(type);\n        if (arguments.length &gt; 3) {\n            args = Y.Array(arguments, 3, true);\n        }\n\n        // _on\n        handle = ce._on(fn, context, args, after ? 'after' : true);\n\n        return handle;\n    },\n    // \n    once: function () {\n        var handle = this.on.apply(this, arguments);\n        if (handle.sub) {\n            // \n            handle.sub.once = true;\n        }\n        return handle;\n    },\n    // \n    after: function (type, fn) {\n        var a = Y.Array(arguments, 0, true);\n        a[0] = AFTER_PREFIX + type;\n        return this.on.apply(this, a);\n    },\n    // \n    onceAfter: function () {\n        var handle = this.after.apply(this, arguments);\n        if (handle.sub) {\n            handle.sub.once = true;\n        }\n        return handle;\n    },\n    // \n    fire: function (type) {\n        var ce,\n            args;\n        args = Y.Array(arguments, 1, true);\n        ce = this._yuievt.events[type];\n        // \n        if (!ce) return true;\n\n        return ce.fire.apply(ce, args);\n    },\n    // \n    detach: function (type, fn, context) {\n        var events = this._yuievt.events,\n            ce,\n            i;\n\n        // \n        if (!type) {\n            for (i in events) {\n                if (events.hasOwnProperty(i)) {\n                    events[i].detach(fn, context);\n                }\n            }\n            return this;\n        }\n\n        ce = events[type];\n        if (ce) {\n            ce.detach(fn, context);\n        }\n\n        return this;\n    }\n};\n```\n\n### \n\n`Y.EventTarget``Y.CustomEvent`\n\n#### a) \n\nEventTargetDOM\n\n```javascript\n// 3\nYUI().use('event-custom', function (Y) {\n    // \n    function Parent() { ... }\n    Y.augment(Parent, Y.EventTarget, true, null, { emitFacade: true });\n    // \n    function Child() { ... }\n    Y.augment(Child, Y.EventTarget, true, null, { emitFacade: true });\n\n    var parent = new Parent(),\n        child = new Child();\n    // child -&gt; parent\n    child.addTarget(parent);\n\n    parent.on('hear', function (e) {\n        console.log('parent hear', e.msg);\n    });\n    child.on('hear', function (e) {\n        console.log('child hear', e.msg);\n    });\n\n    // output: child hear Hi, parent hear Hi\n    child.fire('hear', { msg: 'Hi' });\n});\n```\n\n#### b) \n\nEventTargetYUIEvent Prefix\n\n```javascript\n// 4\nYUI().use('event-custom', function (Y) {\n    // \n    function Parent() { ... }\n    Y.augment(Parent, Y.EventTarget, true, null, {\n        emitFacade: true,\n        prefix: 'parent' // \n    });\n    // \n    function Child() { ... }\n    Y.augment(Child, Y.EventTarget, true, null, {\n        emitFacade: true,\n        prefix: 'child' // \n    });\n\n    var parent = new Parent(),\n        child = new Child();\n    child.addTarget(parent);\n\n    parent.on('hear', function (e) { // childhear\n        console.log('parent hear', e.msg);\n    });\n    child.on('hear', function (e) {\n        console.log('child hear', e.msg);\n    });\n\n    // output: child hear Hi\n    child.fire('hear', { msg: 'Hi' });\n\n    parent.on('*:see', function (e) { // EventTargetseeprefix\n        console.log('parent see', e.thing);\n    });\n    child.on('child:see', function (e) { // see\n        console.log('child see', e.thing);\n    });\n\n    // output: child hear MM, parent see MM\n    child.fire('see', { thing: 'MM' });\n});\n```\n\n## \n\n- [YUILibrary-CustomEvent](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html)\n- [YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n","source":"_posts/event-target.md","raw":"---\nlayout: post\ntitle: \"YUIY.EventTarget\"\ndate: 2012-11-25 21:25\ncomments: true\nstatus: publish\ntags: [YUI, Event, JavaScript]\n---\n\n![bubble girl](/images/bubble-girl.jpg)\n\n[YUIY.Do](/event-do/)[YUIY.CustomEvent](/event-custom/)YUIAOP`Y.Do``Y.CustomEvent`\n\nYUI`Y.EventTarget`\n\n## Y.EventTarget\n\nDOM`event.target`inputclickfocus`Y.EventTarget`\n\n`Y.EventTarget``Y.EventCustom``Y.augment``Y.augment``Y.extend`[Y.extendY.augment](/extend-and-augment/)\n\nYUI`Y.EventTarget``Y`YUI instancesandbox`Y.Global``Y.Node``Y.NodeList``Y.Base`\n\nYUILibraryEventTargetEventTarget[YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/)\n\n<!-- more -->\n\n### \n\n`Y.EventTarget`\n\n```javascript\n// 1\nYUI().use('event-custom', function (Y) {\n    var et = new Y.EventTarget();\n\n    et.on('say', function (msg) {\n        console.log('say:', msg);\n    });\n    et.on('listen', function (msg) {\n        console.log('listen:', msg);\n    });\n\n    // output: say: Hello, world\n    instance.fire('say', 'Hello, world');\n});\n```\n\n<!-- more -->\n\nYUI`Y.Global`\n\n`Y.augment`\n\n```javascript\n// 2\nYUI().use('event-custom', function (Y) {\n    function MyClass() {}\n    MyClass.prototype.add = function (item) {\n        // do sth\n        this.fire('addItem', { item: item });\n    };\n    MyClass.prototype.remove = function (item) {\n        // do sth\n        this.fire('removeItem', { item: item });\n    };\n    // EventTargetMyClass\n    Y.augment(MyClass, Y.EventTarget);\n\n    var instance = new MyClass();\n    // addItem\n    instance.on('addItem', function (data) {\n        console.log('add an item:', data.item);\n    });\n    // removeItem\n    instance.on('removeItem', function (data) {\n        console.log('remove an item:', data.item);\n    });\n\n    // output: add an item: orange\n    instance.add('orange');\n    // output: remove an item: red\n    instance.remove('red');\n});\n```\n\n### \n\nYUI\n\n[](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38)\n\n```javascript\nvar AFTER_PREFIX = '~AFTER~';\n\n// EventTarget\nvar ET = function (opts) {\n    var o = opts || {};\n    // \n    this._yuievt = this._yuievt || {\n        id: Y.guid(),\n        events: {},\n        config: o,\n        // \n        defaults: {\n            context: o.context || this,\n            host: this,\n            emitFacade: o.emitFacade,\n            fireOnce: o.fireOnce,\n            queuable: o.queuable,\n            broadcast: o.broadcast\n        }\n    };\n};\n\nET.prototype = {\n    constructor: ET,\n    // \n    publish: function (type, opts) {\n        var ce,\n            events = this._yuievt.events,\n            defaults = this._yuievt.defaults;\n\n        ce = events[type];\n        if (ce) { // \n            if (opts) {\n                ce.applyConfig(opts, true);\n            }\n        } else { // CustomEvent\n            ce = new Y.CustomEvent(type,\n                                    (opts) ? Y.merge(defaults, opts) : defaults);\n            events[type] = ce;\n        }\n\n        return ce;\n    },\n    // \n    on: function (type, fn, context) {\n        var ce,\n            after,\n            handle,\n            args = null;\n\n        // \n        if (type.indexOf(AFTER_PREFIX) &gt; -1) {\n            after = true;\n            type = type.substr(AFTER_PREFIX.length);\n        }\n\n        // \n        ce = this._yuievt.events[type] || this.publish(type);\n        if (arguments.length &gt; 3) {\n            args = Y.Array(arguments, 3, true);\n        }\n\n        // _on\n        handle = ce._on(fn, context, args, after ? 'after' : true);\n\n        return handle;\n    },\n    // \n    once: function () {\n        var handle = this.on.apply(this, arguments);\n        if (handle.sub) {\n            // \n            handle.sub.once = true;\n        }\n        return handle;\n    },\n    // \n    after: function (type, fn) {\n        var a = Y.Array(arguments, 0, true);\n        a[0] = AFTER_PREFIX + type;\n        return this.on.apply(this, a);\n    },\n    // \n    onceAfter: function () {\n        var handle = this.after.apply(this, arguments);\n        if (handle.sub) {\n            handle.sub.once = true;\n        }\n        return handle;\n    },\n    // \n    fire: function (type) {\n        var ce,\n            args;\n        args = Y.Array(arguments, 1, true);\n        ce = this._yuievt.events[type];\n        // \n        if (!ce) return true;\n\n        return ce.fire.apply(ce, args);\n    },\n    // \n    detach: function (type, fn, context) {\n        var events = this._yuievt.events,\n            ce,\n            i;\n\n        // \n        if (!type) {\n            for (i in events) {\n                if (events.hasOwnProperty(i)) {\n                    events[i].detach(fn, context);\n                }\n            }\n            return this;\n        }\n\n        ce = events[type];\n        if (ce) {\n            ce.detach(fn, context);\n        }\n\n        return this;\n    }\n};\n```\n\n### \n\n`Y.EventTarget``Y.CustomEvent`\n\n#### a) \n\nEventTargetDOM\n\n```javascript\n// 3\nYUI().use('event-custom', function (Y) {\n    // \n    function Parent() { ... }\n    Y.augment(Parent, Y.EventTarget, true, null, { emitFacade: true });\n    // \n    function Child() { ... }\n    Y.augment(Child, Y.EventTarget, true, null, { emitFacade: true });\n\n    var parent = new Parent(),\n        child = new Child();\n    // child -&gt; parent\n    child.addTarget(parent);\n\n    parent.on('hear', function (e) {\n        console.log('parent hear', e.msg);\n    });\n    child.on('hear', function (e) {\n        console.log('child hear', e.msg);\n    });\n\n    // output: child hear Hi, parent hear Hi\n    child.fire('hear', { msg: 'Hi' });\n});\n```\n\n#### b) \n\nEventTargetYUIEvent Prefix\n\n```javascript\n// 4\nYUI().use('event-custom', function (Y) {\n    // \n    function Parent() { ... }\n    Y.augment(Parent, Y.EventTarget, true, null, {\n        emitFacade: true,\n        prefix: 'parent' // \n    });\n    // \n    function Child() { ... }\n    Y.augment(Child, Y.EventTarget, true, null, {\n        emitFacade: true,\n        prefix: 'child' // \n    });\n\n    var parent = new Parent(),\n        child = new Child();\n    child.addTarget(parent);\n\n    parent.on('hear', function (e) { // childhear\n        console.log('parent hear', e.msg);\n    });\n    child.on('hear', function (e) {\n        console.log('child hear', e.msg);\n    });\n\n    // output: child hear Hi\n    child.fire('hear', { msg: 'Hi' });\n\n    parent.on('*:see', function (e) { // EventTargetseeprefix\n        console.log('parent see', e.thing);\n    });\n    child.on('child:see', function (e) { // see\n        console.log('child see', e.thing);\n    });\n\n    // output: child hear MM, parent see MM\n    child.fire('see', { thing: 'MM' });\n});\n```\n\n## \n\n- [YUILibrary-CustomEvent](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html)\n- [YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n","slug":"event-target","published":1,"updated":"2021-10-05T09:30:56.356Z","photos":[],"link":"","_id":"cl1klgupf000d8e85h32qf2h5","content":"<p><img src=\"/images/bubble-girl.jpg\" alt=\"bubble girl\"></p>\n<p><a href=\"/event-do/\">YUIY.Do</a><a href=\"/event-custom/\">YUIY.CustomEvent</a>YUIAOP<code>Y.Do</code><code>Y.CustomEvent</code></p>\n<p>YUI<code>Y.EventTarget</code></p>\n<h2 id=\"Y-EventTarget\"><a href=\"#Y-EventTarget\" class=\"headerlink\" title=\"Y.EventTarget\"></a>Y.EventTarget</h2><p>DOM<code>event.target</code>inputclickfocus<code>Y.EventTarget</code></p>\n<p><code>Y.EventTarget</code><code>Y.EventCustom</code><code>Y.augment</code><code>Y.augment</code><code>Y.extend</code><a href=\"/extend-and-augment/\">Y.extendY.augment</a></p>\n<p>YUI<code>Y.EventTarget</code><code>Y</code>YUI instancesandbox<code>Y.Global</code><code>Y.Node</code><code>Y.NodeList</code><code>Y.Base</code></p>\n<p>YUILibraryEventTargetEventTarget<a href=\"http://yuilibrary.com/yui/docs/event-custom/\">YUILibrary-EventTarget</a></p>\n<span id=\"more\"></span>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>Y.EventTarget</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> et = <span class=\"keyword\">new</span> Y.EventTarget();</span><br><span class=\"line\"></span><br><span class=\"line\">    et.on(<span class=\"string\">&#x27;say&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;say:&#x27;</span>, msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    et.on(<span class=\"string\">&#x27;listen&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;listen:&#x27;</span>, msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: say: Hello, world</span></span><br><span class=\"line\">    instance.fire(<span class=\"string\">&#x27;say&#x27;</span>, <span class=\"string\">&#x27;Hello, world&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<!-- more -->\n\n<p>YUI<code>Y.Global</code></p>\n<p><code>Y.augment</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyClass</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">    MyClass.prototype.add = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// do sth</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.fire(<span class=\"string\">&#x27;addItem&#x27;</span>, &#123; <span class=\"attr\">item</span>: item &#125;);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    MyClass.prototype.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// do sth</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.fire(<span class=\"string\">&#x27;removeItem&#x27;</span>, &#123; <span class=\"attr\">item</span>: item &#125;);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// EventTargetMyClass</span></span><br><span class=\"line\">    Y.augment(MyClass, Y.EventTarget);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> MyClass();</span><br><span class=\"line\">    <span class=\"comment\">// addItem</span></span><br><span class=\"line\">    instance.on(<span class=\"string\">&#x27;addItem&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;add an item:&#x27;</span>, data.item);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// removeItem</span></span><br><span class=\"line\">    instance.on(<span class=\"string\">&#x27;removeItem&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;remove an item:&#x27;</span>, data.item);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: add an item: orange</span></span><br><span class=\"line\">    instance.add(<span class=\"string\">&#x27;orange&#x27;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// output: remove an item: red</span></span><br><span class=\"line\">    instance.remove(<span class=\"string\">&#x27;red&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUI</p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38\"></a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> AFTER_PREFIX = <span class=\"string\">&#x27;~AFTER~&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventTarget</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> ET = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">opts</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> o = opts || &#123;&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._yuievt = <span class=\"built_in\">this</span>._yuievt || &#123;</span><br><span class=\"line\">        <span class=\"attr\">id</span>: Y.guid(),</span><br><span class=\"line\">        <span class=\"attr\">events</span>: &#123;&#125;,</span><br><span class=\"line\">        <span class=\"attr\">config</span>: o,</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">defaults</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">context</span>: o.context || <span class=\"built_in\">this</span>,</span><br><span class=\"line\">            <span class=\"attr\">host</span>: <span class=\"built_in\">this</span>,</span><br><span class=\"line\">            <span class=\"attr\">emitFacade</span>: o.emitFacade,</span><br><span class=\"line\">            <span class=\"attr\">fireOnce</span>: o.fireOnce,</span><br><span class=\"line\">            <span class=\"attr\">queuable</span>: o.queuable,</span><br><span class=\"line\">            <span class=\"attr\">broadcast</span>: o.broadcast</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">ET.prototype = &#123;</span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: ET,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">publish</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, opts</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ce,</span><br><span class=\"line\">            events = <span class=\"built_in\">this</span>._yuievt.events,</span><br><span class=\"line\">            defaults = <span class=\"built_in\">this</span>._yuievt.defaults;</span><br><span class=\"line\"></span><br><span class=\"line\">        ce = events[type];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ce) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (opts) &#123;</span><br><span class=\"line\">                ce.applyConfig(opts, <span class=\"literal\">true</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// CustomEvent</span></span><br><span class=\"line\">            ce = <span class=\"keyword\">new</span> Y.CustomEvent(type,</span><br><span class=\"line\">                                    (opts) ? Y.merge(defaults, opts) : defaults);</span><br><span class=\"line\">            events[type] = ce;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ce;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">on</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ce,</span><br><span class=\"line\">            after,</span><br><span class=\"line\">            handle,</span><br><span class=\"line\">            args = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (type.indexOf(AFTER_PREFIX) &amp;gt; -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            after = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            type = type.substr(AFTER_PREFIX.length);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        ce = <span class=\"built_in\">this</span>._yuievt.events[type] || <span class=\"built_in\">this</span>.publish(type);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">arguments</span>.length &amp;gt; <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">            args = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">3</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// _on</span></span><br><span class=\"line\">        handle = ce._on(fn, context, args, after ? <span class=\"string\">&#x27;after&#x27;</span> : <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">once</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> handle = <span class=\"built_in\">this</span>.on.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (handle.sub) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            handle.sub.once = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">after</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">0</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        a[<span class=\"number\">0</span>] = AFTER_PREFIX + type;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.on.apply(<span class=\"built_in\">this</span>, a);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">onceAfter</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> handle = <span class=\"built_in\">this</span>.after.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (handle.sub) &#123;</span><br><span class=\"line\">            handle.sub.once = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">fire</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ce,</span><br><span class=\"line\">            args;</span><br><span class=\"line\">        args = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        ce = <span class=\"built_in\">this</span>._yuievt.events[type];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!ce) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ce.fire.apply(ce, args);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">detach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> events = <span class=\"built_in\">this</span>._yuievt.events,</span><br><span class=\"line\">            ce,</span><br><span class=\"line\">            i;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!type) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> events) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (events.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">                    events[i].detach(fn, context);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        ce = events[type];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ce) &#123;</span><br><span class=\"line\">            ce.detach(fn, context);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>Y.EventTarget</code><code>Y.CustomEvent</code></p>\n<h4 id=\"a-\"><a href=\"#a-\" class=\"headerlink\" title=\"a) \"></a>a) </h4><p>EventTargetDOM</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Parent</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Parent, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123; <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Child</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Child, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123; <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> parent = <span class=\"keyword\">new</span> Parent(),</span><br><span class=\"line\">        child = <span class=\"keyword\">new</span> Child();</span><br><span class=\"line\">    <span class=\"comment\">// child -&amp;gt; parent</span></span><br><span class=\"line\">    child.addTarget(parent);</span><br><span class=\"line\"></span><br><span class=\"line\">    parent.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;parent hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    child.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;child hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: child hear Hi, parent hear Hi</span></span><br><span class=\"line\">    child.fire(<span class=\"string\">&#x27;hear&#x27;</span>, &#123; <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;Hi&#x27;</span> &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"b-\"><a href=\"#b-\" class=\"headerlink\" title=\"b) \"></a>b) </h4><p>EventTargetYUIEvent Prefix</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Parent</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Parent, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">prefix</span>: <span class=\"string\">&#x27;parent&#x27;</span> <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Child</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Child, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">prefix</span>: <span class=\"string\">&#x27;child&#x27;</span> <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> parent = <span class=\"keyword\">new</span> Parent(),</span><br><span class=\"line\">        child = <span class=\"keyword\">new</span> Child();</span><br><span class=\"line\">    child.addTarget(parent);</span><br><span class=\"line\"></span><br><span class=\"line\">    parent.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123; <span class=\"comment\">// childhear</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;parent hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    child.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;child hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: child hear Hi</span></span><br><span class=\"line\">    child.fire(<span class=\"string\">&#x27;hear&#x27;</span>, &#123; <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;Hi&#x27;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    parent.on(<span class=\"string\">&#x27;*:see&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123; <span class=\"comment\">// EventTargetseeprefix</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;parent see&#x27;</span>, e.thing);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    child.on(<span class=\"string\">&#x27;child:see&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123; <span class=\"comment\">// see</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;child see&#x27;</span>, e.thing);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: child hear MM, parent see MM</span></span><br><span class=\"line\">    child.fire(<span class=\"string\">&#x27;see&#x27;</span>, &#123; <span class=\"attr\">thing</span>: <span class=\"string\">&#x27;MM&#x27;</span> &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html\">YUILibrary-CustomEvent</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUILibrary-EventTarget</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><img src=\"/images/bubble-girl.jpg\" alt=\"bubble girl\"></p>\n<p><a href=\"/event-do/\">YUIY.Do</a><a href=\"/event-custom/\">YUIY.CustomEvent</a>YUIAOP<code>Y.Do</code><code>Y.CustomEvent</code></p>\n<p>YUI<code>Y.EventTarget</code></p>\n<h2 id=\"Y-EventTarget\"><a href=\"#Y-EventTarget\" class=\"headerlink\" title=\"Y.EventTarget\"></a>Y.EventTarget</h2><p>DOM<code>event.target</code>inputclickfocus<code>Y.EventTarget</code></p>\n<p><code>Y.EventTarget</code><code>Y.EventCustom</code><code>Y.augment</code><code>Y.augment</code><code>Y.extend</code><a href=\"/extend-and-augment/\">Y.extendY.augment</a></p>\n<p>YUI<code>Y.EventTarget</code><code>Y</code>YUI instancesandbox<code>Y.Global</code><code>Y.Node</code><code>Y.NodeList</code><code>Y.Base</code></p>\n<p>YUILibraryEventTargetEventTarget<a href=\"http://yuilibrary.com/yui/docs/event-custom/\">YUILibrary-EventTarget</a></p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>Y.EventTarget</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> et = <span class=\"keyword\">new</span> Y.EventTarget();</span><br><span class=\"line\"></span><br><span class=\"line\">    et.on(<span class=\"string\">&#x27;say&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;say:&#x27;</span>, msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    et.on(<span class=\"string\">&#x27;listen&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;listen:&#x27;</span>, msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: say: Hello, world</span></span><br><span class=\"line\">    instance.fire(<span class=\"string\">&#x27;say&#x27;</span>, <span class=\"string\">&#x27;Hello, world&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<!-- more -->\n\n<p>YUI<code>Y.Global</code></p>\n<p><code>Y.augment</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyClass</span>(<span class=\"params\"></span>) </span>&#123;&#125;</span><br><span class=\"line\">    MyClass.prototype.add = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// do sth</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.fire(<span class=\"string\">&#x27;addItem&#x27;</span>, &#123; <span class=\"attr\">item</span>: item &#125;);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    MyClass.prototype.remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">item</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// do sth</span></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.fire(<span class=\"string\">&#x27;removeItem&#x27;</span>, &#123; <span class=\"attr\">item</span>: item &#125;);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"comment\">// EventTargetMyClass</span></span><br><span class=\"line\">    Y.augment(MyClass, Y.EventTarget);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> MyClass();</span><br><span class=\"line\">    <span class=\"comment\">// addItem</span></span><br><span class=\"line\">    instance.on(<span class=\"string\">&#x27;addItem&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;add an item:&#x27;</span>, data.item);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// removeItem</span></span><br><span class=\"line\">    instance.on(<span class=\"string\">&#x27;removeItem&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;remove an item:&#x27;</span>, data.item);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: add an item: orange</span></span><br><span class=\"line\">    instance.add(<span class=\"string\">&#x27;orange&#x27;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// output: remove an item: red</span></span><br><span class=\"line\">    instance.remove(<span class=\"string\">&#x27;red&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUI</p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html#l38\"></a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> AFTER_PREFIX = <span class=\"string\">&#x27;~AFTER~&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventTarget</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> ET = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">opts</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> o = opts || &#123;&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>._yuievt = <span class=\"built_in\">this</span>._yuievt || &#123;</span><br><span class=\"line\">        <span class=\"attr\">id</span>: Y.guid(),</span><br><span class=\"line\">        <span class=\"attr\">events</span>: &#123;&#125;,</span><br><span class=\"line\">        <span class=\"attr\">config</span>: o,</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">defaults</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">context</span>: o.context || <span class=\"built_in\">this</span>,</span><br><span class=\"line\">            <span class=\"attr\">host</span>: <span class=\"built_in\">this</span>,</span><br><span class=\"line\">            <span class=\"attr\">emitFacade</span>: o.emitFacade,</span><br><span class=\"line\">            <span class=\"attr\">fireOnce</span>: o.fireOnce,</span><br><span class=\"line\">            <span class=\"attr\">queuable</span>: o.queuable,</span><br><span class=\"line\">            <span class=\"attr\">broadcast</span>: o.broadcast</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">ET.prototype = &#123;</span><br><span class=\"line\">    <span class=\"attr\">constructor</span>: ET,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">publish</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, opts</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ce,</span><br><span class=\"line\">            events = <span class=\"built_in\">this</span>._yuievt.events,</span><br><span class=\"line\">            defaults = <span class=\"built_in\">this</span>._yuievt.defaults;</span><br><span class=\"line\"></span><br><span class=\"line\">        ce = events[type];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ce) &#123; <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (opts) &#123;</span><br><span class=\"line\">                ce.applyConfig(opts, <span class=\"literal\">true</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// CustomEvent</span></span><br><span class=\"line\">            ce = <span class=\"keyword\">new</span> Y.CustomEvent(type,</span><br><span class=\"line\">                                    (opts) ? Y.merge(defaults, opts) : defaults);</span><br><span class=\"line\">            events[type] = ce;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ce;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">on</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ce,</span><br><span class=\"line\">            after,</span><br><span class=\"line\">            handle,</span><br><span class=\"line\">            args = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (type.indexOf(AFTER_PREFIX) &amp;gt; -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            after = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            type = type.substr(AFTER_PREFIX.length);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        ce = <span class=\"built_in\">this</span>._yuievt.events[type] || <span class=\"built_in\">this</span>.publish(type);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"built_in\">arguments</span>.length &amp;gt; <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">            args = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">3</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// _on</span></span><br><span class=\"line\">        handle = ce._on(fn, context, args, after ? <span class=\"string\">&#x27;after&#x27;</span> : <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">once</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> handle = <span class=\"built_in\">this</span>.on.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (handle.sub) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            handle.sub.once = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">after</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">0</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        a[<span class=\"number\">0</span>] = AFTER_PREFIX + type;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.on.apply(<span class=\"built_in\">this</span>, a);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">onceAfter</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> handle = <span class=\"built_in\">this</span>.after.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (handle.sub) &#123;</span><br><span class=\"line\">            handle.sub.once = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> handle;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">fire</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> ce,</span><br><span class=\"line\">            args;</span><br><span class=\"line\">        args = Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">1</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        ce = <span class=\"built_in\">this</span>._yuievt.events[type];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!ce) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ce.fire.apply(ce, args);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">detach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn, context</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> events = <span class=\"built_in\">this</span>._yuievt.events,</span><br><span class=\"line\">            ce,</span><br><span class=\"line\">            i;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!type) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> events) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (events.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">                    events[i].detach(fn, context);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        ce = events[type];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ce) &#123;</span><br><span class=\"line\">            ce.detach(fn, context);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>Y.EventTarget</code><code>Y.CustomEvent</code></p>\n<h4 id=\"a-\"><a href=\"#a-\" class=\"headerlink\" title=\"a) \"></a>a) </h4><p>EventTargetDOM</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Parent</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Parent, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123; <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Child</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Child, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123; <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> parent = <span class=\"keyword\">new</span> Parent(),</span><br><span class=\"line\">        child = <span class=\"keyword\">new</span> Child();</span><br><span class=\"line\">    <span class=\"comment\">// child -&amp;gt; parent</span></span><br><span class=\"line\">    child.addTarget(parent);</span><br><span class=\"line\"></span><br><span class=\"line\">    parent.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;parent hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    child.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;child hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: child hear Hi, parent hear Hi</span></span><br><span class=\"line\">    child.fire(<span class=\"string\">&#x27;hear&#x27;</span>, &#123; <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;Hi&#x27;</span> &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"b-\"><a href=\"#b-\" class=\"headerlink\" title=\"b) \"></a>b) </h4><p>EventTargetYUIEvent Prefix</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Parent</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Parent, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">prefix</span>: <span class=\"string\">&#x27;parent&#x27;</span> <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Child</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;</span><br><span class=\"line\">    Y.augment(Child, Y.EventTarget, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">prefix</span>: <span class=\"string\">&#x27;child&#x27;</span> <span class=\"comment\">// </span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> parent = <span class=\"keyword\">new</span> Parent(),</span><br><span class=\"line\">        child = <span class=\"keyword\">new</span> Child();</span><br><span class=\"line\">    child.addTarget(parent);</span><br><span class=\"line\"></span><br><span class=\"line\">    parent.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123; <span class=\"comment\">// childhear</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;parent hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    child.on(<span class=\"string\">&#x27;hear&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;child hear&#x27;</span>, e.msg);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: child hear Hi</span></span><br><span class=\"line\">    child.fire(<span class=\"string\">&#x27;hear&#x27;</span>, &#123; <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;Hi&#x27;</span> &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    parent.on(<span class=\"string\">&#x27;*:see&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123; <span class=\"comment\">// EventTargetseeprefix</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;parent see&#x27;</span>, e.thing);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    child.on(<span class=\"string\">&#x27;child:see&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123; <span class=\"comment\">// see</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;child see&#x27;</span>, e.thing);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// output: child hear MM, parent see MM</span></span><br><span class=\"line\">    child.fire(<span class=\"string\">&#x27;see&#x27;</span>, &#123; <span class=\"attr\">thing</span>: <span class=\"string\">&#x27;MM&#x27;</span> &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-custom.js.html\">YUILibrary-CustomEvent</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUILibrary-EventTarget</a></li>\n</ul>"},{"layout":"post","title":"YUIY.Event","date":"2013-01-20T06:12:00.000Z","status":"publish","_content":"\n![mouse event](/images/mouse.png)\n\n`Y.Do``Y.CustomEvent``Y.EventTarget`YUIDOM`Y.Event`\n\n## Y.DOMEventFacade\n\n`Y.DOMEventFacade`DOM`Y.one('.selector').on('click', function (e) {})``e``Y.DOMEventFacade`\n\n\n\n- targettarget\n- relativeTargetmouseover/mouseout\n- keyCode/charCode\n- pageX/clientX\n\n\n\n- stopPropagation/stopImmediatePropagationYUIYUIelclick`el.addEventListener('click', nativeCallback)`YUI`e.stopImmediatePropagation``nativeCallback`\n- preventDefault\n\nYUI`halt`\n\n<!-- more -->\n\n`Y.DOMEventFacade`\n\n```js\n// DOM2 Eventsevent-base-ie\n\nvar DOMEventFacade = function (ev, currentTarget, wrapper) {\n    this._event = ev;\n    this._currentTarget = currentTarget;\n    this._wrapper = wrapper || {};\n\n    this.init();\n};\n\n// \nDOMEventFacade.resolve = function (n) {\n    if (!n) return n;\n    try {\n        // TEXT_NODE\n        if (n && 3 === n.nodeType) n = n.parentNode;\n    } catch (e) {\n        return null;\n    }\n    return Y.one(n);\n};\n\nY.extend(DOMEventFacade, Object, {\n    // \n    init: function () {\n        var e = this._event,\n            resolve = DOMEventFacade.resolve;\n\n        // keydimension\n\n        this.type = e.type;\n        this.target = resolve(e.target);\n        this.currentTarget = resolve(this._currentTarget);\n        this.relatedTarget = resolve(e.relatedTarget);\n    },\n    // \n    stopPropagation: function () {\n        this._event.stopPropagation();\n        this._wrapper.stopped = 1;\n        this.stopped = 1;\n    },\n    // \n    stopImmediatePropagation: function () {\n        var e = this._event;\n        if (e.stopImmediatePropagation) {\n            // \n            e.stopImmediatePropagation();\n        } else {\n            // \n            this.stopPropagation();\n        }\n        this._wrapper.stopped = 2;\n        this.stopped = 2;\n    },\n    // \n    preventDefault: function (returnValue) {\n        var e = this._event;\n        e.preventDefault();\n        e.returnValue = returnValue || false;\n        this._wrapper.prevented = 1;\n        this.prevented = 1;\n    },\n    // \n    halt: function (immediate) {\n        if (immediate) {\n            this.stopImmediatePropagation();\n        } else {\n            this.stopPropagation();\n        }\n\n        this.preventDefault();\n    }\n});\n\nY.DOMEventFacade = DOMEventFacade;\n```\n\n## Y.Event\n\n`Y.Event`DOM\n\nYUIDOM`Y.CustomEvent`cewrapper`cewrapper.fire`YUIcewrapperDOM\n\n`Y.Event`\n\n```js\n// 1\nYUI().use('selector', 'event-base', function(Y) {\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked');\n    }, '#btn-one');\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked again');\n    }, '#btn-one');\n\n    // click #btn-one\n    // output '#btn-one clicked', '#btn-one clicked again'\n\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked');\n        e.stopPropagation();\n    }, '#btn-two');\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked again');\n        e.stopImmediatePropagation();\n    }, '#btn-two');\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked the third time');\n    }, '#btn-two');\n\n    // click #btn-two\n    // output '#btn-two clicked', '#btn-two clicked again'\n});\n```\n\n`Y.Event`\n\n```js\n// 2\nYUI().use('selector', 'event-base', function(Y) {\n    var countThree = 0;\n    var handle = Y.Event.attach('click', function (e) {\n        console.log('#btn-three clicked', ++countThree);\n        handle.detach();\n    }, '#btn-three');\n\n    // click #btn-three many times\n    // output '#btn-three clicked 1'\n\n    var countFour = 0;\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-four clicked', ++countFour);\n        Y.Event.detach('click', null, '#btn-four');\n    }, '#btn-four');\n\n    // click #btn-four many times\n    // output '#btn-four clicked 1'\n});\n```\n\n### \n\nYUI\n\n[](https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js#L397)\n\n```js\nvar add = function (el, type, fn, capture) {\n        if (el && el.addEventListener) {\n            el.addEventListener(type, fn, capture);\n        } else if (el && el.attachEvent) {\n            el.attachEvent('on' + type, fn);\n        }\n    },\n    remove = function (el, type, fn, capture) {\n        if (el && el.removeEventListener) {\n            try {\n                el.removeEventListener(type, fn, capture);\n            } catch (ex) {}\n        } else if (el && el.detachEvent) {\n            el.detachEvent('on' + type, fn);\n        }\n    },\n    // oHTMLCollectionHTMLElement\n    shouldIterate = function (o) {\n        try {\n            return (o && typeof o !== \"string\" && Y.Lang.isNumber(o.length) && !o.tagName && !Y.DOM.isWindow(o));\n        } catch (ex) {\n            return false;\n        }\n    };\n\nY.Env.evt.dom_wrappers = {};\nY.Env.evt.dom_map = {};\n\nvar Event = function () {\n    var _wrappers = Y.Env.evt.dom_wrappers,\n        _el_events = Y.Env.evt.dom_map;\n\n    return {\n        // \n        attach: function (type, fn, el, context) {\n            return Event._attach(Y.Array(arguments, 0, true));\n        },\n\n        // fire\n        // \n        _createWrapper: function (el, type) {\n            var cewrapper,\n                ek  = Y.stamp(el),\n                key = 'event:' + ek + type;\n\n            cewrapper = _wrappers[key];\n            if (!cewrapper) {\n                cewrapper = Y.publish(key, {\n                    silent: true,\n                    bubbles: false,\n                    contextFn: function () {\n                        cewrapper.nodeRef = cewrapper.nodeRef || Y.one(cewrapper.el);\n                        return cewrapper.nodeRef;\n                    }\n                });\n\n                cewrapper.overrides = {};\n\n                cewrapper.el = el;\n                cewrapper.key = key;\n                cewrapper.domkey = ek;\n                cewrapper.type = type;\n                // DOM\n                cewrapper.fn = function (e) {\n                    // \n                    // DOM\n                    cewrapper.fire(Event.getEvent(e, el));\n                };\n\n                // _delete_cleanDOM\n                cewrapper._delete = function (s) {\n                    var ret = Y.CustomEvent.prototype._delete.apply(this, arguments);\n                    if (!this.hasSubs()) {\n                        // DOM\n                        Event._clean(this);\n                    }\n                    return ret;\n                };\n\n                _wrappers[key] = cewrapper;\n                _el_events[ek] = _el_events[ek] || {};\n                _el_events[ek][key] = cewrapper;\n\n                // \n                add(el, type, cewrapper.fn);\n            }\n\n            return cewrapper;\n        },\n\n        // \n        _attach: function (args) {\n            var handles, oEl, cewrapper, context,\n                ret,\n                type = args[0],\n                fn = args[1],\n                el = args[2];\n            if (!fn || !fn.call) return false;\n\n       l) return false;\n\n            if (Y.Node && Y.instanceOf(el,      lis = Event.getListeners(oEl, type),\n                i, lYUI().use('node-base', 'selector', 'event-base', function(Y)  recursively');\n    }, '#btn-six');\n\n    // click #btn-six\n    // and then, click any elements in #wrapper\n    // output nothing\n});\n```\n\n## YNode\n\nYUI3jQueryHTMLElement/HTMLCollection`Y.Node`\n\n`Y.Event``Y.Node`\n\n- NodeInstance.on\n- NodeInstance.once\n- NodeInstance.after\n- NodeInstance.onceAfter\n\nY`Node.prototype.on``Y.on`YY`Y.EventTarget``Y.EventTarget.prototype.on``Y.Event`\n\n```js\n// 5\nYUI().use('node', function(Y) {\n    Y.Event.attach('click', function (e) {\n        console.log('wrapper clicked');\n    }, '#btn-one');\n\n    // Y.on\n    Y.on('click', function (e) {\n        console.log('btn-one clicked');\n    }, '#btn-one');\n\n    // Node.on\n    Y.one('#btn-one').on('click', function (e) {\n        console.log('btn-one clicked');\n    });\n});\n```\n\n## \n\n[GitHub](https://github.com/springuper/yuianalyser/tree/master/event)\n\n## \n\n- [YUILibrary-UserGuides-Event](http://yuilibrary.com/yui/docs/event/)\n- [YUILibrary-Event](https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js)\n   \n","source":"_posts/event.md","raw":"---\nlayout: post\ntitle: \"YUIY.Event\"\ndate: 2013-01-20 14:12\nstatus: publish\ntags: [Y.Event, YUI]\n---\n\n![mouse event](/images/mouse.png)\n\n`Y.Do``Y.CustomEvent``Y.EventTarget`YUIDOM`Y.Event`\n\n## Y.DOMEventFacade\n\n`Y.DOMEventFacade`DOM`Y.one('.selector').on('click', function (e) {})``e``Y.DOMEventFacade`\n\n\n\n- targettarget\n- relativeTargetmouseover/mouseout\n- keyCode/charCode\n- pageX/clientX\n\n\n\n- stopPropagation/stopImmediatePropagationYUIYUIelclick`el.addEventListener('click', nativeCallback)`YUI`e.stopImmediatePropagation``nativeCallback`\n- preventDefault\n\nYUI`halt`\n\n<!-- more -->\n\n`Y.DOMEventFacade`\n\n```js\n// DOM2 Eventsevent-base-ie\n\nvar DOMEventFacade = function (ev, currentTarget, wrapper) {\n    this._event = ev;\n    this._currentTarget = currentTarget;\n    this._wrapper = wrapper || {};\n\n    this.init();\n};\n\n// \nDOMEventFacade.resolve = function (n) {\n    if (!n) return n;\n    try {\n        // TEXT_NODE\n        if (n && 3 === n.nodeType) n = n.parentNode;\n    } catch (e) {\n        return null;\n    }\n    return Y.one(n);\n};\n\nY.extend(DOMEventFacade, Object, {\n    // \n    init: function () {\n        var e = this._event,\n            resolve = DOMEventFacade.resolve;\n\n        // keydimension\n\n        this.type = e.type;\n        this.target = resolve(e.target);\n        this.currentTarget = resolve(this._currentTarget);\n        this.relatedTarget = resolve(e.relatedTarget);\n    },\n    // \n    stopPropagation: function () {\n        this._event.stopPropagation();\n        this._wrapper.stopped = 1;\n        this.stopped = 1;\n    },\n    // \n    stopImmediatePropagation: function () {\n        var e = this._event;\n        if (e.stopImmediatePropagation) {\n            // \n            e.stopImmediatePropagation();\n        } else {\n            // \n            this.stopPropagation();\n        }\n        this._wrapper.stopped = 2;\n        this.stopped = 2;\n    },\n    // \n    preventDefault: function (returnValue) {\n        var e = this._event;\n        e.preventDefault();\n        e.returnValue = returnValue || false;\n        this._wrapper.prevented = 1;\n        this.prevented = 1;\n    },\n    // \n    halt: function (immediate) {\n        if (immediate) {\n            this.stopImmediatePropagation();\n        } else {\n            this.stopPropagation();\n        }\n\n        this.preventDefault();\n    }\n});\n\nY.DOMEventFacade = DOMEventFacade;\n```\n\n## Y.Event\n\n`Y.Event`DOM\n\nYUIDOM`Y.CustomEvent`cewrapper`cewrapper.fire`YUIcewrapperDOM\n\n`Y.Event`\n\n```js\n// 1\nYUI().use('selector', 'event-base', function(Y) {\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked');\n    }, '#btn-one');\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked again');\n    }, '#btn-one');\n\n    // click #btn-one\n    // output '#btn-one clicked', '#btn-one clicked again'\n\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked');\n        e.stopPropagation();\n    }, '#btn-two');\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked again');\n        e.stopImmediatePropagation();\n    }, '#btn-two');\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-one clicked the third time');\n    }, '#btn-two');\n\n    // click #btn-two\n    // output '#btn-two clicked', '#btn-two clicked again'\n});\n```\n\n`Y.Event`\n\n```js\n// 2\nYUI().use('selector', 'event-base', function(Y) {\n    var countThree = 0;\n    var handle = Y.Event.attach('click', function (e) {\n        console.log('#btn-three clicked', ++countThree);\n        handle.detach();\n    }, '#btn-three');\n\n    // click #btn-three many times\n    // output '#btn-three clicked 1'\n\n    var countFour = 0;\n    Y.Event.attach('click', function (e) {\n        console.log('#btn-four clicked', ++countFour);\n        Y.Event.detach('click', null, '#btn-four');\n    }, '#btn-four');\n\n    // click #btn-four many times\n    // output '#btn-four clicked 1'\n});\n```\n\n### \n\nYUI\n\n[](https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js#L397)\n\n```js\nvar add = function (el, type, fn, capture) {\n        if (el && el.addEventListener) {\n            el.addEventListener(type, fn, capture);\n        } else if (el && el.attachEvent) {\n            el.attachEvent('on' + type, fn);\n        }\n    },\n    remove = function (el, type, fn, capture) {\n        if (el && el.removeEventListener) {\n            try {\n                el.removeEventListener(type, fn, capture);\n            } catch (ex) {}\n        } else if (el && el.detachEvent) {\n            el.detachEvent('on' + type, fn);\n        }\n    },\n    // oHTMLCollectionHTMLElement\n    shouldIterate = function (o) {\n        try {\n            return (o && typeof o !== \"string\" && Y.Lang.isNumber(o.length) && !o.tagName && !Y.DOM.isWindow(o));\n        } catch (ex) {\n            return false;\n        }\n    };\n\nY.Env.evt.dom_wrappers = {};\nY.Env.evt.dom_map = {};\n\nvar Event = function () {\n    var _wrappers = Y.Env.evt.dom_wrappers,\n        _el_events = Y.Env.evt.dom_map;\n\n    return {\n        // \n        attach: function (type, fn, el, context) {\n            return Event._attach(Y.Array(arguments, 0, true));\n        },\n\n        // fire\n        // \n        _createWrapper: function (el, type) {\n            var cewrapper,\n                ek  = Y.stamp(el),\n                key = 'event:' + ek + type;\n\n            cewrapper = _wrappers[key];\n            if (!cewrapper) {\n                cewrapper = Y.publish(key, {\n                    silent: true,\n                    bubbles: false,\n                    contextFn: function () {\n                        cewrapper.nodeRef = cewrapper.nodeRef || Y.one(cewrapper.el);\n                        return cewrapper.nodeRef;\n                    }\n                });\n\n                cewrapper.overrides = {};\n\n                cewrapper.el = el;\n                cewrapper.key = key;\n                cewrapper.domkey = ek;\n                cewrapper.type = type;\n                // DOM\n                cewrapper.fn = function (e) {\n                    // \n                    // DOM\n                    cewrapper.fire(Event.getEvent(e, el));\n                };\n\n                // _delete_cleanDOM\n                cewrapper._delete = function (s) {\n                    var ret = Y.CustomEvent.prototype._delete.apply(this, arguments);\n                    if (!this.hasSubs()) {\n                        // DOM\n                        Event._clean(this);\n                    }\n                    return ret;\n                };\n\n                _wrappers[key] = cewrapper;\n                _el_events[ek] = _el_events[ek] || {};\n                _el_events[ek][key] = cewrapper;\n\n                // \n                add(el, type, cewrapper.fn);\n            }\n\n            return cewrapper;\n        },\n\n        // \n        _attach: function (args) {\n            var handles, oEl, cewrapper, context,\n                ret,\n                type = args[0],\n                fn = args[1],\n                el = args[2];\n            if (!fn || !fn.call) return false;\n\n       l) return false;\n\n            if (Y.Node && Y.instanceOf(el,      lis = Event.getListeners(oEl, type),\n                i, lYUI().use('node-base', 'selector', 'event-base', function(Y)  recursively');\n    }, '#btn-six');\n\n    // click #btn-six\n    // and then, click any elements in #wrapper\n    // output nothing\n});\n```\n\n## YNode\n\nYUI3jQueryHTMLElement/HTMLCollection`Y.Node`\n\n`Y.Event``Y.Node`\n\n- NodeInstance.on\n- NodeInstance.once\n- NodeInstance.after\n- NodeInstance.onceAfter\n\nY`Node.prototype.on``Y.on`YY`Y.EventTarget``Y.EventTarget.prototype.on``Y.Event`\n\n```js\n// 5\nYUI().use('node', function(Y) {\n    Y.Event.attach('click', function (e) {\n        console.log('wrapper clicked');\n    }, '#btn-one');\n\n    // Y.on\n    Y.on('click', function (e) {\n        console.log('btn-one clicked');\n    }, '#btn-one');\n\n    // Node.on\n    Y.one('#btn-one').on('click', function (e) {\n        console.log('btn-one clicked');\n    });\n});\n```\n\n## \n\n[GitHub](https://github.com/springuper/yuianalyser/tree/master/event)\n\n## \n\n- [YUILibrary-UserGuides-Event](http://yuilibrary.com/yui/docs/event/)\n- [YUILibrary-Event](https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js)\n   \n","slug":"event","published":1,"updated":"2021-10-05T09:21:41.238Z","comments":1,"photos":[],"link":"","_id":"cl1klguph000g8e85er5e0m55","content":"<p><img src=\"/images/mouse.png\" alt=\"mouse event\"></p>\n<p><code>Y.Do</code><code>Y.CustomEvent</code><code>Y.EventTarget</code>YUIDOM<code>Y.Event</code></p>\n<h2 id=\"Y-DOMEventFacade\"><a href=\"#Y-DOMEventFacade\" class=\"headerlink\" title=\"Y.DOMEventFacade\"></a>Y.DOMEventFacade</h2><p><code>Y.DOMEventFacade</code>DOM<code>Y.one(&#39;.selector&#39;).on(&#39;click&#39;, function (e) &#123;&#125;)</code><code>e</code><code>Y.DOMEventFacade</code></p>\n<p></p>\n<ul>\n<li>targettarget</li>\n<li>relativeTargetmouseover/mouseout</li>\n<li>keyCode/charCode</li>\n<li>pageX/clientX</li>\n</ul>\n<p></p>\n<ul>\n<li>stopPropagation/stopImmediatePropagationYUIYUIelclick<code>el.addEventListener(&#39;click&#39;, nativeCallback)</code>YUI<code>e.stopImmediatePropagation</code><code>nativeCallback</code></li>\n<li>preventDefault</li>\n</ul>\n<p>YUI<code>halt</code></p>\n<span id=\"more\"></span>\n\n<p><code>Y.DOMEventFacade</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOM2 Eventsevent-base-ie</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> DOMEventFacade = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ev, currentTarget, wrapper</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._event = ev;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._currentTarget = currentTarget;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._wrapper = wrapper || &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.init();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">DOMEventFacade.resolve = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!n) <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// TEXT_NODE</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &amp;&amp; <span class=\"number\">3</span> === n.nodeType) n = n.parentNode;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Y.one(n);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.extend(DOMEventFacade, <span class=\"built_in\">Object</span>, &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">init</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> e = <span class=\"built_in\">this</span>._event,</span><br><span class=\"line\">            resolve = DOMEventFacade.resolve;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// keydimension</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.type = e.type;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.target = resolve(e.target);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.currentTarget = resolve(<span class=\"built_in\">this</span>._currentTarget);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.relatedTarget = resolve(e.relatedTarget);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">stopPropagation</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._event.stopPropagation();</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._wrapper.stopped = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">stopImmediatePropagation</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> e = <span class=\"built_in\">this</span>._event;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e.stopImmediatePropagation) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            e.stopImmediatePropagation();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.stopPropagation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._wrapper.stopped = <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">preventDefault</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">returnValue</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> e = <span class=\"built_in\">this</span>._event;</span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">        e.returnValue = returnValue || <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._wrapper.prevented = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.prevented = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">halt</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">immediate</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (immediate) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.stopImmediatePropagation();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.stopPropagation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.preventDefault();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">Y.DOMEventFacade = DOMEventFacade;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-Event\"><a href=\"#Y-Event\" class=\"headerlink\" title=\"Y.Event\"></a>Y.Event</h2><p><code>Y.Event</code>DOM</p>\n<p>YUIDOM<code>Y.CustomEvent</code>cewrapper<code>cewrapper.fire</code>YUIcewrapperDOM</p>\n<p><code>Y.Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;selector&#x27;</span>, <span class=\"string\">&#x27;event-base&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked again&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-one</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-one clicked&#x27;, &#x27;#btn-one clicked again&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked&#x27;</span>);</span><br><span class=\"line\">        e.stopPropagation();</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-two&#x27;</span>);</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked again&#x27;</span>);</span><br><span class=\"line\">        e.stopImmediatePropagation();</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-two&#x27;</span>);</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked the third time&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-two&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-two</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-two clicked&#x27;, &#x27;#btn-two clicked again&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>Y.Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;selector&#x27;</span>, <span class=\"string\">&#x27;event-base&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> countThree = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> handle = Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-three clicked&#x27;</span>, ++countThree);</span><br><span class=\"line\">        handle.detach();</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-three&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-three many times</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-three clicked 1&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> countFour = <span class=\"number\">0</span>;</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-four clicked&#x27;</span>, ++countFour);</span><br><span class=\"line\">        Y.Event.detach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"literal\">null</span>, <span class=\"string\">&#x27;#btn-four&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-four&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-four many times</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-four clicked 1&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUI</p>\n<p><a href=\"https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js#L397\"></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> add = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el, type, fn, capture</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (el &amp;&amp; el.addEventListener) &#123;</span><br><span class=\"line\">            el.addEventListener(type, fn, capture);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (el &amp;&amp; el.attachEvent) &#123;</span><br><span class=\"line\">            el.attachEvent(<span class=\"string\">&#x27;on&#x27;</span> + type, fn);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el, type, fn, capture</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (el &amp;&amp; el.removeEventListener) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                el.removeEventListener(type, fn, capture);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (ex) &#123;&#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (el &amp;&amp; el.detachEvent) &#123;</span><br><span class=\"line\">            el.detachEvent(<span class=\"string\">&#x27;on&#x27;</span> + type, fn);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// oHTMLCollectionHTMLElement</span></span><br><span class=\"line\">    shouldIterate = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">o</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (o &amp;&amp; <span class=\"keyword\">typeof</span> o !== <span class=\"string\">&quot;string&quot;</span> &amp;&amp; Y.Lang.isNumber(o.length) &amp;&amp; !o.tagName &amp;&amp; !Y.DOM.isWindow(o));</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.Env.evt.dom_wrappers = &#123;&#125;;</span><br><span class=\"line\">Y.Env.evt.dom_map = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> Event = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> _wrappers = Y.Env.evt.dom_wrappers,</span><br><span class=\"line\">        _el_events = Y.Env.evt.dom_map;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">attach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn, el, context</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Event._attach(Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">0</span>, <span class=\"literal\">true</span>));</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// fire</span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">_createWrapper</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el, type</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> cewrapper,</span><br><span class=\"line\">                ek  = Y.stamp(el),</span><br><span class=\"line\">                key = <span class=\"string\">&#x27;event:&#x27;</span> + ek + type;</span><br><span class=\"line\"></span><br><span class=\"line\">            cewrapper = _wrappers[key];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!cewrapper) &#123;</span><br><span class=\"line\">                cewrapper = Y.publish(key, &#123;</span><br><span class=\"line\">                    <span class=\"attr\">silent</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    <span class=\"attr\">bubbles</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                    <span class=\"attr\">contextFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                        cewrapper.nodeRef = cewrapper.nodeRef || Y.one(cewrapper.el);</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> cewrapper.nodeRef;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">                cewrapper.overrides = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                cewrapper.el = el;</span><br><span class=\"line\">                cewrapper.key = key;</span><br><span class=\"line\">                cewrapper.domkey = ek;</span><br><span class=\"line\">                cewrapper.type = type;</span><br><span class=\"line\">                <span class=\"comment\">// DOM</span></span><br><span class=\"line\">                cewrapper.fn = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"comment\">// DOM</span></span><br><span class=\"line\">                    cewrapper.fire(Event.getEvent(e, el));</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// _delete_cleanDOM</span></span><br><span class=\"line\">                cewrapper._delete = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">s</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> ret = Y.CustomEvent.prototype._delete.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.hasSubs()) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// DOM</span></span><br><span class=\"line\">                        Event._clean(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                _wrappers[key] = cewrapper;</span><br><span class=\"line\">                _el_events[ek] = _el_events[ek] || &#123;&#125;;</span><br><span class=\"line\">                _el_events[ek][key] = cewrapper;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                add(el, type, cewrapper.fn);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> cewrapper;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">_attach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> handles, oEl, cewrapper, context,</span><br><span class=\"line\">                ret,</span><br><span class=\"line\">                type = args[<span class=\"number\">0</span>],</span><br><span class=\"line\">                fn = args[<span class=\"number\">1</span>],</span><br><span class=\"line\">                el = args[<span class=\"number\">2</span>];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!fn || !fn.call) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">       l) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (Y.Node &amp;&amp; Y.instanceOf(el,      lis = Event.getListeners(oEl, type),</span><br><span class=\"line\">                i, lYUI().use(<span class=\"string\">&#x27;node-base&#x27;</span>, <span class=\"string\">&#x27;selector&#x27;</span>, <span class=\"string\">&#x27;event-base&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>)  <span class=\"title\">recursively</span>&#x27;)</span>;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-six&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-six</span></span><br><span class=\"line\">    <span class=\"comment\">// and then, click any elements in #wrapper</span></span><br><span class=\"line\">    <span class=\"comment\">// output nothing</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"YNode\"><a href=\"#YNode\" class=\"headerlink\" title=\"YNode\"></a>YNode</h2><p>YUI3jQueryHTMLElement/HTMLCollection<code>Y.Node</code></p>\n<p><code>Y.Event</code><code>Y.Node</code></p>\n<ul>\n<li>NodeInstance.on</li>\n<li>NodeInstance.once</li>\n<li>NodeInstance.after</li>\n<li>NodeInstance.onceAfter</li>\n</ul>\n<p>Y<code>Node.prototype.on</code><code>Y.on</code>YY<code>Y.EventTarget</code><code>Y.EventTarget.prototype.on</code><code>Y.Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 5</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;wrapper clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Y.on</span></span><br><span class=\"line\">    Y.on(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;btn-one clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Node.on</span></span><br><span class=\"line\">    Y.one(<span class=\"string\">&#x27;#btn-one&#x27;</span>).on(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;btn-one clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/springuper/yuianalyser/tree/master/event\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/event/\">YUILibrary-UserGuides-Event</a></li>\n<li><a href=\"https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js\">YUILibrary-Event</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><img src=\"/images/mouse.png\" alt=\"mouse event\"></p>\n<p><code>Y.Do</code><code>Y.CustomEvent</code><code>Y.EventTarget</code>YUIDOM<code>Y.Event</code></p>\n<h2 id=\"Y-DOMEventFacade\"><a href=\"#Y-DOMEventFacade\" class=\"headerlink\" title=\"Y.DOMEventFacade\"></a>Y.DOMEventFacade</h2><p><code>Y.DOMEventFacade</code>DOM<code>Y.one(&#39;.selector&#39;).on(&#39;click&#39;, function (e) &#123;&#125;)</code><code>e</code><code>Y.DOMEventFacade</code></p>\n<p></p>\n<ul>\n<li>targettarget</li>\n<li>relativeTargetmouseover/mouseout</li>\n<li>keyCode/charCode</li>\n<li>pageX/clientX</li>\n</ul>\n<p></p>\n<ul>\n<li>stopPropagation/stopImmediatePropagationYUIYUIelclick<code>el.addEventListener(&#39;click&#39;, nativeCallback)</code>YUI<code>e.stopImmediatePropagation</code><code>nativeCallback</code></li>\n<li>preventDefault</li>\n</ul>\n<p>YUI<code>halt</code></p>","more":"<p><code>Y.DOMEventFacade</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOM2 Eventsevent-base-ie</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> DOMEventFacade = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ev, currentTarget, wrapper</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._event = ev;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._currentTarget = currentTarget;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>._wrapper = wrapper || &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.init();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">DOMEventFacade.resolve = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!n) <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// TEXT_NODE</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n &amp;&amp; <span class=\"number\">3</span> === n.nodeType) n = n.parentNode;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Y.one(n);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.extend(DOMEventFacade, <span class=\"built_in\">Object</span>, &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">init</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> e = <span class=\"built_in\">this</span>._event,</span><br><span class=\"line\">            resolve = DOMEventFacade.resolve;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// keydimension</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.type = e.type;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.target = resolve(e.target);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.currentTarget = resolve(<span class=\"built_in\">this</span>._currentTarget);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.relatedTarget = resolve(e.relatedTarget);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">stopPropagation</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._event.stopPropagation();</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._wrapper.stopped = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">stopImmediatePropagation</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> e = <span class=\"built_in\">this</span>._event;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e.stopImmediatePropagation) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            e.stopImmediatePropagation();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            <span class=\"built_in\">this</span>.stopPropagation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._wrapper.stopped = <span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.stopped = <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">preventDefault</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">returnValue</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> e = <span class=\"built_in\">this</span>._event;</span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">        e.returnValue = returnValue || <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._wrapper.prevented = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.prevented = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">halt</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">immediate</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (immediate) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.stopImmediatePropagation();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.stopPropagation();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">this</span>.preventDefault();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">Y.DOMEventFacade = DOMEventFacade;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-Event\"><a href=\"#Y-Event\" class=\"headerlink\" title=\"Y.Event\"></a>Y.Event</h2><p><code>Y.Event</code>DOM</p>\n<p>YUIDOM<code>Y.CustomEvent</code>cewrapper<code>cewrapper.fire</code>YUIcewrapperDOM</p>\n<p><code>Y.Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;selector&#x27;</span>, <span class=\"string\">&#x27;event-base&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked again&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-one</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-one clicked&#x27;, &#x27;#btn-one clicked again&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked&#x27;</span>);</span><br><span class=\"line\">        e.stopPropagation();</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-two&#x27;</span>);</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked again&#x27;</span>);</span><br><span class=\"line\">        e.stopImmediatePropagation();</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-two&#x27;</span>);</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-one clicked the third time&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-two&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-two</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-two clicked&#x27;, &#x27;#btn-two clicked again&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>Y.Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;selector&#x27;</span>, <span class=\"string\">&#x27;event-base&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> countThree = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> handle = Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-three clicked&#x27;</span>, ++countThree);</span><br><span class=\"line\">        handle.detach();</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-three&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-three many times</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-three clicked 1&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> countFour = <span class=\"number\">0</span>;</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;#btn-four clicked&#x27;</span>, ++countFour);</span><br><span class=\"line\">        Y.Event.detach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"literal\">null</span>, <span class=\"string\">&#x27;#btn-four&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-four&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-four many times</span></span><br><span class=\"line\">    <span class=\"comment\">// output &#x27;#btn-four clicked 1&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUI</p>\n<p><a href=\"https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js#L397\"></a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> add = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el, type, fn, capture</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (el &amp;&amp; el.addEventListener) &#123;</span><br><span class=\"line\">            el.addEventListener(type, fn, capture);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (el &amp;&amp; el.attachEvent) &#123;</span><br><span class=\"line\">            el.attachEvent(<span class=\"string\">&#x27;on&#x27;</span> + type, fn);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    remove = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el, type, fn, capture</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (el &amp;&amp; el.removeEventListener) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                el.removeEventListener(type, fn, capture);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (ex) &#123;&#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (el &amp;&amp; el.detachEvent) &#123;</span><br><span class=\"line\">            el.detachEvent(<span class=\"string\">&#x27;on&#x27;</span> + type, fn);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// oHTMLCollectionHTMLElement</span></span><br><span class=\"line\">    shouldIterate = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">o</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (o &amp;&amp; <span class=\"keyword\">typeof</span> o !== <span class=\"string\">&quot;string&quot;</span> &amp;&amp; Y.Lang.isNumber(o.length) &amp;&amp; !o.tagName &amp;&amp; !Y.DOM.isWindow(o));</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.Env.evt.dom_wrappers = &#123;&#125;;</span><br><span class=\"line\">Y.Env.evt.dom_map = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> Event = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> _wrappers = Y.Env.evt.dom_wrappers,</span><br><span class=\"line\">        _el_events = Y.Env.evt.dom_map;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">attach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">type, fn, el, context</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Event._attach(Y.Array(<span class=\"built_in\">arguments</span>, <span class=\"number\">0</span>, <span class=\"literal\">true</span>));</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// fire</span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">_createWrapper</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">el, type</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> cewrapper,</span><br><span class=\"line\">                ek  = Y.stamp(el),</span><br><span class=\"line\">                key = <span class=\"string\">&#x27;event:&#x27;</span> + ek + type;</span><br><span class=\"line\"></span><br><span class=\"line\">            cewrapper = _wrappers[key];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!cewrapper) &#123;</span><br><span class=\"line\">                cewrapper = Y.publish(key, &#123;</span><br><span class=\"line\">                    <span class=\"attr\">silent</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    <span class=\"attr\">bubbles</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                    <span class=\"attr\">contextFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                        cewrapper.nodeRef = cewrapper.nodeRef || Y.one(cewrapper.el);</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> cewrapper.nodeRef;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">                cewrapper.overrides = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                cewrapper.el = el;</span><br><span class=\"line\">                cewrapper.key = key;</span><br><span class=\"line\">                cewrapper.domkey = ek;</span><br><span class=\"line\">                cewrapper.type = type;</span><br><span class=\"line\">                <span class=\"comment\">// DOM</span></span><br><span class=\"line\">                cewrapper.fn = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"comment\">// DOM</span></span><br><span class=\"line\">                    cewrapper.fire(Event.getEvent(e, el));</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// _delete_cleanDOM</span></span><br><span class=\"line\">                cewrapper._delete = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">s</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> ret = Y.CustomEvent.prototype._delete.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.hasSubs()) &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// DOM</span></span><br><span class=\"line\">                        Event._clean(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                _wrappers[key] = cewrapper;</span><br><span class=\"line\">                _el_events[ek] = _el_events[ek] || &#123;&#125;;</span><br><span class=\"line\">                _el_events[ek][key] = cewrapper;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                add(el, type, cewrapper.fn);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> cewrapper;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"attr\">_attach</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">args</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> handles, oEl, cewrapper, context,</span><br><span class=\"line\">                ret,</span><br><span class=\"line\">                type = args[<span class=\"number\">0</span>],</span><br><span class=\"line\">                fn = args[<span class=\"number\">1</span>],</span><br><span class=\"line\">                el = args[<span class=\"number\">2</span>];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!fn || !fn.call) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">       l) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (Y.Node &amp;&amp; Y.instanceOf(el,      lis = Event.getListeners(oEl, type),</span><br><span class=\"line\">                i, lYUI().use(<span class=\"string\">&#x27;node-base&#x27;</span>, <span class=\"string\">&#x27;selector&#x27;</span>, <span class=\"string\">&#x27;event-base&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>)  <span class=\"title\">recursively</span>&#x27;)</span>;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-six&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// click #btn-six</span></span><br><span class=\"line\">    <span class=\"comment\">// and then, click any elements in #wrapper</span></span><br><span class=\"line\">    <span class=\"comment\">// output nothing</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"YNode\"><a href=\"#YNode\" class=\"headerlink\" title=\"YNode\"></a>YNode</h2><p>YUI3jQueryHTMLElement/HTMLCollection<code>Y.Node</code></p>\n<p><code>Y.Event</code><code>Y.Node</code></p>\n<ul>\n<li>NodeInstance.on</li>\n<li>NodeInstance.once</li>\n<li>NodeInstance.after</li>\n<li>NodeInstance.onceAfter</li>\n</ul>\n<p>Y<code>Node.prototype.on</code><code>Y.on</code>YY<code>Y.EventTarget</code><code>Y.EventTarget.prototype.on</code><code>Y.Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 5</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;node&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.Event.attach(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;wrapper clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Y.on</span></span><br><span class=\"line\">    Y.on(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;btn-one clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;#btn-one&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Node.on</span></span><br><span class=\"line\">    Y.one(<span class=\"string\">&#x27;#btn-one&#x27;</span>).on(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;btn-one clicked&#x27;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/springuper/yuianalyser/tree/master/event\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/event/\">YUILibrary-UserGuides-Event</a></li>\n<li><a href=\"https://github.com/yui/yui3/blob/v3.8.0/build/event-base/event-base-debug.js\">YUILibrary-Event</a></li>\n</ul>"},{"layout":"post","title":"Y.extendY.augment","date":"2012-02-11T13:24:00.000Z","comments":1,"status":"publish","_content":"\nYUI3 OOP`Y.extend``Y.augment`\n\n## Y.extend\n\n`Y.extend`JavaScriptYUIParasitic combination inheritance\n\n`Y.extend`\n\n```javascript\nY.extend = function (r, s) {\n    var sp = s.prototype, rp = Y.Object(sp);\n    r.prototype = rp;\n\n    rp.constructor = r;\n    r.superclass = sp;\n\n    return r;\n};\n\nY.Object = function (o) {\n    var F = function () {};\n    F.prototype = o;\n    return new F();\n}\n```\n\n`__proto__``rp``superclass`\n\n<!-- more -->\n\n\n```javascript\nfunction Programmer(name) {\n    this.name = name;\n}\nProgrammer.prototype.getName = function () {\n    return this.name;\n};\n\nfunction FrontEndProgrammer(name, gender) {\n    // \n    FrontEndProgrammer.superclass.constructor.call(this, name);\n        this.gender = gender;\n}\nFrontEndProgrammer.prototype.getGender = function () {\n    return this.gender;\n};\n\n// \nY.extend(FrontEndProgrammer, Programmer);\n```\n\n## Y.augment\n\nOOP(Composition)`Y.augment`YUI\n\nY.augment\n```javascript\nY.augment = function (receiver, supplier, args) {\n    var rProto    = receiver.prototype,\n        sProto    = supplier.prototype,\n        copy,\n        property;\n\n    args = args ? Y.Array(args) : [];\n\n    copy = function (value, key) {\n        if (!(key in rProto)) {\n            if (Object.prototype.toString.call(value) === '[object Function]') {\n                rProto[key] = function () {\n                    // \n                    this[key] = value;\n                    // \n                    supplier.apply(this, args);\n                    // \n                    return value.apply(this, arguments);                \n                };\n            } else {\n                rProto[key] = value;\n            }\n        }\n    };\n\n    for (property in sProto) {\n        copy.call(null, sProto[property], property);\n    }\n\n    return receiver;\n};\n```\n\n\n\n`Y.augment``args``args``Y.augment``Y.augment``Y.extend`\n\n[YUI](http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html#l31)\n\n\n```javascript\nfunction Code(language) {\n    this.language = language;\n}\nCode.prototype.getLanguage = function () {\n    return this.language;\n};\n\nfunction FrontEndProgrammer(name, gender) {\n    this.name = name;\n    this.gender = gender;\n}\nFrontEndProgrammer.prototype.getName = function () {\n    return this.name;\n};\nFrontEndProgrammer.prototype.getGender = function () {\n    return this.gender;\n};\n\n// \nY.augment(FrontEndProgrammer, Code, 'JavaScript');\n```\n\n## Y.extendY.augment\n\n`Y.extend``Y.augment`OOPFavor 'object composition' over 'class inheritance' [Gang of Four](http://en.wikipedia.org/wiki/Design_Patterns) 1995:20\n\n`Y.extend`Y.augment`\n- `Y.extend``instanceof`\n- `Y.extend``Y.augment`\n- `Y.augment`\n\n`Y.extend``Y.augment`\n\nYUI3\n```javascript\n// Y.BaseYUI\nY.extend(Y.Anim, Y.Base);\nY.extend(ScrollView, Y.Widget);\nY.extend(ACListPlugin, Y.AutoCompleteList);\nY.extend(CacheOffline, Y.Cache);\nY.extend(Calendar, Y.CalendarBase);\n\n// EventTargetAOPY.augment\nY.augment(Y.Node, Y.EventTarget);\nY.augment(Y.DataSource.Local, Pollable);\nY.augment(Lines, Y.Attribute);\n```\n\n## \n- [YUI OOP API](http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html)\n- [Inheritance Patterns in YUI 3](http://www.yuiblog.com/blog/2010/01/06/inheritance-patterns-in-yui-3/)\n- [More code reuse patterns in YUI3](http://www.yuiblog.com/blog/2010/01/07/more-code-reuse-patterns-in-yui3/)\n- [Design Patterns](http://en.wikipedia.org/wiki/Design_Patterns)\n","source":"_posts/extend-and-augment.md","raw":"---\nlayout: post\ntitle: \"Y.extendY.augment\"\ndate: 2012-02-11 21:24\ncomments: true\nstatus: publish\ntags: [YUI, OOP, JavaScript]\n---\n\nYUI3 OOP`Y.extend``Y.augment`\n\n## Y.extend\n\n`Y.extend`JavaScriptYUIParasitic combination inheritance\n\n`Y.extend`\n\n```javascript\nY.extend = function (r, s) {\n    var sp = s.prototype, rp = Y.Object(sp);\n    r.prototype = rp;\n\n    rp.constructor = r;\n    r.superclass = sp;\n\n    return r;\n};\n\nY.Object = function (o) {\n    var F = function () {};\n    F.prototype = o;\n    return new F();\n}\n```\n\n`__proto__``rp``superclass`\n\n<!-- more -->\n\n\n```javascript\nfunction Programmer(name) {\n    this.name = name;\n}\nProgrammer.prototype.getName = function () {\n    return this.name;\n};\n\nfunction FrontEndProgrammer(name, gender) {\n    // \n    FrontEndProgrammer.superclass.constructor.call(this, name);\n        this.gender = gender;\n}\nFrontEndProgrammer.prototype.getGender = function () {\n    return this.gender;\n};\n\n// \nY.extend(FrontEndProgrammer, Programmer);\n```\n\n## Y.augment\n\nOOP(Composition)`Y.augment`YUI\n\nY.augment\n```javascript\nY.augment = function (receiver, supplier, args) {\n    var rProto    = receiver.prototype,\n        sProto    = supplier.prototype,\n        copy,\n        property;\n\n    args = args ? Y.Array(args) : [];\n\n    copy = function (value, key) {\n        if (!(key in rProto)) {\n            if (Object.prototype.toString.call(value) === '[object Function]') {\n                rProto[key] = function () {\n                    // \n                    this[key] = value;\n                    // \n                    supplier.apply(this, args);\n                    // \n                    return value.apply(this, arguments);                \n                };\n            } else {\n                rProto[key] = value;\n            }\n        }\n    };\n\n    for (property in sProto) {\n        copy.call(null, sProto[property], property);\n    }\n\n    return receiver;\n};\n```\n\n\n\n`Y.augment``args``args``Y.augment``Y.augment``Y.extend`\n\n[YUI](http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html#l31)\n\n\n```javascript\nfunction Code(language) {\n    this.language = language;\n}\nCode.prototype.getLanguage = function () {\n    return this.language;\n};\n\nfunction FrontEndProgrammer(name, gender) {\n    this.name = name;\n    this.gender = gender;\n}\nFrontEndProgrammer.prototype.getName = function () {\n    return this.name;\n};\nFrontEndProgrammer.prototype.getGender = function () {\n    return this.gender;\n};\n\n// \nY.augment(FrontEndProgrammer, Code, 'JavaScript');\n```\n\n## Y.extendY.augment\n\n`Y.extend``Y.augment`OOPFavor 'object composition' over 'class inheritance' [Gang of Four](http://en.wikipedia.org/wiki/Design_Patterns) 1995:20\n\n`Y.extend`Y.augment`\n- `Y.extend``instanceof`\n- `Y.extend``Y.augment`\n- `Y.augment`\n\n`Y.extend``Y.augment`\n\nYUI3\n```javascript\n// Y.BaseYUI\nY.extend(Y.Anim, Y.Base);\nY.extend(ScrollView, Y.Widget);\nY.extend(ACListPlugin, Y.AutoCompleteList);\nY.extend(CacheOffline, Y.Cache);\nY.extend(Calendar, Y.CalendarBase);\n\n// EventTargetAOPY.augment\nY.augment(Y.Node, Y.EventTarget);\nY.augment(Y.DataSource.Local, Pollable);\nY.augment(Lines, Y.Attribute);\n```\n\n## \n- [YUI OOP API](http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html)\n- [Inheritance Patterns in YUI 3](http://www.yuiblog.com/blog/2010/01/06/inheritance-patterns-in-yui-3/)\n- [More code reuse patterns in YUI3](http://www.yuiblog.com/blog/2010/01/07/more-code-reuse-patterns-in-yui3/)\n- [Design Patterns](http://en.wikipedia.org/wiki/Design_Patterns)\n","slug":"extend-and-augment","published":1,"updated":"2021-10-04T12:57:16.038Z","photos":[],"link":"","_id":"cl1klgupi000h8e853bu5a8nf","content":"<p>YUI3 OOP<code>Y.extend</code><code>Y.augment</code></p>\n<h2 id=\"Y-extend\"><a href=\"#Y-extend\" class=\"headerlink\" title=\"Y.extend\"></a>Y.extend</h2><p><code>Y.extend</code>JavaScriptYUIParasitic combination inheritance</p>\n<p><code>Y.extend</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.extend = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">r, s</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sp = s.prototype, rp = Y.Object(sp);</span><br><span class=\"line\">    r.prototype = rp;</span><br><span class=\"line\"></span><br><span class=\"line\">    rp.constructor = r;</span><br><span class=\"line\">    r.superclass = sp;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.Object = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">o</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> F = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;;</span><br><span class=\"line\">    F.prototype = o;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> F();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>__proto__</code><code>rp</code><code>superclass</code></p>\n<span id=\"more\"></span>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Programmer</span>(<span class=\"params\">name</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Programmer.prototype.getName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.name;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">FrontEndProgrammer</span>(<span class=\"params\">name, gender</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    FrontEndProgrammer.superclass.constructor.call(<span class=\"built_in\">this</span>, name);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.gender = gender;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">FrontEndProgrammer.prototype.getGender = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.gender;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Y.extend(FrontEndProgrammer, Programmer);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-augment\"><a href=\"#Y-augment\" class=\"headerlink\" title=\"Y.augment\"></a>Y.augment</h2><p>OOP(Composition)<code>Y.augment</code>YUI</p>\n<p>Y.augment</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.augment = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">receiver, supplier, args</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> rProto    = receiver.prototype,</span><br><span class=\"line\">        sProto    = supplier.prototype,</span><br><span class=\"line\">        copy,</span><br><span class=\"line\">        property;</span><br><span class=\"line\"></span><br><span class=\"line\">    args = args ? Y.Array(args) : [];</span><br><span class=\"line\"></span><br><span class=\"line\">    copy = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value, key</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!(key <span class=\"keyword\">in</span> rProto)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">Object</span>.prototype.toString.call(value) === <span class=\"string\">&#x27;[object Function]&#x27;</span>) &#123;</span><br><span class=\"line\">                rProto[key] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"built_in\">this</span>[key] = value;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    supplier.apply(<span class=\"built_in\">this</span>, args);</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> value.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);                </span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                rProto[key] = value;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (property <span class=\"keyword\">in</span> sProto) &#123;</span><br><span class=\"line\">        copy.call(<span class=\"literal\">null</span>, sProto[property], property);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> receiver;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<p><code>Y.augment</code><code>args</code><code>args</code><code>Y.augment</code><code>Y.augment</code><code>Y.extend</code></p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html#l31\">YUI</a></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Code</span>(<span class=\"params\">language</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.language = language;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Code.prototype.getLanguage = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.language;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">FrontEndProgrammer</span>(<span class=\"params\">name, gender</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.gender = gender;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">FrontEndProgrammer.prototype.getName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.name;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">FrontEndProgrammer.prototype.getGender = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.gender;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Y.augment(FrontEndProgrammer, Code, <span class=\"string\">&#x27;JavaScript&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-extendY-augment\"><a href=\"#Y-extendY-augment\" class=\"headerlink\" title=\"Y.extendY.augment\"></a>Y.extendY.augment</h2><p><code>Y.extend</code><code>Y.augment</code>OOPFavor object composition over class inheritance <a href=\"http://en.wikipedia.org/wiki/Design_Patterns\">Gang of Four</a> 1995:20</p>\n<p><code>Y.extend</code>Y.augment`</p>\n<ul>\n<li><code>Y.extend</code><code>instanceof</code></li>\n<li><code>Y.extend</code><code>Y.augment</code></li>\n<li><code>Y.augment</code></li>\n</ul>\n<p><code>Y.extend</code><code>Y.augment</code></p>\n<p>YUI3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Y.BaseYUI</span></span><br><span class=\"line\">Y.extend(Y.Anim, Y.Base);</span><br><span class=\"line\">Y.extend(ScrollView, Y.Widget);</span><br><span class=\"line\">Y.extend(ACListPlugin, Y.AutoCompleteList);</span><br><span class=\"line\">Y.extend(CacheOffline, Y.Cache);</span><br><span class=\"line\">Y.extend(Calendar, Y.CalendarBase);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventTargetAOPY.augment</span></span><br><span class=\"line\">Y.augment(Y.Node, Y.EventTarget);</span><br><span class=\"line\">Y.augment(Y.DataSource.Local, Pollable);</span><br><span class=\"line\">Y.augment(Lines, Y.Attribute);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html\">YUI OOP API</a></li>\n<li><a href=\"http://www.yuiblog.com/blog/2010/01/06/inheritance-patterns-in-yui-3/\">Inheritance Patterns in YUI 3</a></li>\n<li><a href=\"http://www.yuiblog.com/blog/2010/01/07/more-code-reuse-patterns-in-yui3/\">More code reuse patterns in YUI3</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Design_Patterns\">Design Patterns</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>YUI3 OOP<code>Y.extend</code><code>Y.augment</code></p>\n<h2 id=\"Y-extend\"><a href=\"#Y-extend\" class=\"headerlink\" title=\"Y.extend\"></a>Y.extend</h2><p><code>Y.extend</code>JavaScriptYUIParasitic combination inheritance</p>\n<p><code>Y.extend</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.extend = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">r, s</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> sp = s.prototype, rp = Y.Object(sp);</span><br><span class=\"line\">    r.prototype = rp;</span><br><span class=\"line\"></span><br><span class=\"line\">    rp.constructor = r;</span><br><span class=\"line\">    r.superclass = sp;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.Object = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">o</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> F = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;&#125;;</span><br><span class=\"line\">    F.prototype = o;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> F();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>__proto__</code><code>rp</code><code>superclass</code></p>","more":"<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Programmer</span>(<span class=\"params\">name</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Programmer.prototype.getName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.name;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">FrontEndProgrammer</span>(<span class=\"params\">name, gender</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    FrontEndProgrammer.superclass.constructor.call(<span class=\"built_in\">this</span>, name);</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.gender = gender;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">FrontEndProgrammer.prototype.getGender = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.gender;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Y.extend(FrontEndProgrammer, Programmer);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-augment\"><a href=\"#Y-augment\" class=\"headerlink\" title=\"Y.augment\"></a>Y.augment</h2><p>OOP(Composition)<code>Y.augment</code>YUI</p>\n<p>Y.augment</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.augment = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">receiver, supplier, args</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> rProto    = receiver.prototype,</span><br><span class=\"line\">        sProto    = supplier.prototype,</span><br><span class=\"line\">        copy,</span><br><span class=\"line\">        property;</span><br><span class=\"line\"></span><br><span class=\"line\">    args = args ? Y.Array(args) : [];</span><br><span class=\"line\"></span><br><span class=\"line\">    copy = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value, key</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!(key <span class=\"keyword\">in</span> rProto)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">Object</span>.prototype.toString.call(value) === <span class=\"string\">&#x27;[object Function]&#x27;</span>) &#123;</span><br><span class=\"line\">                rProto[key] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"built_in\">this</span>[key] = value;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    supplier.apply(<span class=\"built_in\">this</span>, args);</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> value.apply(<span class=\"built_in\">this</span>, <span class=\"built_in\">arguments</span>);                </span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                rProto[key] = value;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (property <span class=\"keyword\">in</span> sProto) &#123;</span><br><span class=\"line\">        copy.call(<span class=\"literal\">null</span>, sProto[property], property);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> receiver;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<p><code>Y.augment</code><code>args</code><code>args</code><code>Y.augment</code><code>Y.augment</code><code>Y.extend</code></p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html#l31\">YUI</a></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Code</span>(<span class=\"params\">language</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.language = language;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Code.prototype.getLanguage = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.language;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">FrontEndProgrammer</span>(<span class=\"params\">name, gender</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.gender = gender;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">FrontEndProgrammer.prototype.getName = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.name;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">FrontEndProgrammer.prototype.getGender = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>.gender;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Y.augment(FrontEndProgrammer, Code, <span class=\"string\">&#x27;JavaScript&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-extendY-augment\"><a href=\"#Y-extendY-augment\" class=\"headerlink\" title=\"Y.extendY.augment\"></a>Y.extendY.augment</h2><p><code>Y.extend</code><code>Y.augment</code>OOPFavor object composition over class inheritance <a href=\"http://en.wikipedia.org/wiki/Design_Patterns\">Gang of Four</a> 1995:20</p>\n<p><code>Y.extend</code>Y.augment`</p>\n<ul>\n<li><code>Y.extend</code><code>instanceof</code></li>\n<li><code>Y.extend</code><code>Y.augment</code></li>\n<li><code>Y.augment</code></li>\n</ul>\n<p><code>Y.extend</code><code>Y.augment</code></p>\n<p>YUI3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Y.BaseYUI</span></span><br><span class=\"line\">Y.extend(Y.Anim, Y.Base);</span><br><span class=\"line\">Y.extend(ScrollView, Y.Widget);</span><br><span class=\"line\">Y.extend(ACListPlugin, Y.AutoCompleteList);</span><br><span class=\"line\">Y.extend(CacheOffline, Y.Cache);</span><br><span class=\"line\">Y.extend(Calendar, Y.CalendarBase);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// EventTargetAOPY.augment</span></span><br><span class=\"line\">Y.augment(Y.Node, Y.EventTarget);</span><br><span class=\"line\">Y.augment(Y.DataSource.Local, Pollable);</span><br><span class=\"line\">Y.augment(Lines, Y.Attribute);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/files/oop_js_oop.js.html\">YUI OOP API</a></li>\n<li><a href=\"http://www.yuiblog.com/blog/2010/01/06/inheritance-patterns-in-yui-3/\">Inheritance Patterns in YUI 3</a></li>\n<li><a href=\"http://www.yuiblog.com/blog/2010/01/07/more-code-reuse-patterns-in-yui3/\">More code reuse patterns in YUI3</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Design_Patterns\">Design Patterns</a></li>\n</ul>"},{"layout":"post","title":" Pipeline","date":"2017-10-05T13:35:00.000Z","status":"publish","_content":"\n [ Pipeline](https://zhuanlan.zhihu.com/p/28561932) \n","source":"_posts/fe-pipeline.md","raw":"---\nlayout: post\ntitle: \" Pipeline\"\ndate: 2017-10-05 21:35\nstatus: publish\ntags: [FrontEnd, Pipeline, Middleware, Stream, Promise]\n---\n\n [ Pipeline](https://zhuanlan.zhihu.com/p/28561932) \n","slug":"fe-pipeline","published":1,"updated":"2021-10-05T13:19:50.200Z","comments":1,"photos":[],"link":"","_id":"cl1klgupj000j8e855q0wfyai","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/28561932\"> Pipeline</a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/28561932\"> Pipeline</a> </p>\n"},{"layout":"post","title":"YUIY.Do","date":"2012-07-14T09:34:00.000Z","comments":1,"status":"publish","_content":"\nYUI\n\n- YUI 3s Event module is one of the strengths of the library  --Eric Miraglia, [YUI Theater  Luke Smith: \"Events Evolved\"](http://www.yuiblog.com/blog/2009/10/30/smith-yuiconf2009-events/)\n- YUI 3 is not all about DOM manipulation  it also contains a robust set of class/object management tools, not to mention our powerful custom events --Tilo Mitra, [10 Things I Learned While Interning at YUI](http://net.tutsplus.com/articles/general/10-things-i-learned-while-interning-at-yui/)\n- One of the strengths of the YUI App Framework is that it's integrated tightly with the rest of YUI and benefits from YUI's fantastic event system and plugin/extension infrastructure. --Ryan Grove, [How can I decided whether to choose YUI 3's MVC or Backbone for a new project?](http://www.quora.com/How-can-I-decided-whether-to-choose-YUI-3s-MVC-or-Backbone-for-a-new-project#ld_xJGMd1_3012)\n\nYUI\n\n- AFAIK YUI 3's event system is the most sophisticated of any JavaScript framework. Am I wrong in thinking that? --[Walter Rumsby](https://twitter.com/wrumsby/status/113568040834174976)\n- I love the event system in YUI. Pure awesomeness. --[Kevin Isom](https://twitter.com/kev_nz/statuses/180472697644515328)\n- I am constantly impressed by the degree of excellence I find in working with the YUI3 framework --Andrew Wooldridge, [Cross YUI Communication and Custom Events](http://andrewwooldridge.com/blog/2011/03/08/cross-yui-communication-and-custom-events/)\n\nYUIYUI\n\n`Y.EventHandle``Y.Do`YUI\n\n<!-- more -->\n\n## Y.EventHandle\n`Y.EventHandle`/\n\n```javascript\nY.EventHandle = function (evt, sub) {\n    this.evt = evt; // \n    this.sub = sub; // \n};\nY.EventHandle.detach = function () {\n    this.evt._delete(this.sub); // event_delete/\n    return true;\n};\n```\n\n## Y.Do\n\n`Y.Do`()[AOP](http://en.wikipedia.org/wiki/Aspect-oriented_programming)\n\n## \n\n\n\n```javascript\n// 1\nYUI().use('event-custom', function (Y) {\n    var cat = {\n        eat: function () {\n            console.log('eat a fish');\n        }\n    };\n\n    cat.eat(); // output: eat a fish\n\n    var beforeHandle = Y.Do.before(function () {\n        console.log('catch a fish');\n    }, cat, 'eat');\n    var afterHandle = Y.Do.after(function () {\n        console.log('done!');\n    }, cat, 'eat');\n    cat.eat(); // output: catch a fish, eat, done!\n\n    afterHandle.detach();\n    cat.eat(); // output: catch a fish, eat\n});\n```\n\n`Y.Do``Y.Do`\n\n## \n\nYUI\n\n[](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-do.js.html#l16)\n\n```javascript\n// YUI3.4.1YUI3.5.0Y.Do\nvar DO_BEFORE = 0,\n    DO_AFTER = 1;\nY.Do = {\n    // \n    objs: {},\n    before: function (fn, obj, sFn) {\n        return this._inject(DO_BEFORE, fn, obj, sFn);\n    },\n    after: function (fn, obj, sFn) {\n        return this._inject(DO_AFTER, fn, obj, sFn);\n    },\n    _inject: function (when, fn, obj, sFn) {\n        var id = Y.stamp(obj), o, sid;\n        if (!this.objs[id]) this.objs[id] = {};\n        o = this.objs[id];\n        if (!o[sFn]) {\n            // Method\n            o[sFn] = new Y.Do.Method(obj, sFn);\n            // \n            obj[sFn] = function () {\n                return o[sFn].exec.apply(o[sFn], arguments);\n            };\n        }\n        sid = id + Y.stamp(fn) + sFn;\n        // \n        o[sFn].register(sid, fn, when);\n\n        // EventHandle\n        return new Y.EventHandle(o[sFn], sid);\n    }\n}\n\nY.Do.Method = function (obj, sFn) {\n    this.obj = obj;\n    this.methodName = sFn;\n    this.method = obj[sFn];\n    this.before = {};\n    this.after = {};\n};\nY.Do.Method.prototype.register = function (sid, fn, when) {\n    if (when) {\n        this.after[sid] = fn;\n    } else {\n        this.before[sid] = fn;\n    }\n};\n// \nY.Do.Method.prototype._delete = function (sid) {\n    delete this.before[sid];\n    delete this.after[sid];\n};\nY.Do.Method.prototype.exec = function () {\n    var before = this.before,\n        after = this.after,\n        i, ret;\n    // \n    for (i in before) {\n        if (before.hasOwnProperty(i)) {\n            ret = before[i].apply(this.obj, arguments);\n        }\n    }\n    // \n    ret = this.method.apply(this.obj, arguments);\n    // \n    for (i in after) {\n        if (after.hasOwnProperty(i)) {\n            ret = after[i].apply(this.obj, arguments);\n        }\n    }\n    return ret;\n};\n```\n\n## \n\n### a) \n\n1\n\n### b) \n\n\n\n```javascript\n// 2\nYUI().use('event-custom', function (Y) {\n    function Car(brand) {\n        this.brand = brand;\n    };\n    Car.prototype.start = function () {\n        console.log('start');\n    };\n\n    var myCar = new Car('bmw');\n    Y.Do.before(function () {\n        console.log('open the door');\n    }, Car.prototype, 'start');\n    Y.Do.after(function () {\n        console.log('the car is started!');\n    }, Car.prototype, 'start');\n\n    myCar.start(); // output: open the door, start, the car is started!\n});\n```\n\n### c) \n\nYUI[](http://yuilibrary.com/yui/docs/plugin/#methods)\n\n### d) \n\nYUI[](http://yuilibrary.com/yui/docs/assets/base/myextension.js.txt)\n\n## \n\n`Y.Do`\n\n```javascript\n// 3\nYUI().use('event-custom', function (Y) {\n    function Car(brand, degree) {\n        this.brand = brand;\n        this.degree = degree || 0;\n    };\n    Car.prototype.shift = function (degree) {\n        console.log('change to ' + degree);\n    };\n\n    var myCar = new Car('bmw');\n    \n    // \n    Y.Do.before(function (degree) {\n        console.log('prepare to change');\n    }, Car.prototype, 'shift');\n    Y.Do.before(function (degree) {\n        console.log('prepare to change again');\n    }, Car.prototype, 'shift');\n    myCar.shift(1); // output: prepare to change, prepare to change again, change to 1\n\n    // \n    Y.Do.after(function (degree) {\n        console.log('already change');\n    }, Car.prototype, 'shift');\n    Y.Do.after(function (degree) {\n        console.log('already change again');\n    }, Car.prototype, 'shift');\n    myCar.shift(2); // output: ..., change to 2, already change, already change again \n\n    // \n    Y.Do.before(function (degree) {\n        if (degree < 0) {\n            console.log('halt, too low!');\n            return new Y.Do.Halt();\n        }\n    }, Car.prototype, 'shift');\n    myCar.shift(-1); // output: ..., halt, too low! \n\n    // \n    Y.Do.before(function (degree) {\n        if (degree > 4) {\n            console.log('prevent changing, too high!');\n            return new Y.Do.Prevent();\n        }\n    }, Car.prototype, 'shift');\n    myCar.shift(5); // output: ..., prevent changing, too high!, already change, ... \n\n    // \n    Y.Do.before(function (degree) {\n        var d = Math.floor(degree);\n        if (degree !== d) {\n            return new Y.Do.AlterArgs('degree should be a integer', [d]);\n        }\n    }, Car.prototype, 'shift');\n    myCar.shift(2.5); // output: ..., change to 2, ... \n\n    // \n    Y.Do.after(function (degree) {\n        if (degree === 0) {\n            return new Y.Do.AlterReturn('', 'wow, your car now has no power');\n        }\n    }, Car.prototype, 'shift');\n    var ret = myCar.shift(0); // output: ..., change to 0, ... \n    console.log(ret); // wow, your car now has no power\n});\n```\n\n## \n\n- [YUILibrary-Do](http://yuilibrary.com/yui/docs/api/classes/Do.html)\n- [YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n- [Wikipedia-AOP](http://en.wikipedia.org/wiki/Aspect-oriented_programming)\n","source":"_posts/event-do.md","raw":"---\nlayout: post\ntitle: \"YUIY.Do\"\ndate: 2012-07-14 17:34\ncomments: true\nstatus: publish\ntags: [YUI, Event, JavaScript]\n---\n\nYUI\n\n- YUI 3s Event module is one of the strengths of the library  --Eric Miraglia, [YUI Theater  Luke Smith: \"Events Evolved\"](http://www.yuiblog.com/blog/2009/10/30/smith-yuiconf2009-events/)\n- YUI 3 is not all about DOM manipulation  it also contains a robust set of class/object management tools, not to mention our powerful custom events --Tilo Mitra, [10 Things I Learned While Interning at YUI](http://net.tutsplus.com/articles/general/10-things-i-learned-while-interning-at-yui/)\n- One of the strengths of the YUI App Framework is that it's integrated tightly with the rest of YUI and benefits from YUI's fantastic event system and plugin/extension infrastructure. --Ryan Grove, [How can I decided whether to choose YUI 3's MVC or Backbone for a new project?](http://www.quora.com/How-can-I-decided-whether-to-choose-YUI-3s-MVC-or-Backbone-for-a-new-project#ld_xJGMd1_3012)\n\nYUI\n\n- AFAIK YUI 3's event system is the most sophisticated of any JavaScript framework. Am I wrong in thinking that? --[Walter Rumsby](https://twitter.com/wrumsby/status/113568040834174976)\n- I love the event system in YUI. Pure awesomeness. --[Kevin Isom](https://twitter.com/kev_nz/statuses/180472697644515328)\n- I am constantly impressed by the degree of excellence I find in working with the YUI3 framework --Andrew Wooldridge, [Cross YUI Communication and Custom Events](http://andrewwooldridge.com/blog/2011/03/08/cross-yui-communication-and-custom-events/)\n\nYUIYUI\n\n`Y.EventHandle``Y.Do`YUI\n\n<!-- more -->\n\n## Y.EventHandle\n`Y.EventHandle`/\n\n```javascript\nY.EventHandle = function (evt, sub) {\n    this.evt = evt; // \n    this.sub = sub; // \n};\nY.EventHandle.detach = function () {\n    this.evt._delete(this.sub); // event_delete/\n    return true;\n};\n```\n\n## Y.Do\n\n`Y.Do`()[AOP](http://en.wikipedia.org/wiki/Aspect-oriented_programming)\n\n## \n\n\n\n```javascript\n// 1\nYUI().use('event-custom', function (Y) {\n    var cat = {\n        eat: function () {\n            console.log('eat a fish');\n        }\n    };\n\n    cat.eat(); // output: eat a fish\n\n    var beforeHandle = Y.Do.before(function () {\n        console.log('catch a fish');\n    }, cat, 'eat');\n    var afterHandle = Y.Do.after(function () {\n        console.log('done!');\n    }, cat, 'eat');\n    cat.eat(); // output: catch a fish, eat, done!\n\n    afterHandle.detach();\n    cat.eat(); // output: catch a fish, eat\n});\n```\n\n`Y.Do``Y.Do`\n\n## \n\nYUI\n\n[](http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-do.js.html#l16)\n\n```javascript\n// YUI3.4.1YUI3.5.0Y.Do\nvar DO_BEFORE = 0,\n    DO_AFTER = 1;\nY.Do = {\n    // \n    objs: {},\n    before: function (fn, obj, sFn) {\n        return this._inject(DO_BEFORE, fn, obj, sFn);\n    },\n    after: function (fn, obj, sFn) {\n        return this._inject(DO_AFTER, fn, obj, sFn);\n    },\n    _inject: function (when, fn, obj, sFn) {\n        var id = Y.stamp(obj), o, sid;\n        if (!this.objs[id]) this.objs[id] = {};\n        o = this.objs[id];\n        if (!o[sFn]) {\n            // Method\n            o[sFn] = new Y.Do.Method(obj, sFn);\n            // \n            obj[sFn] = function () {\n                return o[sFn].exec.apply(o[sFn], arguments);\n            };\n        }\n        sid = id + Y.stamp(fn) + sFn;\n        // \n        o[sFn].register(sid, fn, when);\n\n        // EventHandle\n        return new Y.EventHandle(o[sFn], sid);\n    }\n}\n\nY.Do.Method = function (obj, sFn) {\n    this.obj = obj;\n    this.methodName = sFn;\n    this.method = obj[sFn];\n    this.before = {};\n    this.after = {};\n};\nY.Do.Method.prototype.register = function (sid, fn, when) {\n    if (when) {\n        this.after[sid] = fn;\n    } else {\n        this.before[sid] = fn;\n    }\n};\n// \nY.Do.Method.prototype._delete = function (sid) {\n    delete this.before[sid];\n    delete this.after[sid];\n};\nY.Do.Method.prototype.exec = function () {\n    var before = this.before,\n        after = this.after,\n        i, ret;\n    // \n    for (i in before) {\n        if (before.hasOwnProperty(i)) {\n            ret = before[i].apply(this.obj, arguments);\n        }\n    }\n    // \n    ret = this.method.apply(this.obj, arguments);\n    // \n    for (i in after) {\n        if (after.hasOwnProperty(i)) {\n            ret = after[i].apply(this.obj, arguments);\n        }\n    }\n    return ret;\n};\n```\n\n## \n\n### a) \n\n1\n\n### b) \n\n\n\n```javascript\n// 2\nYUI().use('event-custom', function (Y) {\n    function Car(brand) {\n        this.brand = brand;\n    };\n    Car.prototype.start = function () {\n        console.log('start');\n    };\n\n    var myCar = new Car('bmw');\n    Y.Do.before(function () {\n        console.log('open the door');\n    }, Car.prototype, 'start');\n    Y.Do.after(function () {\n        console.log('the car is started!');\n    }, Car.prototype, 'start');\n\n    myCar.start(); // output: open the door, start, the car is started!\n});\n```\n\n### c) \n\nYUI[](http://yuilibrary.com/yui/docs/plugin/#methods)\n\n### d) \n\nYUI[](http://yuilibrary.com/yui/docs/assets/base/myextension.js.txt)\n\n## \n\n`Y.Do`\n\n```javascript\n// 3\nYUI().use('event-custom', function (Y) {\n    function Car(brand, degree) {\n        this.brand = brand;\n        this.degree = degree || 0;\n    };\n    Car.prototype.shift = function (degree) {\n        console.log('change to ' + degree);\n    };\n\n    var myCar = new Car('bmw');\n    \n    // \n    Y.Do.before(function (degree) {\n        console.log('prepare to change');\n    }, Car.prototype, 'shift');\n    Y.Do.before(function (degree) {\n        console.log('prepare to change again');\n    }, Car.prototype, 'shift');\n    myCar.shift(1); // output: prepare to change, prepare to change again, change to 1\n\n    // \n    Y.Do.after(function (degree) {\n        console.log('already change');\n    }, Car.prototype, 'shift');\n    Y.Do.after(function (degree) {\n        console.log('already change again');\n    }, Car.prototype, 'shift');\n    myCar.shift(2); // output: ..., change to 2, already change, already change again \n\n    // \n    Y.Do.before(function (degree) {\n        if (degree < 0) {\n            console.log('halt, too low!');\n            return new Y.Do.Halt();\n        }\n    }, Car.prototype, 'shift');\n    myCar.shift(-1); // output: ..., halt, too low! \n\n    // \n    Y.Do.before(function (degree) {\n        if (degree > 4) {\n            console.log('prevent changing, too high!');\n            return new Y.Do.Prevent();\n        }\n    }, Car.prototype, 'shift');\n    myCar.shift(5); // output: ..., prevent changing, too high!, already change, ... \n\n    // \n    Y.Do.before(function (degree) {\n        var d = Math.floor(degree);\n        if (degree !== d) {\n            return new Y.Do.AlterArgs('degree should be a integer', [d]);\n        }\n    }, Car.prototype, 'shift');\n    myCar.shift(2.5); // output: ..., change to 2, ... \n\n    // \n    Y.Do.after(function (degree) {\n        if (degree === 0) {\n            return new Y.Do.AlterReturn('', 'wow, your car now has no power');\n        }\n    }, Car.prototype, 'shift');\n    var ret = myCar.shift(0); // output: ..., change to 0, ... \n    console.log(ret); // wow, your car now has no power\n});\n```\n\n## \n\n- [YUILibrary-Do](http://yuilibrary.com/yui/docs/api/classes/Do.html)\n- [YUILibrary-EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n- [Wikipedia-AOP](http://en.wikipedia.org/wiki/Aspect-oriented_programming)\n","slug":"event-do","published":1,"updated":"2021-10-04T12:57:16.035Z","photos":[],"link":"","_id":"cl1klgupj000l8e85b57860j0","content":"<p>YUI</p>\n<ul>\n<li>YUI 3s Event module is one of the strengths of the library  Eric Miraglia, <a href=\"http://www.yuiblog.com/blog/2009/10/30/smith-yuiconf2009-events/\">YUI Theater  Luke Smith: Events Evolved</a></li>\n<li>YUI 3 is not all about DOM manipulation  it also contains a robust set of class/object management tools, not to mention our powerful custom events Tilo Mitra, <a href=\"http://net.tutsplus.com/articles/general/10-things-i-learned-while-interning-at-yui/\">10 Things I Learned While Interning at YUI</a></li>\n<li>One of the strengths of the YUI App Framework is that its integrated tightly with the rest of YUI and benefits from YUIs fantastic event system and plugin/extension infrastructure. Ryan Grove, <a href=\"http://www.quora.com/How-can-I-decided-whether-to-choose-YUI-3s-MVC-or-Backbone-for-a-new-project#ld_xJGMd1_3012\">How can I decided whether to choose YUI 3s MVC or Backbone for a new project?</a></li>\n</ul>\n<p>YUI</p>\n<ul>\n<li>AFAIK YUI 3s event system is the most sophisticated of any JavaScript framework. Am I wrong in thinking that? <a href=\"https://twitter.com/wrumsby/status/113568040834174976\">Walter Rumsby</a></li>\n<li>I love the event system in YUI. Pure awesomeness. <a href=\"https://twitter.com/kev_nz/statuses/180472697644515328\">Kevin Isom</a></li>\n<li>I am constantly impressed by the degree of excellence I find in working with the YUI3 framework Andrew Wooldridge, <a href=\"http://andrewwooldridge.com/blog/2011/03/08/cross-yui-communication-and-custom-events/\">Cross YUI Communication and Custom Events</a></li>\n</ul>\n<p>YUIYUI</p>\n<p><code>Y.EventHandle</code><code>Y.Do</code>YUI</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Y-EventHandle\"><a href=\"#Y-EventHandle\" class=\"headerlink\" title=\"Y.EventHandle\"></a>Y.EventHandle</h2><p><code>Y.EventHandle</code>/</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.EventHandle = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">evt, sub</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.evt = evt; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.sub = sub; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.EventHandle.detach = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.evt._delete(<span class=\"built_in\">this</span>.sub); <span class=\"comment\">// event_delete/</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-Do\"><a href=\"#Y-Do\" class=\"headerlink\" title=\"Y.Do\"></a>Y.Do</h2><p><code>Y.Do</code>()<a href=\"http://en.wikipedia.org/wiki/Aspect-oriented_programming\">AOP</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cat = &#123;</span><br><span class=\"line\">        <span class=\"attr\">eat</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;eat a fish&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    cat.eat(); <span class=\"comment\">// output: eat a fish</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> beforeHandle = Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;catch a fish&#x27;</span>);</span><br><span class=\"line\">    &#125;, cat, <span class=\"string\">&#x27;eat&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> afterHandle = Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;done!&#x27;</span>);</span><br><span class=\"line\">    &#125;, cat, <span class=\"string\">&#x27;eat&#x27;</span>);</span><br><span class=\"line\">    cat.eat(); <span class=\"comment\">// output: catch a fish, eat, done!</span></span><br><span class=\"line\"></span><br><span class=\"line\">    afterHandle.detach();</span><br><span class=\"line\">    cat.eat(); <span class=\"comment\">// output: catch a fish, eat</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>Y.Do</code><code>Y.Do</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI</p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-do.js.html#l16\"></a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// YUI3.4.1YUI3.5.0Y.Do</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> DO_BEFORE = <span class=\"number\">0</span>,</span><br><span class=\"line\">    DO_AFTER = <span class=\"number\">1</span>;</span><br><span class=\"line\">Y.Do = &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">objs</span>: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">before</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._inject(DO_BEFORE, fn, obj, sFn);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">after</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._inject(DO_AFTER, fn, obj, sFn);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">_inject</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">when, fn, obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> id = Y.stamp(obj), o, sid;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.objs[id]) <span class=\"built_in\">this</span>.objs[id] = &#123;&#125;;</span><br><span class=\"line\">        o = <span class=\"built_in\">this</span>.objs[id];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!o[sFn]) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Method</span></span><br><span class=\"line\">            o[sFn] = <span class=\"keyword\">new</span> Y.Do.Method(obj, sFn);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            obj[sFn] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> o[sFn].exec.apply(o[sFn], <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        sid = id + Y.stamp(fn) + sFn;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        o[sFn].register(sid, fn, when);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// EventHandle</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.EventHandle(o[sFn], sid);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.Do.Method = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.obj = obj;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.methodName = sFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.method = obj[sFn];</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.before = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.after = &#123;&#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.Do.Method.prototype.register = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">sid, fn, when</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (when) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.after[sid] = fn;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.before[sid] = fn;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Y.Do.Method.prototype._delete = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">sid</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.before[sid];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.after[sid];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.Do.Method.prototype.exec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> before = <span class=\"built_in\">this</span>.before,</span><br><span class=\"line\">        after = <span class=\"built_in\">this</span>.after,</span><br><span class=\"line\">        i, ret;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> before) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (before.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">            ret = before[i].apply(<span class=\"built_in\">this</span>.obj, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    ret = <span class=\"built_in\">this</span>.method.apply(<span class=\"built_in\">this</span>.obj, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> after) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (after.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">            ret = after[i].apply(<span class=\"built_in\">this</span>.obj, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"a-\"><a href=\"#a-\" class=\"headerlink\" title=\"a) \"></a>a) </h3><p>1</p>\n<h3 id=\"b-\"><a href=\"#b-\" class=\"headerlink\" title=\"b) \"></a>b) </h3><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Car</span>(<span class=\"params\">brand</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.brand = brand;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    Car.prototype.start = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;start&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> myCar = <span class=\"keyword\">new</span> Car(<span class=\"string\">&#x27;bmw&#x27;</span>);</span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;open the door&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;start&#x27;</span>);</span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;the car is started!&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;start&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    myCar.start(); <span class=\"comment\">// output: open the door, start, the car is started!</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"c-\"><a href=\"#c-\" class=\"headerlink\" title=\"c) \"></a>c) </h3><p>YUI<a href=\"http://yuilibrary.com/yui/docs/plugin/#methods\"></a></p>\n<h3 id=\"d-\"><a href=\"#d-\" class=\"headerlink\" title=\"d) \"></a>d) </h3><p>YUI<a href=\"http://yuilibrary.com/yui/docs/assets/base/myextension.js.txt\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Y.Do</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Car</span>(<span class=\"params\">brand, degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.brand = brand;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.degree = degree || <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    Car.prototype.shift = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;change to &#x27;</span> + degree);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> myCar = <span class=\"keyword\">new</span> Car(<span class=\"string\">&#x27;bmw&#x27;</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;prepare to change&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;prepare to change again&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">1</span>); <span class=\"comment\">// output: prepare to change, prepare to change again, change to 1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;already change&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;already change again&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">2</span>); <span class=\"comment\">// output: ..., change to 2, already change, already change again </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;halt, too low!&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.Halt();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(-<span class=\"number\">1</span>); <span class=\"comment\">// output: ..., halt, too low! </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree &gt; <span class=\"number\">4</span>) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;prevent changing, too high!&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.Prevent();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">5</span>); <span class=\"comment\">// output: ..., prevent changing, too high!, already change, ... </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> d = <span class=\"built_in\">Math</span>.floor(degree);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree !== d) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.AlterArgs(<span class=\"string\">&#x27;degree should be a integer&#x27;</span>, [d]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">2.5</span>); <span class=\"comment\">// output: ..., change to 2, ... </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.AlterReturn(<span class=\"string\">&#x27;&#x27;</span>, <span class=\"string\">&#x27;wow, your car now has no power&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ret = myCar.shift(<span class=\"number\">0</span>); <span class=\"comment\">// output: ..., change to 0, ... </span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(ret); <span class=\"comment\">// wow, your car now has no power</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/classes/Do.html\">YUILibrary-Do</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUILibrary-EventTarget</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Aspect-oriented_programming\">Wikipedia-AOP</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>YUI</p>\n<ul>\n<li>YUI 3s Event module is one of the strengths of the library  Eric Miraglia, <a href=\"http://www.yuiblog.com/blog/2009/10/30/smith-yuiconf2009-events/\">YUI Theater  Luke Smith: Events Evolved</a></li>\n<li>YUI 3 is not all about DOM manipulation  it also contains a robust set of class/object management tools, not to mention our powerful custom events Tilo Mitra, <a href=\"http://net.tutsplus.com/articles/general/10-things-i-learned-while-interning-at-yui/\">10 Things I Learned While Interning at YUI</a></li>\n<li>One of the strengths of the YUI App Framework is that its integrated tightly with the rest of YUI and benefits from YUIs fantastic event system and plugin/extension infrastructure. Ryan Grove, <a href=\"http://www.quora.com/How-can-I-decided-whether-to-choose-YUI-3s-MVC-or-Backbone-for-a-new-project#ld_xJGMd1_3012\">How can I decided whether to choose YUI 3s MVC or Backbone for a new project?</a></li>\n</ul>\n<p>YUI</p>\n<ul>\n<li>AFAIK YUI 3s event system is the most sophisticated of any JavaScript framework. Am I wrong in thinking that? <a href=\"https://twitter.com/wrumsby/status/113568040834174976\">Walter Rumsby</a></li>\n<li>I love the event system in YUI. Pure awesomeness. <a href=\"https://twitter.com/kev_nz/statuses/180472697644515328\">Kevin Isom</a></li>\n<li>I am constantly impressed by the degree of excellence I find in working with the YUI3 framework Andrew Wooldridge, <a href=\"http://andrewwooldridge.com/blog/2011/03/08/cross-yui-communication-and-custom-events/\">Cross YUI Communication and Custom Events</a></li>\n</ul>\n<p>YUIYUI</p>\n<p><code>Y.EventHandle</code><code>Y.Do</code>YUI</p>","more":"<h2 id=\"Y-EventHandle\"><a href=\"#Y-EventHandle\" class=\"headerlink\" title=\"Y.EventHandle\"></a>Y.EventHandle</h2><p><code>Y.EventHandle</code>/</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Y.EventHandle = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">evt, sub</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.evt = evt; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.sub = sub; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.EventHandle.detach = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.evt._delete(<span class=\"built_in\">this</span>.sub); <span class=\"comment\">// event_delete/</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Y-Do\"><a href=\"#Y-Do\" class=\"headerlink\" title=\"Y.Do\"></a>Y.Do</h2><p><code>Y.Do</code>()<a href=\"http://en.wikipedia.org/wiki/Aspect-oriented_programming\">AOP</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cat = &#123;</span><br><span class=\"line\">        <span class=\"attr\">eat</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;eat a fish&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    cat.eat(); <span class=\"comment\">// output: eat a fish</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> beforeHandle = Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;catch a fish&#x27;</span>);</span><br><span class=\"line\">    &#125;, cat, <span class=\"string\">&#x27;eat&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> afterHandle = Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;done!&#x27;</span>);</span><br><span class=\"line\">    &#125;, cat, <span class=\"string\">&#x27;eat&#x27;</span>);</span><br><span class=\"line\">    cat.eat(); <span class=\"comment\">// output: catch a fish, eat, done!</span></span><br><span class=\"line\"></span><br><span class=\"line\">    afterHandle.detach();</span><br><span class=\"line\">    cat.eat(); <span class=\"comment\">// output: catch a fish, eat</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>Y.Do</code><code>Y.Do</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI</p>\n<p><a href=\"http://yuilibrary.com/yui/docs/api/files/event-custom_js_event-do.js.html#l16\"></a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// YUI3.4.1YUI3.5.0Y.Do</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> DO_BEFORE = <span class=\"number\">0</span>,</span><br><span class=\"line\">    DO_AFTER = <span class=\"number\">1</span>;</span><br><span class=\"line\">Y.Do = &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"attr\">objs</span>: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">before</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._inject(DO_BEFORE, fn, obj, sFn);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">after</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">fn, obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>._inject(DO_AFTER, fn, obj, sFn);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">_inject</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">when, fn, obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> id = Y.stamp(obj), o, sid;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">this</span>.objs[id]) <span class=\"built_in\">this</span>.objs[id] = &#123;&#125;;</span><br><span class=\"line\">        o = <span class=\"built_in\">this</span>.objs[id];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!o[sFn]) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Method</span></span><br><span class=\"line\">            o[sFn] = <span class=\"keyword\">new</span> Y.Do.Method(obj, sFn);</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            obj[sFn] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> o[sFn].exec.apply(o[sFn], <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        sid = id + Y.stamp(fn) + sFn;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        o[sFn].register(sid, fn, when);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// EventHandle</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.EventHandle(o[sFn], sid);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Y.Do.Method = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj, sFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.obj = obj;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.methodName = sFn;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.method = obj[sFn];</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.before = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.after = &#123;&#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.Do.Method.prototype.register = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">sid, fn, when</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (when) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.after[sid] = fn;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.before[sid] = fn;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Y.Do.Method.prototype._delete = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">sid</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.before[sid];</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"built_in\">this</span>.after[sid];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.Do.Method.prototype.exec = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> before = <span class=\"built_in\">this</span>.before,</span><br><span class=\"line\">        after = <span class=\"built_in\">this</span>.after,</span><br><span class=\"line\">        i, ret;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> before) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (before.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">            ret = before[i].apply(<span class=\"built_in\">this</span>.obj, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    ret = <span class=\"built_in\">this</span>.method.apply(<span class=\"built_in\">this</span>.obj, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i <span class=\"keyword\">in</span> after) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (after.hasOwnProperty(i)) &#123;</span><br><span class=\"line\">            ret = after[i].apply(<span class=\"built_in\">this</span>.obj, <span class=\"built_in\">arguments</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"a-\"><a href=\"#a-\" class=\"headerlink\" title=\"a) \"></a>a) </h3><p>1</p>\n<h3 id=\"b-\"><a href=\"#b-\" class=\"headerlink\" title=\"b) \"></a>b) </h3><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Car</span>(<span class=\"params\">brand</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.brand = brand;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    Car.prototype.start = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;start&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> myCar = <span class=\"keyword\">new</span> Car(<span class=\"string\">&#x27;bmw&#x27;</span>);</span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;open the door&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;start&#x27;</span>);</span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;the car is started!&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;start&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    myCar.start(); <span class=\"comment\">// output: open the door, start, the car is started!</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"c-\"><a href=\"#c-\" class=\"headerlink\" title=\"c) \"></a>c) </h3><p>YUI<a href=\"http://yuilibrary.com/yui/docs/plugin/#methods\"></a></p>\n<h3 id=\"d-\"><a href=\"#d-\" class=\"headerlink\" title=\"d) \"></a>d) </h3><p>YUI<a href=\"http://yuilibrary.com/yui/docs/assets/base/myextension.js.txt\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Y.Do</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;event-custom&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Car</span>(<span class=\"params\">brand, degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.brand = brand;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.degree = degree || <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    Car.prototype.shift = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;change to &#x27;</span> + degree);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> myCar = <span class=\"keyword\">new</span> Car(<span class=\"string\">&#x27;bmw&#x27;</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;prepare to change&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;prepare to change again&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">1</span>); <span class=\"comment\">// output: prepare to change, prepare to change again, change to 1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;already change&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;already change again&#x27;</span>);</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">2</span>); <span class=\"comment\">// output: ..., change to 2, already change, already change again </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;halt, too low!&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.Halt();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(-<span class=\"number\">1</span>); <span class=\"comment\">// output: ..., halt, too low! </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree &gt; <span class=\"number\">4</span>) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;prevent changing, too high!&#x27;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.Prevent();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">5</span>); <span class=\"comment\">// output: ..., prevent changing, too high!, already change, ... </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.before(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> d = <span class=\"built_in\">Math</span>.floor(degree);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree !== d) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.AlterArgs(<span class=\"string\">&#x27;degree should be a integer&#x27;</span>, [d]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    myCar.shift(<span class=\"number\">2.5</span>); <span class=\"comment\">// output: ..., change to 2, ... </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    Y.Do.after(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">degree</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (degree === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Y.Do.AlterReturn(<span class=\"string\">&#x27;&#x27;</span>, <span class=\"string\">&#x27;wow, your car now has no power&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, Car.prototype, <span class=\"string\">&#x27;shift&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ret = myCar.shift(<span class=\"number\">0</span>); <span class=\"comment\">// output: ..., change to 0, ... </span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(ret); <span class=\"comment\">// wow, your car now has no power</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://yuilibrary.com/yui/docs/api/classes/Do.html\">YUILibrary-Do</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUILibrary-EventTarget</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Aspect-oriented_programming\">Wikipedia-AOP</a></li>\n</ul>"},{"layout":"post","title":"","date":"2015-06-29T03:07:00.000Z","comments":1,"status":"publish","author":"springuper@gmail.com","_content":"\n### \n\n\n\n    Controlling complexity is the essence of computer programming.\n    \n FISReact controlling complexity\n\n\n###  1.0\n\n order.js account.css \n\n<center><img src=\"/images/frontend-component-practice/legacy-flow.png\" alt=\"legacy-flow\" width=\"500\"></center>\n\n\n\n\n1. ****\n   css  js  js  css  css\n2. ****\n   css  js  grep htmlcss  js  css  js \n3. ****\n  \n\n2013  FISBEM \n\n- \n-  cssjs \n- \n\n<center><img src=\"/images/frontend-component-practice/component-flow.png\" alt=\"component-flow\" width=\"500\"></center>\n\n\n\n<center><img src=\"/images/frontend-component-practice/smart-box.png\" alt=\"smart-box\" width=\"500\"></center>\n\n<!--more-->\n\n\n\n```bash\nwww/component/smart-box/\n smart-box.js    # \n smart-box.php   # \n smart-box.scss  # \n smart-box.tpl   # \n test\n     default.js  # \n     default.php # \n```\n\n\n\n```php\necho View::useComponent('smart-box', [\n    'keyword' => $keyword\n]);\n```\n\n\n\n1. ****\n  \n2. ****\n  \n3. ****\n   Phantom \n\n BigRender\n\n###  2.0\n\n 1.0  2014  2.0\n\n#### Lifecycle\n\nWeb ComponentsReact /\n\n\n\n<center><img src=\"/images/frontend-component-practice/component-lifecycle.png\" alt=\"component-lifecycle\" width=\"800\"></center>\n\n\n\n- init\n- fetch css  js \n- render BigRender\n- ready\n- update\n- destroy\n\n pauseresume  Promise  YUI \n\n\n\n```js\nvar afterLoadList = [];\nY.all('[data-component]').each(function (node) {\n    var component = new Y.mt.Component(node);\n    //  init  init \n    component.after('init', function (e) {\n        // \n        if (e.config.afterLoad) {\n            // \n            e.component.pause();\n            // \n            afterLoadList.push(e.component);\n        }\n    });\n    // \n    component.start();\n});\n \nY.on('load', function () {\n    //  load \n    afterLoadList.forEach(function (component) {\n        component.resume();\n    });\n});\n```\n\n\n\n\n#### Data Binding\n\n View  ViewModel \n\n Angular html js \n\n```html\n<ul class=\"addressList\">\n    <li\n        mt-bind-repeat=\"addr in addrList\"\n        mt-bind-html=\"addr.text\"\n    >\n    </li>\n</ul>\n\n<script>\nY.use(['mt-bind', 'mt-scope'], function () {\n    Y.mt.bind.init(document.body);\n    var scope = Y.one('.addressList').getScope();\n    //  scope.addrList DOM    \n    scope.$set('addrList', [\n        { text: \"first address\" },\n        { text: \"second address\" }\n    ]);\n});\n</script>\n```\n\n\n\n#### Flux\n\n 500 \n\n Flux\n\n + Flux \n\n<center><img src=\"/images/frontend-component-practice/component-flux.png\" alt=\"component-flux\" width=\"600\"></center>\n\n LightnCandy \n\n 2.0 \n\n\n###  3.0\n\n2014 \n\n-  Node \n- YUI \n- \n\n\n\n-  React  NPM \n-  Browserify  Reduce\n-  Turbo\n\n#### React\n\n 2.0  React  Data BindingLifecycle FluxReact  React  3.0 \n\n#### NPM + Reduce\n\nNPM + Reduce \n\n- NPM \n- Reduce \n\n\n\n```bash\nsmart-box/\n package.json    # \n smart-box.jsx   # React Component\n smart-box.scss  # \n test\n     main.js     # \n```\n\nNPM  js  NPM  package.json  style  Reduce  css  css  imagefont \n\n```js\n{\n    \"style\": \"./smart-box.scss\"\n}\n```\n\n require  smart-box Reduce jscss \n\n```js\nvar SmartBox = require('@mtfe/smart-box');\n// \nvar IndexPage = React.createClass({\n    render: function () {\n        return (\n            <Header>\n                <SmartBox keyword={ this.props.keyword } />\n            </Header>\n            ...\n        );\n    }\n});\nmodule.exports = IndexPage;\n```\n\n 1.0 \n\n#### Turbo\n\n Debug\n\n Node  Turbo\n\n- \n-  Flux \n-  ImmutableJS Store \n-  cursor /\n-  Hot Module Replacement\n\n\n\n### \n\n\n","source":"_posts/frontend-component-practice.md","raw":"---\nlayout: post\ntitle: \"\"\ndate: 2015-06-29 11:07\ncomments: true\nstatus: publish\nauthor: springuper@gmail.com\ntags: [front-end, component, reduce, turbo]\n---\n\n### \n\n\n\n    Controlling complexity is the essence of computer programming.\n    \n FISReact controlling complexity\n\n\n###  1.0\n\n order.js account.css \n\n<center><img src=\"/images/frontend-component-practice/legacy-flow.png\" alt=\"legacy-flow\" width=\"500\"></center>\n\n\n\n\n1. ****\n   css  js  js  css  css\n2. ****\n   css  js  grep htmlcss  js  css  js \n3. ****\n  \n\n2013  FISBEM \n\n- \n-  cssjs \n- \n\n<center><img src=\"/images/frontend-component-practice/component-flow.png\" alt=\"component-flow\" width=\"500\"></center>\n\n\n\n<center><img src=\"/images/frontend-component-practice/smart-box.png\" alt=\"smart-box\" width=\"500\"></center>\n\n<!--more-->\n\n\n\n```bash\nwww/component/smart-box/\n smart-box.js    # \n smart-box.php   # \n smart-box.scss  # \n smart-box.tpl   # \n test\n     default.js  # \n     default.php # \n```\n\n\n\n```php\necho View::useComponent('smart-box', [\n    'keyword' => $keyword\n]);\n```\n\n\n\n1. ****\n  \n2. ****\n  \n3. ****\n   Phantom \n\n BigRender\n\n###  2.0\n\n 1.0  2014  2.0\n\n#### Lifecycle\n\nWeb ComponentsReact /\n\n\n\n<center><img src=\"/images/frontend-component-practice/component-lifecycle.png\" alt=\"component-lifecycle\" width=\"800\"></center>\n\n\n\n- init\n- fetch css  js \n- render BigRender\n- ready\n- update\n- destroy\n\n pauseresume  Promise  YUI \n\n\n\n```js\nvar afterLoadList = [];\nY.all('[data-component]').each(function (node) {\n    var component = new Y.mt.Component(node);\n    //  init  init \n    component.after('init', function (e) {\n        // \n        if (e.config.afterLoad) {\n            // \n            e.component.pause();\n            // \n            afterLoadList.push(e.component);\n        }\n    });\n    // \n    component.start();\n});\n \nY.on('load', function () {\n    //  load \n    afterLoadList.forEach(function (component) {\n        component.resume();\n    });\n});\n```\n\n\n\n\n#### Data Binding\n\n View  ViewModel \n\n Angular html js \n\n```html\n<ul class=\"addressList\">\n    <li\n        mt-bind-repeat=\"addr in addrList\"\n        mt-bind-html=\"addr.text\"\n    >\n    </li>\n</ul>\n\n<script>\nY.use(['mt-bind', 'mt-scope'], function () {\n    Y.mt.bind.init(document.body);\n    var scope = Y.one('.addressList').getScope();\n    //  scope.addrList DOM    \n    scope.$set('addrList', [\n        { text: \"first address\" },\n        { text: \"second address\" }\n    ]);\n});\n</script>\n```\n\n\n\n#### Flux\n\n 500 \n\n Flux\n\n + Flux \n\n<center><img src=\"/images/frontend-component-practice/component-flux.png\" alt=\"component-flux\" width=\"600\"></center>\n\n LightnCandy \n\n 2.0 \n\n\n###  3.0\n\n2014 \n\n-  Node \n- YUI \n- \n\n\n\n-  React  NPM \n-  Browserify  Reduce\n-  Turbo\n\n#### React\n\n 2.0  React  Data BindingLifecycle FluxReact  React  3.0 \n\n#### NPM + Reduce\n\nNPM + Reduce \n\n- NPM \n- Reduce \n\n\n\n```bash\nsmart-box/\n package.json    # \n smart-box.jsx   # React Component\n smart-box.scss  # \n test\n     main.js     # \n```\n\nNPM  js  NPM  package.json  style  Reduce  css  css  imagefont \n\n```js\n{\n    \"style\": \"./smart-box.scss\"\n}\n```\n\n require  smart-box Reduce jscss \n\n```js\nvar SmartBox = require('@mtfe/smart-box');\n// \nvar IndexPage = React.createClass({\n    render: function () {\n        return (\n            <Header>\n                <SmartBox keyword={ this.props.keyword } />\n            </Header>\n            ...\n        );\n    }\n});\nmodule.exports = IndexPage;\n```\n\n 1.0 \n\n#### Turbo\n\n Debug\n\n Node  Turbo\n\n- \n-  Flux \n-  ImmutableJS Store \n-  cursor /\n-  Hot Module Replacement\n\n\n\n### \n\n\n","slug":"frontend-component-practice","published":1,"updated":"2021-11-25T11:00:14.648Z","photos":[],"link":"","_id":"cl1klgupk000o8e85gl3a7hsn","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre><code>Controlling complexity is the essence of computer programming.\n</code></pre>\n<p> FISReact controlling complexity</p>\n<h3 id=\"-1-0\"><a href=\"#-1-0\" class=\"headerlink\" title=\" 1.0\"></a> 1.0</h3><p> order.js account.css </p>\n<center><img src=\"/images/frontend-component-practice/legacy-flow.png\" alt=\"legacy-flow\" width=\"500\"></center>\n\n\n<p></p>\n<ol>\n<li><strong></strong>\n css  js  js  css  css</li>\n<li><strong></strong>\n css  js  grep htmlcss  js  css  js </li>\n<li><strong></strong>\n</li>\n</ol>\n<p>2013  FISBEM </p>\n<ul>\n<li></li>\n<li> cssjs </li>\n<li></li>\n</ul>\n<center><img src=\"/images/frontend-component-practice/component-flow.png\" alt=\"component-flow\" width=\"500\"></center>\n\n<p></p>\n<center><img src=\"/images/frontend-component-practice/smart-box.png\" alt=\"smart-box\" width=\"500\"></center>\n\n<span id=\"more\"></span>\n\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">www/component/smart-box/</span><br><span class=\"line\"> smart-box.js    <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.php   <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.scss  <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.tpl   <span class=\"comment\"># </span></span><br><span class=\"line\"> <span class=\"built_in\">test</span></span><br><span class=\"line\">     default.js  <span class=\"comment\"># </span></span><br><span class=\"line\">     default.php <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">echo</span> View::useComponent(<span class=\"string\">&#x27;smart-box&#x27;</span>, [</span><br><span class=\"line\">    <span class=\"string\">&#x27;keyword&#x27;</span> =&gt; <span class=\"variable\">$keyword</span></span><br><span class=\"line\">]);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<ol>\n<li><strong></strong>\n</li>\n<li><strong></strong>\n</li>\n<li><strong></strong>\n Phantom </li>\n</ol>\n<p> BigRender</p>\n<h3 id=\"-2-0\"><a href=\"#-2-0\" class=\"headerlink\" title=\" 2.0\"></a> 2.0</h3><p> 1.0  2014  2.0</p>\n<h4 id=\"Lifecycle\"><a href=\"#Lifecycle\" class=\"headerlink\" title=\"Lifecycle\"></a>Lifecycle</h4><p>Web ComponentsReact /</p>\n<p></p>\n<center><img src=\"/images/frontend-component-practice/component-lifecycle.png\" alt=\"component-lifecycle\" width=\"800\"></center>\n\n<p></p>\n<ul>\n<li>init</li>\n<li>fetch css  js </li>\n<li>render BigRender</li>\n<li>ready</li>\n<li>update</li>\n<li>destroy</li>\n</ul>\n<p> pauseresume  Promise  YUI </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> afterLoadList = [];</span><br><span class=\"line\">Y.all(<span class=\"string\">&#x27;[data-component]&#x27;</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> component = <span class=\"keyword\">new</span> Y.mt.Component(node);</span><br><span class=\"line\">    <span class=\"comment\">//  init  init </span></span><br><span class=\"line\">    component.after(<span class=\"string\">&#x27;init&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e.config.afterLoad) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            e.component.pause();</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            afterLoadList.push(e.component);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    component.start();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\">Y.on(<span class=\"string\">&#x27;load&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//  load </span></span><br><span class=\"line\">    afterLoadList.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">component</span>) </span>&#123;</span><br><span class=\"line\">        component.resume();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"Data-Binding\"><a href=\"#Data-Binding\" class=\"headerlink\" title=\"Data Binding\"></a>Data Binding</h4><p> View  ViewModel </p>\n<p> Angular html js </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;addressList&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">mt-bind-repeat</span>=<span class=\"string\">&quot;addr in addrList&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">mt-bind-html</span>=<span class=\"string\">&quot;addr.text&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">Y.use([<span class=\"string\">&#x27;mt-bind&#x27;</span>, <span class=\"string\">&#x27;mt-scope&#x27;</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    Y.mt.bind.init(<span class=\"built_in\">document</span>.body);</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> scope = Y.one(<span class=\"string\">&#x27;.addressList&#x27;</span>).getScope();</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//  scope.addrList DOM    </span></span></span><br><span class=\"line\"><span class=\"javascript\">    scope.$set(<span class=\"string\">&#x27;addrList&#x27;</span>, [</span></span><br><span class=\"line\"><span class=\"javascript\">        &#123; <span class=\"attr\">text</span>: <span class=\"string\">&quot;first address&quot;</span> &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">        &#123; <span class=\"attr\">text</span>: <span class=\"string\">&quot;second address&quot;</span> &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    ]);</span></span><br><span class=\"line\"><span class=\"javascript\">&#125;);</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"Flux\"><a href=\"#Flux\" class=\"headerlink\" title=\"Flux\"></a>Flux</h4><p> 500 </p>\n<p> Flux</p>\n<p> + Flux </p>\n<center><img src=\"/images/frontend-component-practice/component-flux.png\" alt=\"component-flux\" width=\"600\"></center>\n\n<p> LightnCandy </p>\n<p> 2.0 </p>\n<h3 id=\"-3-0\"><a href=\"#-3-0\" class=\"headerlink\" title=\" 3.0\"></a> 3.0</h3><p>2014 </p>\n<ul>\n<li> Node </li>\n<li>YUI </li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li> React  NPM </li>\n<li> Browserify  Reduce</li>\n<li> Turbo</li>\n</ul>\n<h4 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h4><p> 2.0  React  Data BindingLifecycle FluxReact  React  3.0 </p>\n<h4 id=\"NPM-Reduce\"><a href=\"#NPM-Reduce\" class=\"headerlink\" title=\"NPM + Reduce\"></a>NPM + Reduce</h4><p>NPM + Reduce </p>\n<ul>\n<li>NPM </li>\n<li>Reduce </li>\n</ul>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">smart-box/</span><br><span class=\"line\"> package.json    <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.jsx   <span class=\"comment\"># React Component</span></span><br><span class=\"line\"> smart-box.scss  <span class=\"comment\"># </span></span><br><span class=\"line\"> <span class=\"built_in\">test</span></span><br><span class=\"line\">     main.js     <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n<p>NPM  js  NPM  package.json  style  Reduce  css  css  imagefont </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;style&quot;</span>: <span class=\"string\">&quot;./smart-box.scss&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> require  smart-box Reduce jscss </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> SmartBox = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@mtfe/smart-box&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> IndexPage = React.createClass(&#123;</span><br><span class=\"line\">    <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (</span><br><span class=\"line\">            <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Header</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">SmartBox</span> <span class=\"attr\">keyword</span>=<span class=\"string\">&#123;</span> <span class=\"attr\">this.props.keyword</span> &#125; /&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">Header</span>&gt;</span></span></span><br><span class=\"line\">            ...</span><br><span class=\"line\">        );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = IndexPage;</span><br></pre></td></tr></table></figure>\n\n<p> 1.0 </p>\n<h4 id=\"Turbo\"><a href=\"#Turbo\" class=\"headerlink\" title=\"Turbo\"></a>Turbo</h4><p> Debug</p>\n<p> Node  Turbo</p>\n<ul>\n<li></li>\n<li> Flux </li>\n<li> ImmutableJS Store </li>\n<li> cursor /</li>\n<li> Hot Module Replacement</li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre><code>Controlling complexity is the essence of computer programming.\n</code></pre>\n<p> FISReact controlling complexity</p>\n<h3 id=\"-1-0\"><a href=\"#-1-0\" class=\"headerlink\" title=\" 1.0\"></a> 1.0</h3><p> order.js account.css </p>\n<center><img src=\"/images/frontend-component-practice/legacy-flow.png\" alt=\"legacy-flow\" width=\"500\"></center>\n\n\n<p></p>\n<ol>\n<li><strong></strong>\n css  js  js  css  css</li>\n<li><strong></strong>\n css  js  grep htmlcss  js  css  js </li>\n<li><strong></strong>\n</li>\n</ol>\n<p>2013  FISBEM </p>\n<ul>\n<li></li>\n<li> cssjs </li>\n<li></li>\n</ul>\n<center><img src=\"/images/frontend-component-practice/component-flow.png\" alt=\"component-flow\" width=\"500\"></center>\n\n<p></p>\n<center><img src=\"/images/frontend-component-practice/smart-box.png\" alt=\"smart-box\" width=\"500\"></center>","more":"<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">www/component/smart-box/</span><br><span class=\"line\"> smart-box.js    <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.php   <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.scss  <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.tpl   <span class=\"comment\"># </span></span><br><span class=\"line\"> <span class=\"built_in\">test</span></span><br><span class=\"line\">     default.js  <span class=\"comment\"># </span></span><br><span class=\"line\">     default.php <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">echo</span> View::useComponent(<span class=\"string\">&#x27;smart-box&#x27;</span>, [</span><br><span class=\"line\">    <span class=\"string\">&#x27;keyword&#x27;</span> =&gt; <span class=\"variable\">$keyword</span></span><br><span class=\"line\">]);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<ol>\n<li><strong></strong>\n</li>\n<li><strong></strong>\n</li>\n<li><strong></strong>\n Phantom </li>\n</ol>\n<p> BigRender</p>\n<h3 id=\"-2-0\"><a href=\"#-2-0\" class=\"headerlink\" title=\" 2.0\"></a> 2.0</h3><p> 1.0  2014  2.0</p>\n<h4 id=\"Lifecycle\"><a href=\"#Lifecycle\" class=\"headerlink\" title=\"Lifecycle\"></a>Lifecycle</h4><p>Web ComponentsReact /</p>\n<p></p>\n<center><img src=\"/images/frontend-component-practice/component-lifecycle.png\" alt=\"component-lifecycle\" width=\"800\"></center>\n\n<p></p>\n<ul>\n<li>init</li>\n<li>fetch css  js </li>\n<li>render BigRender</li>\n<li>ready</li>\n<li>update</li>\n<li>destroy</li>\n</ul>\n<p> pauseresume  Promise  YUI </p>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> afterLoadList = [];</span><br><span class=\"line\">Y.all(<span class=\"string\">&#x27;[data-component]&#x27;</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">node</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> component = <span class=\"keyword\">new</span> Y.mt.Component(node);</span><br><span class=\"line\">    <span class=\"comment\">//  init  init </span></span><br><span class=\"line\">    component.after(<span class=\"string\">&#x27;init&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e.config.afterLoad) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            e.component.pause();</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            afterLoadList.push(e.component);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    component.start();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\">Y.on(<span class=\"string\">&#x27;load&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//  load </span></span><br><span class=\"line\">    afterLoadList.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">component</span>) </span>&#123;</span><br><span class=\"line\">        component.resume();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"Data-Binding\"><a href=\"#Data-Binding\" class=\"headerlink\" title=\"Data Binding\"></a>Data Binding</h4><p> View  ViewModel </p>\n<p> Angular html js </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;addressList&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">mt-bind-repeat</span>=<span class=\"string\">&quot;addr in addrList&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">mt-bind-html</span>=<span class=\"string\">&quot;addr.text&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">Y.use([<span class=\"string\">&#x27;mt-bind&#x27;</span>, <span class=\"string\">&#x27;mt-scope&#x27;</span>], <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    Y.mt.bind.init(<span class=\"built_in\">document</span>.body);</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> scope = Y.one(<span class=\"string\">&#x27;.addressList&#x27;</span>).getScope();</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//  scope.addrList DOM    </span></span></span><br><span class=\"line\"><span class=\"javascript\">    scope.$set(<span class=\"string\">&#x27;addrList&#x27;</span>, [</span></span><br><span class=\"line\"><span class=\"javascript\">        &#123; <span class=\"attr\">text</span>: <span class=\"string\">&quot;first address&quot;</span> &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">        &#123; <span class=\"attr\">text</span>: <span class=\"string\">&quot;second address&quot;</span> &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    ]);</span></span><br><span class=\"line\"><span class=\"javascript\">&#125;);</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h4 id=\"Flux\"><a href=\"#Flux\" class=\"headerlink\" title=\"Flux\"></a>Flux</h4><p> 500 </p>\n<p> Flux</p>\n<p> + Flux </p>\n<center><img src=\"/images/frontend-component-practice/component-flux.png\" alt=\"component-flux\" width=\"600\"></center>\n\n<p> LightnCandy </p>\n<p> 2.0 </p>\n<h3 id=\"-3-0\"><a href=\"#-3-0\" class=\"headerlink\" title=\" 3.0\"></a> 3.0</h3><p>2014 </p>\n<ul>\n<li> Node </li>\n<li>YUI </li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li> React  NPM </li>\n<li> Browserify  Reduce</li>\n<li> Turbo</li>\n</ul>\n<h4 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h4><p> 2.0  React  Data BindingLifecycle FluxReact  React  3.0 </p>\n<h4 id=\"NPM-Reduce\"><a href=\"#NPM-Reduce\" class=\"headerlink\" title=\"NPM + Reduce\"></a>NPM + Reduce</h4><p>NPM + Reduce </p>\n<ul>\n<li>NPM </li>\n<li>Reduce </li>\n</ul>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">smart-box/</span><br><span class=\"line\"> package.json    <span class=\"comment\"># </span></span><br><span class=\"line\"> smart-box.jsx   <span class=\"comment\"># React Component</span></span><br><span class=\"line\"> smart-box.scss  <span class=\"comment\"># </span></span><br><span class=\"line\"> <span class=\"built_in\">test</span></span><br><span class=\"line\">     main.js     <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n<p>NPM  js  NPM  package.json  style  Reduce  css  css  imagefont </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;style&quot;</span>: <span class=\"string\">&quot;./smart-box.scss&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> require  smart-box Reduce jscss </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> SmartBox = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@mtfe/smart-box&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> IndexPage = React.createClass(&#123;</span><br><span class=\"line\">    <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (</span><br><span class=\"line\">            <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Header</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">SmartBox</span> <span class=\"attr\">keyword</span>=<span class=\"string\">&#123;</span> <span class=\"attr\">this.props.keyword</span> &#125; /&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">Header</span>&gt;</span></span></span><br><span class=\"line\">            ...</span><br><span class=\"line\">        );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = IndexPage;</span><br></pre></td></tr></table></figure>\n\n<p> 1.0 </p>\n<h4 id=\"Turbo\"><a href=\"#Turbo\" class=\"headerlink\" title=\"Turbo\"></a>Turbo</h4><p> Debug</p>\n<p> Node  Turbo</p>\n<ul>\n<li></li>\n<li> Flux </li>\n<li> ImmutableJS Store </li>\n<li> cursor /</li>\n<li> Hot Module Replacement</li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>"},{"layout":"post","title":" Functional Reactive Programming-  AutoComplete","date":"2022-03-21T11:34:00.000Z","status":"publish","_content":"\n [ Functional Reactive Programming-  AutoComplete](https://zhuanlan.zhihu.com/p/473437861) \n\n\n","source":"_posts/frontend-frp-2nd.md","raw":"---\nlayout: post\ntitle: \" Functional Reactive Programming-  AutoComplete\"\ndate: 2022-03-21 19:34:00\nstatus: publish\ntags: [Functional Programming, Functional Reactive Programming, RxJS]\n---\n\n [ Functional Reactive Programming-  AutoComplete](https://zhuanlan.zhihu.com/p/473437861) \n\n\n","slug":"frontend-frp-2nd","published":1,"updated":"2022-03-26T03:33:13.290Z","comments":1,"photos":[],"link":"","_id":"cl1klgupl000p8e854cfq5w0p","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/473437861\"> Functional Reactive Programming-  AutoComplete</a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/473437861\"> Functional Reactive Programming-  AutoComplete</a> </p>\n"},{"layout":"post","title":"Hire Slow","date":"2022-04-04T00:51:04.000Z","status":"publish","_content":"\n\n\n lead \n\n\n\n lead \n\nHire slowfire fastHire slow\n\n<!--more-->\n\n\n##  => \n\n\n\n****\n\n\n\n- \n  -  lead \n  - \n  - \n- \n  - \n  -  SaaS \n- \n  - \n  - \n\n\n\n lead \n\n> \n\n\n\n CRUD\n\n\n\n\n- \n  <p style=\"margin: 0 0 0.2rem 1.4rem\">\n  \n\n  </p>\n- \n  <p style=\"margin: 0 0 0.2rem 1.4rem\">\n  lead \n  \n  </p>\n\n lead \n\n\n## \n\n\n\nNetflix  Hastings \n\n- \n- \n- \n- \n- \n\n\n\n\n\n\n\n## \n\nHire slow \n\n\n\n\n- \n- \n- \n\n Brooks \n\n\n","source":"_posts/hire-slow.md","raw":"---\nlayout: post\ntitle: \"Hire Slow\"\ndate: 2022-04-04 08:51:04\nstatus: publish\ntags:\n  - Recruitment\n  - Organization\n---\n\n\n\n lead \n\n\n\n lead \n\nHire slowfire fastHire slow\n\n<!--more-->\n\n\n##  => \n\n\n\n****\n\n\n\n- \n  -  lead \n  - \n  - \n- \n  - \n  -  SaaS \n- \n  - \n  - \n\n\n\n lead \n\n> \n\n\n\n CRUD\n\n\n\n\n- \n  <p style=\"margin: 0 0 0.2rem 1.4rem\">\n  \n\n  </p>\n- \n  <p style=\"margin: 0 0 0.2rem 1.4rem\">\n  lead \n  \n  </p>\n\n lead \n\n\n## \n\n\n\nNetflix  Hastings \n\n- \n- \n- \n- \n- \n\n\n\n\n\n\n\n## \n\nHire slow \n\n\n\n\n- \n- \n- \n\n Brooks \n\n\n","slug":"hire-slow","published":1,"updated":"2022-04-04T10:46:27.654Z","comments":1,"photos":[],"link":"","_id":"cl1klgupl000q8e85e1rk0lh1","content":"<p></p>\n<p> lead \n\n</p>\n<p> lead </p>\n<p>Hire slowfire fastHire slow</p>\n<span id=\"more\"></span>\n\n\n<h2 id=\"-gt-\"><a href=\"#-gt-\" class=\"headerlink\" title=\" =&gt; \"></a> =&gt; </h2><p></p>\n<p><strong></strong></p>\n<p></p>\n<ul>\n<li><ul>\n<li> lead </li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li> SaaS </li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<p> lead </p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>\n\n CRUD</p>\n<p></p>\n<ul>\n<li><p style=\"margin: 0 0 0.2rem 1.4rem\">\n\n\n</p></li>\n<li><p style=\"margin: 0 0 0.2rem 1.4rem\">\nlead \n\n</p></li>\n</ul>\n<p> lead </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Netflix  Hastings </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>\n</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Hire slow </p>\n<p>\n</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> Brooks </p>\n<p></p>\n","site":{"data":{}},"excerpt":"<p></p>\n<p> lead \n\n</p>\n<p> lead </p>\n<p>Hire slowfire fastHire slow</p>","more":"<h2 id=\"-gt-\"><a href=\"#-gt-\" class=\"headerlink\" title=\" =&gt; \"></a> =&gt; </h2><p></p>\n<p><strong></strong></p>\n<p></p>\n<ul>\n<li><ul>\n<li> lead </li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li> SaaS </li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n<p></p>\n<p> lead </p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>\n\n CRUD</p>\n<p></p>\n<ul>\n<li><p style=\"margin: 0 0 0.2rem 1.4rem\">\n\n\n</p></li>\n<li><p style=\"margin: 0 0 0.2rem 1.4rem\">\nlead \n\n</p></li>\n</ul>\n<p> lead </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Netflix  Hastings </p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>\n</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Hire slow </p>\n<p>\n</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> Brooks </p>\n<p></p>"},{"layout":"post","title":" Functional Reactive Programming","date":"2022-01-18T02:10:23.000Z","status":"publish","_content":"\n [ Functional Reactive Programming](https://zhuanlan.zhihu.com/p/77687564) \n","source":"_posts/frontend-frp.md","raw":"---\nlayout: post\ntitle: \" Functional Reactive Programming\"\ndate: 2022-01-18 10:10:23\nstatus: publish\ntags: [Functional Programming, Functional Reactive Programming, RxJS]\n---\n\n [ Functional Reactive Programming](https://zhuanlan.zhihu.com/p/77687564) \n","slug":"frontend-frp","published":1,"updated":"2022-01-19T13:23:16.603Z","comments":1,"photos":[],"link":"","_id":"cl1klgupm000s8e85doqv6ewz","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/77687564\"> Functional Reactive Programming</a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/77687564\"> Functional Reactive Programming</a> </p>\n"},{"layout":"post","title":"Javascript","date":"2011-12-28T15:49:00.000Z","status":"publish","_content":"\n<div style=\"text-align: center;\"><iframe src=\"http://www.slideshare.net/slideshow/embed_code/10708244\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" width=\"425\" height=\"355\"></iframe></div>\n\n<div style=\"text-align: center;\"><a href=\"/assets/the-core-of-javascript.key_.zip\">keynote</a> | <a href=\"/assets/the-core-of-javascript.pdf.zip\">pdf</a></div>\n\n<!-- more -->\n\n## Notes\n\n1. JavascriptECMAScript\n\n2. \n\n3. \n\n4. . . . . . This\n\n5. . __proto__. \n\n6. []hasOwnProperty__proto__Array prototypeArray prototype__proto__...Object.prototypetrue__proto__jsJS/\n\n7. instanceofinstanceof\n\n8. \n\n9. JS\n\n    - [[Class]]typeofjsObject.prototype.toString.call(obj)\n    - [[Prototype]]\n    - [[Call]]\n    - [[Construct]]new\n    - [[Scope]]\n    - length\n    - prototype[[prototype]]\n\n10. [[Construct]]\n\n    - \n    - [[Class]]\n    - [[Prototype]]__proto__\n    - thisR\n    - RRO\n\n11. \n\n12. prototype__proto____proto__Function.prototype\n\n13. JS. evaleval\n\n14. \n\n15-31. \n\n32. . thisValue\n\n    - . \n    - \n    - thisValuethis\n\n33. :\n\n    - this\n    - arguments\n\n34. \n\n35. argumentsarray-likearray\n\n36. . thisValue\n\n37. . . \n\n    - \n    - undefinedvar\n    - VO\n\n38. xxvar x  10xyy\n\n39. \n\n40. ([[Scope]])\n\n41. \n\n    - . . \n    - \n\n    JS\n\n42. \n\n43. \n\n44. this\n\n45. Dmitry SoshnikovECMA-262-3 in detail\n\n46. \n\n## \n\n- [The Core](http://dmitrysoshnikov.com/ecmascript/javascript-the-core/)\n- [ECMA-262-3 in detail](http://dmitrysoshnikov.com/tag/ecma-262-3/)\n- [Annotated ECMAScript 5.1](http://es5.github.com/)\n","source":"_posts/javascript-the-core.md","raw":"---\nlayout: post\ntitle: \"Javascript\"\ndate: 2011-12-28 23:49\nstatus: publish\ntags: [Closure, Execution Context, Prototype Chain]\n---\n\n<div style=\"text-align: center;\"><iframe src=\"http://www.slideshare.net/slideshow/embed_code/10708244\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" width=\"425\" height=\"355\"></iframe></div>\n\n<div style=\"text-align: center;\"><a href=\"/assets/the-core-of-javascript.key_.zip\">keynote</a> | <a href=\"/assets/the-core-of-javascript.pdf.zip\">pdf</a></div>\n\n<!-- more -->\n\n## Notes\n\n1. JavascriptECMAScript\n\n2. \n\n3. \n\n4. . . . . . This\n\n5. . __proto__. \n\n6. []hasOwnProperty__proto__Array prototypeArray prototype__proto__...Object.prototypetrue__proto__jsJS/\n\n7. instanceofinstanceof\n\n8. \n\n9. JS\n\n    - [[Class]]typeofjsObject.prototype.toString.call(obj)\n    - [[Prototype]]\n    - [[Call]]\n    - [[Construct]]new\n    - [[Scope]]\n    - length\n    - prototype[[prototype]]\n\n10. [[Construct]]\n\n    - \n    - [[Class]]\n    - [[Prototype]]__proto__\n    - thisR\n    - RRO\n\n11. \n\n12. prototype__proto____proto__Function.prototype\n\n13. JS. evaleval\n\n14. \n\n15-31. \n\n32. . thisValue\n\n    - . \n    - \n    - thisValuethis\n\n33. :\n\n    - this\n    - arguments\n\n34. \n\n35. argumentsarray-likearray\n\n36. . thisValue\n\n37. . . \n\n    - \n    - undefinedvar\n    - VO\n\n38. xxvar x  10xyy\n\n39. \n\n40. ([[Scope]])\n\n41. \n\n    - . . \n    - \n\n    JS\n\n42. \n\n43. \n\n44. this\n\n45. Dmitry SoshnikovECMA-262-3 in detail\n\n46. \n\n## \n\n- [The Core](http://dmitrysoshnikov.com/ecmascript/javascript-the-core/)\n- [ECMA-262-3 in detail](http://dmitrysoshnikov.com/tag/ecma-262-3/)\n- [Annotated ECMAScript 5.1](http://es5.github.com/)\n","slug":"javascript-the-core","published":1,"updated":"2021-10-04T12:57:16.037Z","comments":1,"photos":[],"link":"","_id":"cl1klgupm000t8e85a5gwhkir","content":"<div style=\"text-align: center;\"><iframe src=\"http://www.slideshare.net/slideshow/embed_code/10708244\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" width=\"425\" height=\"355\"></iframe></div>\n\n<div style=\"text-align: center;\"><a href=\"/assets/the-core-of-javascript.key_.zip\">keynote</a> | <a href=\"/assets/the-core-of-javascript.pdf.zip\">pdf</a></div>\n\n<span id=\"more\"></span>\n\n<h2 id=\"Notes\"><a href=\"#Notes\" class=\"headerlink\" title=\"Notes\"></a>Notes</h2><ol>\n<li><p>JavascriptECMAScript</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>. . . . . This</p>\n</li>\n<li><p>. __proto__. </p>\n</li>\n<li><p>[]hasOwnProperty__proto__Array prototypeArray prototype__proto__Object.prototypetrue__proto__jsJS/</p>\n</li>\n<li><p>instanceofinstanceof</p>\n</li>\n<li><p></p>\n</li>\n<li><p>JS</p>\n<ul>\n<li>[[Class]]typeofjsObject.prototype.toString.call(obj)</li>\n<li>[[Prototype]]</li>\n<li>[[Call]]</li>\n<li>[[Construct]]new</li>\n<li>[[Scope]]</li>\n<li>length</li>\n<li>prototype[[prototype]]</li>\n</ul>\n</li>\n<li><p>[[Construct]]</p>\n<ul>\n<li></li>\n<li>[[Class]]</li>\n<li>[[Prototype]]__proto__</li>\n<li>thisR</li>\n<li>RRO</li>\n</ul>\n</li>\n<li><p></p>\n</li>\n<li><p>prototype__proto____proto__Function.prototype</p>\n</li>\n<li><p>JS. evaleval</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p>15-31. </p>\n<ol start=\"32\">\n<li><p>. thisValue</p>\n<ul>\n<li>. </li>\n<li></li>\n<li>thisValuethis</li>\n</ul>\n</li>\n<li><p>:</p>\n<ul>\n<li>this</li>\n<li>arguments</li>\n</ul>\n</li>\n<li><p></p>\n</li>\n<li><p>argumentsarray-likearray</p>\n</li>\n<li><p>. thisValue</p>\n</li>\n<li><p>. . </p>\n<ul>\n<li></li>\n<li>undefinedvar</li>\n<li>VO</li>\n</ul>\n</li>\n<li><p>xxvar x  10xyy</p>\n</li>\n<li><p></p>\n</li>\n<li><p>([[Scope]])</p>\n</li>\n<li><p></p>\n<ul>\n<li>. . </li>\n<li></li>\n</ul>\n<p>JS</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>this</p>\n</li>\n<li><p>Dmitry SoshnikovECMA-262-3 in detail</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://dmitrysoshnikov.com/ecmascript/javascript-the-core/\">The Core</a></li>\n<li><a href=\"http://dmitrysoshnikov.com/tag/ecma-262-3/\">ECMA-262-3 in detail</a></li>\n<li><a href=\"http://es5.github.com/\">Annotated ECMAScript 5.1</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<div style=\"text-align: center;\"><iframe src=\"http://www.slideshare.net/slideshow/embed_code/10708244\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" width=\"425\" height=\"355\"></iframe></div>\n\n<div style=\"text-align: center;\"><a href=\"/assets/the-core-of-javascript.key_.zip\">keynote</a> | <a href=\"/assets/the-core-of-javascript.pdf.zip\">pdf</a></div>","more":"<h2 id=\"Notes\"><a href=\"#Notes\" class=\"headerlink\" title=\"Notes\"></a>Notes</h2><ol>\n<li><p>JavascriptECMAScript</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>. . . . . This</p>\n</li>\n<li><p>. __proto__. </p>\n</li>\n<li><p>[]hasOwnProperty__proto__Array prototypeArray prototype__proto__Object.prototypetrue__proto__jsJS/</p>\n</li>\n<li><p>instanceofinstanceof</p>\n</li>\n<li><p></p>\n</li>\n<li><p>JS</p>\n<ul>\n<li>[[Class]]typeofjsObject.prototype.toString.call(obj)</li>\n<li>[[Prototype]]</li>\n<li>[[Call]]</li>\n<li>[[Construct]]new</li>\n<li>[[Scope]]</li>\n<li>length</li>\n<li>prototype[[prototype]]</li>\n</ul>\n</li>\n<li><p>[[Construct]]</p>\n<ul>\n<li></li>\n<li>[[Class]]</li>\n<li>[[Prototype]]__proto__</li>\n<li>thisR</li>\n<li>RRO</li>\n</ul>\n</li>\n<li><p></p>\n</li>\n<li><p>prototype__proto____proto__Function.prototype</p>\n</li>\n<li><p>JS. evaleval</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p>15-31. </p>\n<ol start=\"32\">\n<li><p>. thisValue</p>\n<ul>\n<li>. </li>\n<li></li>\n<li>thisValuethis</li>\n</ul>\n</li>\n<li><p>:</p>\n<ul>\n<li>this</li>\n<li>arguments</li>\n</ul>\n</li>\n<li><p></p>\n</li>\n<li><p>argumentsarray-likearray</p>\n</li>\n<li><p>. thisValue</p>\n</li>\n<li><p>. . </p>\n<ul>\n<li></li>\n<li>undefinedvar</li>\n<li>VO</li>\n</ul>\n</li>\n<li><p>xxvar x  10xyy</p>\n</li>\n<li><p></p>\n</li>\n<li><p>([[Scope]])</p>\n</li>\n<li><p></p>\n<ul>\n<li>. . </li>\n<li></li>\n</ul>\n<p>JS</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>this</p>\n</li>\n<li><p>Dmitry SoshnikovECMA-262-3 in detail</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://dmitrysoshnikov.com/ecmascript/javascript-the-core/\">The Core</a></li>\n<li><a href=\"http://dmitrysoshnikov.com/tag/ecma-262-3/\">ECMA-262-3 in detail</a></li>\n<li><a href=\"http://es5.github.com/\">Annotated ECMAScript 5.1</a></li>\n</ul>"},{"layout":"post","title":"","date":"2022-01-31T07:34:13.000Z","status":"publish","_content":"\n2018 \n\n-  A\n- \n-  A\n- \n-  Aok\n\n\n\n-  A\n\n A \n\n\n<!--more-->\n\n## \n\n\n\n- \n-  P \n-  BB\n\n\n\n- \n- \n- \n- \n- \n\n\n\n- \n- \n-  supportive \n- \n\n\n\n## \n\n\n\n### \n\n\n\n\n\n- \n- ACM \n- \n\n\n\n\n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n### \n\n\n\n so easy\n\n\n\n- \n- \n- \n\n\n\n\n\n### \n\n\n\n- \n- \n- Offer  HR \n\n\n\n## \n\n\n\n\n\n\n","source":"_posts/interview-is-bidirectional.md","raw":"---\nlayout: post\ntitle: \"\"\ndate: 2022-01-31 15:34:13\nstatus: publish\ntags: [Interview]\n---\n\n2018 \n\n-  A\n- \n-  A\n- \n-  Aok\n\n\n\n-  A\n\n A \n\n\n<!--more-->\n\n## \n\n\n\n- \n-  P \n-  BB\n\n\n\n- \n- \n- \n- \n- \n\n\n\n- \n- \n-  supportive \n- \n\n\n\n## \n\n\n\n### \n\n\n\n\n\n- \n- ACM \n- \n\n\n\n\n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n### \n\n\n\n so easy\n\n\n\n- \n- \n- \n\n\n\n\n\n### \n\n\n\n- \n- \n- Offer  HR \n\n\n\n## \n\n\n\n\n\n\n","slug":"interview-is-bidirectional","published":1,"updated":"2022-01-31T09:16:34.468Z","comments":1,"photos":[],"link":"","_id":"cl1klgupo000v8e85ae5a4pdp","content":"<p>2018 </p>\n<ul>\n<li> A</li>\n<li></li>\n<li> A</li>\n<li></li>\n<li> Aok</li>\n</ul>\n<p></p>\n<ul>\n<li> A</li>\n</ul>\n<p> A \n</p>\n<span id=\"more\"></span>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li> P </li>\n<li> BB</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li> supportive </li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li></li>\n<li>ACM </li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p> so easy</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>Offer  HR </li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n","site":{"data":{}},"excerpt":"<p>2018 </p>\n<ul>\n<li> A</li>\n<li></li>\n<li> A</li>\n<li></li>\n<li> Aok</li>\n</ul>\n<p></p>\n<ul>\n<li> A</li>\n</ul>\n<p> A \n</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n<li> P </li>\n<li> BB</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li> supportive </li>\n<li></li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<ul>\n<li></li>\n<li>ACM </li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p> so easy</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>Offer  HR </li>\n</ul>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>"},{"layout":"post","title":"JS Linter ","date":"2018-05-29T11:52:00.000Z","status":"publish","_content":"\n [JS Linter ](https://zhuanlan.zhihu.com/p/34656263) \n","source":"_posts/js-linter-history.md","raw":"---\nlayout: post\ntitle: \"JS Linter \"\ndate: 2018-05-29 19:52\nstatus: publish\ntags: [JavaScript, Linter, ESLint, JSLint]\n---\n\n [JS Linter ](https://zhuanlan.zhihu.com/p/34656263) \n","slug":"js-linter-history","published":1,"updated":"2021-10-05T13:16:14.125Z","comments":1,"photos":[],"link":"","_id":"cl1klgupp000x8e85efwm556p","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/34656263\">JS Linter </a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/34656263\">JS Linter </a> </p>\n"},{"layout":"post","title":"React ","date":"2018-01-31T13:04:00.000Z","status":"publish","_content":"\n [React ](https://zhuanlan.zhihu.com/p/28562066) \n","source":"_posts/react-design-highlights.md","raw":"---\nlayout: post\ntitle: \"React \"\ndate: 2018-01-31 21:04\nstatus: publish\ntags: [React, Virtual DOM, Fiber]\n---\n\n [React ](https://zhuanlan.zhihu.com/p/28562066) \n","slug":"react-design-highlights","published":1,"updated":"2021-10-05T13:17:35.246Z","comments":1,"photos":[],"link":"","_id":"cl1klgupp00108e85ewfzblzj","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/28562066\">React </a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/28562066\">React </a> </p>\n"},{"layout":"post","title":" Monad","date":"2018-10-23T10:30:00.000Z","status":"publish","_content":"\n [ Monad](https://zhuanlan.zhihu.com/p/47130217) \n","source":"_posts/monad.md","raw":"---\nlayout: post\ntitle: \" Monad\"\ndate: 2018-10-23 18:30\nstatus: publish\ntags: [Functional Programming, Monad]\n---\n\n [ Monad](https://zhuanlan.zhihu.com/p/47130217) \n","slug":"monad","published":1,"updated":"2021-10-05T13:14:50.562Z","comments":1,"photos":[],"link":"","_id":"cl1klgupq00128e85aocl9sif","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/47130217\"> Monad</a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/47130217\"> Monad</a> </p>\n"},{"layout":"post","title":" Promise ","date":"2014-05-08T14:16:00.000Z","status":"publish","_content":"\n Evented I/O  NodeJS PromiseAsync  Promise  Promise  Promise [promisejs.org](https://www.promisejs.org/) \n\n\n## \n\nPromise  [Promises/A+](http://promisesaplus.com/)\n\nPromise /Promise / Promise  ES6  ChromeFirefox \n\n## \n\n Promise  API feature \n\n\n\n- Promise Promises/A+ \n- promise Promise \n\n### \n\nid Promise \n\n```javascript\n// 1\n\nfunction getUserId() {\n\treturn new Promise(function (resolve) {\n\t\t// \n\t\tY.io('/userid', {\n\t\t\ton: {\n\t\t\t\tsuccess: function (id, res) {\n\t\t\t\t\tresolve(JSON.parse(res).id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\ngetUserId().then(function (id) {\n\t// do sth with id\n});\n```\n[JS Bin](http://jsbin.com/kebigicu/1/embed?js,console)\n\n<!-- more -->\n\n`getUserId`  promise `then`  promise  API\n\n Promise \n\n```javascript\nfunction Promise(fn) {\n    var value = null,\n    \tdeferreds = [];\n        \n    this.then = function (onFulfilled) {\n        deferreds.push(onFulfilled);\n    };\n    \n    function resolve(value) {\n    \tdeferreds.forEach(function (deferred) {\n    \t\tdeferred(value);\n    \t});\n    }\n\n    fn(resolve);\n}\n```\n\n\n\n- `then` Promise  `deferreds` \n-  Promise  `resolve` `deferreds` \n- `resolve` \n\n jQuery \n\n```javascript\nthis.then = function (onFulfilled) {\n    deferreds.push(onFulfilled);\n    return this;\n};\n```\n\n\n\n```javascript\n// 2\n\ngetUserId().then(function (id) {\n\t// do sth with id\n}).then(function (id) {\n\t// do sth else with id\n});\n```\n[JS Bin](http://jsbin.com/fedukaso/2/edit?js,console)\n\n### \n\n promise `resolve`  `then`  `deferreds` \n\n```javascript\n// 3\n\nfunction getUserId() {\n\treturn new Promise(function (resolve) {\n\t\tresolve(9876);\n\t});\n}\n\ngetUserId().then(function (id) {\n\t// do sth with id\n});\n```\n[JS Bin](http://jsbin.com/fenopelo/3/edit?js,console)\n\nPromises/A+  `setTimeout`  `resolve`  JS \n\n```javascript\nfunction resolve(value) {\n    setTimeout(function () {\n        deferreds.forEach(function (deferred) {\n    \t    deferred(value);\n        });\n    }, 0);\n}\n```\n\n### \n\nHmm Promise  `then` \n\n States Promise pendingfulfilledrejected\n\n<center>\n<img title=\"states flow\" src=\"/images/promise-states-flow.png\" />\n</center>\n\n\n\n```javascript\nfunction Promise(fn) {\n    var state = 'pending',\n    \tvalue = null,\n    \tdeferreds = [];\n        \n    this.then = function (onFulfilled) {\n    \tif (state === 'pending') {\n        \tdeferreds.push(onFulfilled);\n        \treturn this;\n        }\n        onFulfilled(value);\n        return this;\n    };\n    \n    function resolve(newValue) {\n        value = newValue;\n    \tstate = 'fulfilled';\n        setTimeout(function () {\n            deferreds.forEach(function (deferred) {\n                deferred(value);\n            });\n        }, 0);\n    }\n\n    fn(resolve);\n}\n```\n[JS Bin](http://jsbin.com/lamewijo/2/edit?js,console)\n\n`resolve`  fulfilled `then` \n\n state  rejected\n\n###  Promise\n\n Promise  Killer Feature** Promise**\n\n Promise  promise  fulfilled  promise promise id  id \n\n```javascript\n// 4\n\ngetUserId()\n    .then(getUserMobileById)\n    .then(function (mobile) {\n\t    // do sth with mobile\n    });\n\nfunction getUserMobileById(id) {\n\treturn new Promise(function (resolve) {\n\t    Y.io('/usermobile/' + id, {\n\t        on: {\n\t            success: function (i, o) {\n\t                resolve(JSON.parse(o).mobile);\n\t            }\n\t        }\n   \t    });\n\t});\n}\n```\n[JS Bin](http://jsbin.com/pibicefe/2/edit?js,console)\n\n feature  promise  promise\n\n `then` \n\n```javascript\nthis.then = function (onFulfilled) {\n    return new Promise(function (resolve) {\n        handle({\n            onFulfilled: onFulfilled || null,\n            resolve: resolve\n        });\n    });\n};\n\nfunction handle(deferred) {\n    if (state === 'pending') {\n        deferreds.push(deferred);\n        return;\n    }\n    \n    var ret = deferred.onFulfilled(value);\n    deferred.resolve(ret);\n}\n```\n\n`then` \n\n- `then`  Promise  promise bridge promise Promise \n- `handle`  promise `then`  `onFullfilled` Promise  `resolve`  promise  `deferreds`  promise  promise \n\n `handle`  `then` \n\n```javascript\ndeferred.resolve(ret);\n```\n\n promise  `handle`  `onFulfilled`  `resolve`  promise ****\n\n 2  Promise \n\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-simple-flow.png\" />\n</center>\n\n Promise-- `resolve` \n\n```javascript\nfunction resolve(newValue) {\n    if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (typeof then === 'function') {\n            then.call(newValue, resolve);\n            return;\n        }\n    }\n    state = 'fulfilled';\n    value = newValue;\n    setTimeout(function () {\n        deferreds.forEach(function (deferred) {\n            handle(deferred);\n        });\n    }, 0);\n}\n```\n\n`resolve`  Promise  4 \n\n1. `getUserId`  promise  `getUserId` promise `resolve` `userid`\n2.  `handle`  `deferreds` `getUserMobileById`  promise `getUserMobileById` promise\n3.  `getUserId` promise  `then`  bridge promise  `resolve`  `getUserMobileById` promise `resolve`  `getUserMobileById` promise  `then` \n4.  `getUserMobileById` promise  `deferreds` `getUserId` bridge promise  `resolve` \n5.  `getUserId` bridge promise  promise  `deferreds` \n\n bridge promise  promise \n\n 4  Promise \n\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-flow.png\" />\n</center>\n\n### \n\n rejected  rejected\n\n```javascript\n// 5\n\nfunction getUserId() {\n\treturn new Promise(function (resolve, reject) {\n\t\t// \n\t\tY.io('/userid/1', {\n\t\t\ton: {\n\t\t\t\tsuccess: function (id, res) {\n                    var o = JSON.parse(res);\n                    if (o.status === 1) {\n                        resolve(o.id);\n                    } else {\n                        // \n                        reject(o.errorMsg);\n                    }\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\ngetUserId().then(function (id) {\n\t// do sth with id\n}, function (error) {\n    console.log(error);\n});\n```\n[JS Bin](http://jsbin.com/padolebi/2/edit?js,console)\n\n fulfilled  code base\n\n```javascript\nfunction Promise(fn) {\n    var state = 'pending',\n    \tvalue = null,\n        deferreds = [];\n        \n    this.then = function (onFulfilled, onRejected) {\n        return new Promise(function (resolve, reject) {\n            handle({\n                onFulfilled: onFulfilled || null,\n                onRejected: onRejected || null,\n                resolve: resolve,\n                reject: reject\n            });\n        });\n    };\n\n    function handle(deferred) {\n        if (state === 'pending') {\n            deferreds.push(deferred);\n            return;\n        }\n        \n        var cb = state === 'fulfilled' ? deferred.onFulfilled : deferred.onRejected,\n            ret;\n        if (cb === null) {\n            cb = state === 'fulfilled' ? deferred.resolve : deferred.reject;\n            cb(value);\n            return;\n        }\n        ret = cb(value);\n        deferred.resolve(ret);\n    }\n\n    function resolve(newValue) {\n        if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (typeof then === 'function') {\n                then.call(newValue, resolve, reject);\n                return;\n            }\n        }\n        state = 'fulfilled';\n        value = newValue;\n        finale();\n    }\n\n    function reject(reason) {\n        state = 'rejected';\n        value = reason;\n        finale();\n    }\n\n    function finale() {\n        setTimeout(function () {\n            deferreds.forEach(function (deferred) {\n                handle(deferred);\n            });\n        }, 0);\n    }\n\n    fn(resolve, reject);\n}\n```\n\n `reject`  `resolve`  `reject`  `finale` \n\n**** `handle`  bridge promise  rejected  Promise \n\n```javascript\n// 6\n\ngetUserId()\n    .then(getUserMobileById)\n    .then(function (mobile) {\n\t    // do sth else with mobile\n    }, function (error) {\n        // getUserIdgetUerMobileById\n        console.log(error);\n    });\n```\n[JS Bin](http://jsbin.com/joqamiko/3/edit?js,console)\n\n### \n\n `try-catch`  bridge promise  rejected `handle` \n\n```javascript\nfunction handle(deferred) {\n    if (state === 'pending') {\n        deferreds.push(deferred);\n        return;\n    }\n    \n    var cb = state === 'fulfilled' ? deferred.onFulfilled : deferred.onRejected,\n        ret;\n    if (cb === null) {\n        cb = state === 'fulfilled' ? deferred.resolve : deferred.reject;\n        cb(value);\n        return;\n    }\n    try {\n        ret = cb(value);\n        deferred.resolve(ret);\n    } catch (e) {\n        deferred.reject(e);\n    } \n}\n```\n\n `resolve`  `reject` \n\n## \n\nPromise  Monad API / Forbes Lindesay [ Promise ](https://github.com/then/promise/blob/master/core.js) Promise \n\n## \n\n Promise  Promise Promise \n\n## \n\n- [Introduction to Promises](https://www.promisejs.org/)\n- [JavaScript Promises ... In Wicked Detail](http://mattgreer.org/articles/promises-in-wicked-detail/)\n- [A Gentle Introduction to Monads in JavaScript](http://sean.voisen.org/blog/2013/10/intro-monads-maybe/)\n","source":"_posts/promise-insight.md","raw":"---\nlayout: post\ntitle: \" Promise \"\ndate: 2014-05-08 22:16\nstatus: publish\ntags: [Promise, Monad, JavaScript]\n---\n\n Evented I/O  NodeJS PromiseAsync  Promise  Promise  Promise [promisejs.org](https://www.promisejs.org/) \n\n\n## \n\nPromise  [Promises/A+](http://promisesaplus.com/)\n\nPromise /Promise / Promise  ES6  ChromeFirefox \n\n## \n\n Promise  API feature \n\n\n\n- Promise Promises/A+ \n- promise Promise \n\n### \n\nid Promise \n\n```javascript\n// 1\n\nfunction getUserId() {\n\treturn new Promise(function (resolve) {\n\t\t// \n\t\tY.io('/userid', {\n\t\t\ton: {\n\t\t\t\tsuccess: function (id, res) {\n\t\t\t\t\tresolve(JSON.parse(res).id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\ngetUserId().then(function (id) {\n\t// do sth with id\n});\n```\n[JS Bin](http://jsbin.com/kebigicu/1/embed?js,console)\n\n<!-- more -->\n\n`getUserId`  promise `then`  promise  API\n\n Promise \n\n```javascript\nfunction Promise(fn) {\n    var value = null,\n    \tdeferreds = [];\n        \n    this.then = function (onFulfilled) {\n        deferreds.push(onFulfilled);\n    };\n    \n    function resolve(value) {\n    \tdeferreds.forEach(function (deferred) {\n    \t\tdeferred(value);\n    \t});\n    }\n\n    fn(resolve);\n}\n```\n\n\n\n- `then` Promise  `deferreds` \n-  Promise  `resolve` `deferreds` \n- `resolve` \n\n jQuery \n\n```javascript\nthis.then = function (onFulfilled) {\n    deferreds.push(onFulfilled);\n    return this;\n};\n```\n\n\n\n```javascript\n// 2\n\ngetUserId().then(function (id) {\n\t// do sth with id\n}).then(function (id) {\n\t// do sth else with id\n});\n```\n[JS Bin](http://jsbin.com/fedukaso/2/edit?js,console)\n\n### \n\n promise `resolve`  `then`  `deferreds` \n\n```javascript\n// 3\n\nfunction getUserId() {\n\treturn new Promise(function (resolve) {\n\t\tresolve(9876);\n\t});\n}\n\ngetUserId().then(function (id) {\n\t// do sth with id\n});\n```\n[JS Bin](http://jsbin.com/fenopelo/3/edit?js,console)\n\nPromises/A+  `setTimeout`  `resolve`  JS \n\n```javascript\nfunction resolve(value) {\n    setTimeout(function () {\n        deferreds.forEach(function (deferred) {\n    \t    deferred(value);\n        });\n    }, 0);\n}\n```\n\n### \n\nHmm Promise  `then` \n\n States Promise pendingfulfilledrejected\n\n<center>\n<img title=\"states flow\" src=\"/images/promise-states-flow.png\" />\n</center>\n\n\n\n```javascript\nfunction Promise(fn) {\n    var state = 'pending',\n    \tvalue = null,\n    \tdeferreds = [];\n        \n    this.then = function (onFulfilled) {\n    \tif (state === 'pending') {\n        \tdeferreds.push(onFulfilled);\n        \treturn this;\n        }\n        onFulfilled(value);\n        return this;\n    };\n    \n    function resolve(newValue) {\n        value = newValue;\n    \tstate = 'fulfilled';\n        setTimeout(function () {\n            deferreds.forEach(function (deferred) {\n                deferred(value);\n            });\n        }, 0);\n    }\n\n    fn(resolve);\n}\n```\n[JS Bin](http://jsbin.com/lamewijo/2/edit?js,console)\n\n`resolve`  fulfilled `then` \n\n state  rejected\n\n###  Promise\n\n Promise  Killer Feature** Promise**\n\n Promise  promise  fulfilled  promise promise id  id \n\n```javascript\n// 4\n\ngetUserId()\n    .then(getUserMobileById)\n    .then(function (mobile) {\n\t    // do sth with mobile\n    });\n\nfunction getUserMobileById(id) {\n\treturn new Promise(function (resolve) {\n\t    Y.io('/usermobile/' + id, {\n\t        on: {\n\t            success: function (i, o) {\n\t                resolve(JSON.parse(o).mobile);\n\t            }\n\t        }\n   \t    });\n\t});\n}\n```\n[JS Bin](http://jsbin.com/pibicefe/2/edit?js,console)\n\n feature  promise  promise\n\n `then` \n\n```javascript\nthis.then = function (onFulfilled) {\n    return new Promise(function (resolve) {\n        handle({\n            onFulfilled: onFulfilled || null,\n            resolve: resolve\n        });\n    });\n};\n\nfunction handle(deferred) {\n    if (state === 'pending') {\n        deferreds.push(deferred);\n        return;\n    }\n    \n    var ret = deferred.onFulfilled(value);\n    deferred.resolve(ret);\n}\n```\n\n`then` \n\n- `then`  Promise  promise bridge promise Promise \n- `handle`  promise `then`  `onFullfilled` Promise  `resolve`  promise  `deferreds`  promise  promise \n\n `handle`  `then` \n\n```javascript\ndeferred.resolve(ret);\n```\n\n promise  `handle`  `onFulfilled`  `resolve`  promise ****\n\n 2  Promise \n\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-simple-flow.png\" />\n</center>\n\n Promise-- `resolve` \n\n```javascript\nfunction resolve(newValue) {\n    if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (typeof then === 'function') {\n            then.call(newValue, resolve);\n            return;\n        }\n    }\n    state = 'fulfilled';\n    value = newValue;\n    setTimeout(function () {\n        deferreds.forEach(function (deferred) {\n            handle(deferred);\n        });\n    }, 0);\n}\n```\n\n`resolve`  Promise  4 \n\n1. `getUserId`  promise  `getUserId` promise `resolve` `userid`\n2.  `handle`  `deferreds` `getUserMobileById`  promise `getUserMobileById` promise\n3.  `getUserId` promise  `then`  bridge promise  `resolve`  `getUserMobileById` promise `resolve`  `getUserMobileById` promise  `then` \n4.  `getUserMobileById` promise  `deferreds` `getUserId` bridge promise  `resolve` \n5.  `getUserId` bridge promise  promise  `deferreds` \n\n bridge promise  promise \n\n 4  Promise \n\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-flow.png\" />\n</center>\n\n### \n\n rejected  rejected\n\n```javascript\n// 5\n\nfunction getUserId() {\n\treturn new Promise(function (resolve, reject) {\n\t\t// \n\t\tY.io('/userid/1', {\n\t\t\ton: {\n\t\t\t\tsuccess: function (id, res) {\n                    var o = JSON.parse(res);\n                    if (o.status === 1) {\n                        resolve(o.id);\n                    } else {\n                        // \n                        reject(o.errorMsg);\n                    }\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\ngetUserId().then(function (id) {\n\t// do sth with id\n}, function (error) {\n    console.log(error);\n});\n```\n[JS Bin](http://jsbin.com/padolebi/2/edit?js,console)\n\n fulfilled  code base\n\n```javascript\nfunction Promise(fn) {\n    var state = 'pending',\n    \tvalue = null,\n        deferreds = [];\n        \n    this.then = function (onFulfilled, onRejected) {\n        return new Promise(function (resolve, reject) {\n            handle({\n                onFulfilled: onFulfilled || null,\n                onRejected: onRejected || null,\n                resolve: resolve,\n                reject: reject\n            });\n        });\n    };\n\n    function handle(deferred) {\n        if (state === 'pending') {\n            deferreds.push(deferred);\n            return;\n        }\n        \n        var cb = state === 'fulfilled' ? deferred.onFulfilled : deferred.onRejected,\n            ret;\n        if (cb === null) {\n            cb = state === 'fulfilled' ? deferred.resolve : deferred.reject;\n            cb(value);\n            return;\n        }\n        ret = cb(value);\n        deferred.resolve(ret);\n    }\n\n    function resolve(newValue) {\n        if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (typeof then === 'function') {\n                then.call(newValue, resolve, reject);\n                return;\n            }\n        }\n        state = 'fulfilled';\n        value = newValue;\n        finale();\n    }\n\n    function reject(reason) {\n        state = 'rejected';\n        value = reason;\n        finale();\n    }\n\n    function finale() {\n        setTimeout(function () {\n            deferreds.forEach(function (deferred) {\n                handle(deferred);\n            });\n        }, 0);\n    }\n\n    fn(resolve, reject);\n}\n```\n\n `reject`  `resolve`  `reject`  `finale` \n\n**** `handle`  bridge promise  rejected  Promise \n\n```javascript\n// 6\n\ngetUserId()\n    .then(getUserMobileById)\n    .then(function (mobile) {\n\t    // do sth else with mobile\n    }, function (error) {\n        // getUserIdgetUerMobileById\n        console.log(error);\n    });\n```\n[JS Bin](http://jsbin.com/joqamiko/3/edit?js,console)\n\n### \n\n `try-catch`  bridge promise  rejected `handle` \n\n```javascript\nfunction handle(deferred) {\n    if (state === 'pending') {\n        deferreds.push(deferred);\n        return;\n    }\n    \n    var cb = state === 'fulfilled' ? deferred.onFulfilled : deferred.onRejected,\n        ret;\n    if (cb === null) {\n        cb = state === 'fulfilled' ? deferred.resolve : deferred.reject;\n        cb(value);\n        return;\n    }\n    try {\n        ret = cb(value);\n        deferred.resolve(ret);\n    } catch (e) {\n        deferred.reject(e);\n    } \n}\n```\n\n `resolve`  `reject` \n\n## \n\nPromise  Monad API / Forbes Lindesay [ Promise ](https://github.com/then/promise/blob/master/core.js) Promise \n\n## \n\n Promise  Promise Promise \n\n## \n\n- [Introduction to Promises](https://www.promisejs.org/)\n- [JavaScript Promises ... In Wicked Detail](http://mattgreer.org/articles/promises-in-wicked-detail/)\n- [A Gentle Introduction to Monads in JavaScript](http://sean.voisen.org/blog/2013/10/intro-monads-maybe/)\n","slug":"promise-insight","published":1,"updated":"2021-10-05T09:20:21.060Z","comments":1,"photos":[],"link":"","_id":"cl1klgupq00148e85f3wr8c3b","content":"<p> Evented I/O  NodeJS PromiseAsync  Promise  Promise  Promise <a href=\"https://www.promisejs.org/\">promisejs.org</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Promise  <a href=\"http://promisesaplus.com/\">Promises/A+</a></p>\n<p>Promise /Promise / Promise  ES6  ChromeFirefox </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Promise  API feature </p>\n<p></p>\n<ul>\n<li>Promise Promises/A+ </li>\n<li>promise Promise </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>id Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserId</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// </span></span><br><span class=\"line\">\t\tY.io(<span class=\"string\">&#x27;/userid&#x27;</span>, &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">on</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id, res</span>) </span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(<span class=\"built_in\">JSON</span>.parse(res).id);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/kebigicu/1/embed?js,console\">JS Bin</a></p>\n<span id=\"more\"></span>\n\n<p><code>getUserId</code>  promise <code>then</code>  promise  API</p>\n<p> Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Promise</span>(<span class=\"params\">fn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value = <span class=\"literal\">null</span>,</span><br><span class=\"line\">    \tdeferreds = [];</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">        deferreds.push(onFulfilled);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    \tdeferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    \t\tdeferred(value);</span><br><span class=\"line\">    \t&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    fn(resolve);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<ul>\n<li><code>then</code> Promise  <code>deferreds</code> </li>\n<li> Promise  <code>resolve</code> <code>deferreds</code> </li>\n<li><code>resolve</code> </li>\n</ul>\n<p> jQuery </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">    deferreds.push(onFulfilled);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth else with id</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/fedukaso/2/edit?js,console\">JS Bin</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> promise <code>resolve</code>  <code>then</code>  <code>deferreds</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserId</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">\t\tresolve(<span class=\"number\">9876</span>);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/fenopelo/3/edit?js,console\">JS Bin</a></p>\n<p>Promises/A+  <code>setTimeout</code>  <code>resolve</code>  JS </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    \t    deferred(value);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Hmm Promise  <code>then</code> </p>\n<p> States Promise pendingfulfilledrejected</p>\n<center>\n<img title=\"states flow\" src=\"/images/promise-states-flow.png\" />\n</center>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Promise</span>(<span class=\"params\">fn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> state = <span class=\"string\">&#x27;pending&#x27;</span>,</span><br><span class=\"line\">    \tvalue = <span class=\"literal\">null</span>,</span><br><span class=\"line\">    \tdeferreds = [];</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">    \t<span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">        \tdeferreds.push(onFulfilled);</span><br><span class=\"line\">        \t<span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        onFulfilled(value);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">newValue</span>) </span>&#123;</span><br><span class=\"line\">        value = newValue;</span><br><span class=\"line\">    \tstate = <span class=\"string\">&#x27;fulfilled&#x27;</span>;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">                deferred(value);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    fn(resolve);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/lamewijo/2/edit?js,console\">JS Bin</a></p>\n<p><code>resolve</code>  fulfilled <code>then</code> </p>\n<p> state  rejected</p>\n<h3 id=\"-Promise\"><a href=\"#-Promise\" class=\"headerlink\" title=\" Promise\"></a> Promise</h3><p> Promise  Killer Feature<strong> Promise</strong></p>\n<p> Promise  promise  fulfilled  promise promise id  id </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\"></span><br><span class=\"line\">getUserId()</span><br><span class=\"line\">    .then(getUserMobileById)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">mobile</span>) </span>&#123;</span><br><span class=\"line\">\t    <span class=\"comment\">// do sth with mobile</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserMobileById</span>(<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">\t    Y.io(<span class=\"string\">&#x27;/usermobile/&#x27;</span> + id, &#123;</span><br><span class=\"line\">\t        <span class=\"attr\">on</span>: &#123;</span><br><span class=\"line\">\t            <span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">i, o</span>) </span>&#123;</span><br><span class=\"line\">\t                resolve(<span class=\"built_in\">JSON</span>.parse(o).mobile);</span><br><span class=\"line\">\t            &#125;</span><br><span class=\"line\">\t        &#125;</span><br><span class=\"line\">   \t    &#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/pibicefe/2/edit?js,console\">JS Bin</a></p>\n<p> feature  promise  promise</p>\n<p> <code>then</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">        handle(&#123;</span><br><span class=\"line\">            <span class=\"attr\">onFulfilled</span>: onFulfilled || <span class=\"literal\">null</span>,</span><br><span class=\"line\">            <span class=\"attr\">resolve</span>: resolve</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handle</span>(<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">        deferreds.push(deferred);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">var</span> ret = deferred.onFulfilled(value);</span><br><span class=\"line\">    deferred.resolve(ret);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>then</code> </p>\n<ul>\n<li><code>then</code>  Promise  promise bridge promise Promise </li>\n<li><code>handle</code>  promise <code>then</code>  <code>onFullfilled</code> Promise  <code>resolve</code>  promise  <code>deferreds</code>  promise  promise </li>\n</ul>\n<p> <code>handle</code>  <code>then</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deferred.resolve(ret);</span><br></pre></td></tr></table></figure>\n\n<p> promise  <code>handle</code>  <code>onFulfilled</code>  <code>resolve</code>  promise <strong></strong></p>\n<p> 2  Promise </p>\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-simple-flow.png\" />\n</center>\n\n<p> Promise <code>resolve</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">newValue</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (newValue &amp;&amp; (<span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;object&#x27;</span> || <span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;function&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> then = newValue.then;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> then === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">            then.call(newValue, resolve);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    state = <span class=\"string\">&#x27;fulfilled&#x27;</span>;</span><br><span class=\"line\">    value = newValue;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">            handle(deferred);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>resolve</code>  Promise  4 </p>\n<ol>\n<li><code>getUserId</code>  promise  <code>getUserId</code> promise <code>resolve</code> <code>userid</code></li>\n<li> <code>handle</code>  <code>deferreds</code> <code>getUserMobileById</code>  promise <code>getUserMobileById</code> promise</li>\n<li> <code>getUserId</code> promise  <code>then</code>  bridge promise  <code>resolve</code>  <code>getUserMobileById</code> promise <code>resolve</code>  <code>getUserMobileById</code> promise  <code>then</code> </li>\n<li> <code>getUserMobileById</code> promise  <code>deferreds</code> <code>getUserId</code> bridge promise  <code>resolve</code> </li>\n<li> <code>getUserId</code> bridge promise  promise  <code>deferreds</code> </li>\n</ol>\n<p> bridge promise  promise </p>\n<p> 4  Promise </p>\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-flow.png\" />\n</center>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> rejected  rejected</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserId</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// </span></span><br><span class=\"line\">\t\tY.io(<span class=\"string\">&#x27;/userid/1&#x27;</span>, &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">on</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id, res</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> o = <span class=\"built_in\">JSON</span>.parse(res);</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (o.status === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        resolve(o.id);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// </span></span><br><span class=\"line\">                        reject(o.errorMsg);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(error);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/padolebi/2/edit?js,console\">JS Bin</a></p>\n<p> fulfilled  code base</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Promise</span>(<span class=\"params\">fn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> state = <span class=\"string\">&#x27;pending&#x27;</span>,</span><br><span class=\"line\">    \tvalue = <span class=\"literal\">null</span>,</span><br><span class=\"line\">        deferreds = [];</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled, onRejected</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">            handle(&#123;</span><br><span class=\"line\">                <span class=\"attr\">onFulfilled</span>: onFulfilled || <span class=\"literal\">null</span>,</span><br><span class=\"line\">                <span class=\"attr\">onRejected</span>: onRejected || <span class=\"literal\">null</span>,</span><br><span class=\"line\">                <span class=\"attr\">resolve</span>: resolve,</span><br><span class=\"line\">                <span class=\"attr\">reject</span>: reject</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handle</span>(<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">            deferreds.push(deferred);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">var</span> cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.onFulfilled : deferred.onRejected,</span><br><span class=\"line\">            ret;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cb === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.resolve : deferred.reject;</span><br><span class=\"line\">            cb(value);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ret = cb(value);</span><br><span class=\"line\">        deferred.resolve(ret);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">newValue</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (newValue &amp;&amp; (<span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;object&#x27;</span> || <span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;function&#x27;</span>)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> then = newValue.then;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> then === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">                then.call(newValue, resolve, reject);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        state = <span class=\"string\">&#x27;fulfilled&#x27;</span>;</span><br><span class=\"line\">        value = newValue;</span><br><span class=\"line\">        finale();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reject</span>(<span class=\"params\">reason</span>) </span>&#123;</span><br><span class=\"line\">        state = <span class=\"string\">&#x27;rejected&#x27;</span>;</span><br><span class=\"line\">        value = reason;</span><br><span class=\"line\">        finale();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">finale</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">                handle(deferred);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    fn(resolve, reject);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> <code>reject</code>  <code>resolve</code>  <code>reject</code>  <code>finale</code> </p>\n<p><strong></strong> <code>handle</code>  bridge promise  rejected  Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 6</span></span><br><span class=\"line\"></span><br><span class=\"line\">getUserId()</span><br><span class=\"line\">    .then(getUserMobileById)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">mobile</span>) </span>&#123;</span><br><span class=\"line\">\t    <span class=\"comment\">// do sth else with mobile</span></span><br><span class=\"line\">    &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// getUserIdgetUerMobileById</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(error);</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/joqamiko/3/edit?js,console\">JS Bin</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>try-catch</code>  bridge promise  rejected <code>handle</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handle</span>(<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">        deferreds.push(deferred);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">var</span> cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.onFulfilled : deferred.onRejected,</span><br><span class=\"line\">        ret;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cb === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.resolve : deferred.reject;</span><br><span class=\"line\">        cb(value);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        ret = cb(value);</span><br><span class=\"line\">        deferred.resolve(ret);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        deferred.reject(e);</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> <code>resolve</code>  <code>reject</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Promise  Monad API / Forbes Lindesay <a href=\"https://github.com/then/promise/blob/master/core.js\"> Promise </a> Promise </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Promise  Promise Promise </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://www.promisejs.org/\">Introduction to Promises</a></li>\n<li><a href=\"http://mattgreer.org/articles/promises-in-wicked-detail/\">JavaScript Promises  In Wicked Detail</a></li>\n<li><a href=\"http://sean.voisen.org/blog/2013/10/intro-monads-maybe/\">A Gentle Introduction to Monads in JavaScript</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p> Evented I/O  NodeJS PromiseAsync  Promise  Promise  Promise <a href=\"https://www.promisejs.org/\">promisejs.org</a> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Promise  <a href=\"http://promisesaplus.com/\">Promises/A+</a></p>\n<p>Promise /Promise / Promise  ES6  ChromeFirefox </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Promise  API feature </p>\n<p></p>\n<ul>\n<li>Promise Promises/A+ </li>\n<li>promise Promise </li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>id Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserId</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// </span></span><br><span class=\"line\">\t\tY.io(<span class=\"string\">&#x27;/userid&#x27;</span>, &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">on</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id, res</span>) </span>&#123;</span><br><span class=\"line\">\t\t\t\t\tresolve(<span class=\"built_in\">JSON</span>.parse(res).id);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/kebigicu/1/embed?js,console\">JS Bin</a></p>","more":"<p><code>getUserId</code>  promise <code>then</code>  promise  API</p>\n<p> Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Promise</span>(<span class=\"params\">fn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> value = <span class=\"literal\">null</span>,</span><br><span class=\"line\">    \tdeferreds = [];</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">        deferreds.push(onFulfilled);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    \tdeferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    \t\tdeferred(value);</span><br><span class=\"line\">    \t&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    fn(resolve);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<ul>\n<li><code>then</code> Promise  <code>deferreds</code> </li>\n<li> Promise  <code>resolve</code> <code>deferreds</code> </li>\n<li><code>resolve</code> </li>\n</ul>\n<p> jQuery </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">    deferreds.push(onFulfilled);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth else with id</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/fedukaso/2/edit?js,console\">JS Bin</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> promise <code>resolve</code>  <code>then</code>  <code>deferreds</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserId</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">\t\tresolve(<span class=\"number\">9876</span>);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/fenopelo/3/edit?js,console\">JS Bin</a></p>\n<p>Promises/A+  <code>setTimeout</code>  <code>resolve</code>  JS </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    \t    deferred(value);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Hmm Promise  <code>then</code> </p>\n<p> States Promise pendingfulfilledrejected</p>\n<center>\n<img title=\"states flow\" src=\"/images/promise-states-flow.png\" />\n</center>\n\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Promise</span>(<span class=\"params\">fn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> state = <span class=\"string\">&#x27;pending&#x27;</span>,</span><br><span class=\"line\">    \tvalue = <span class=\"literal\">null</span>,</span><br><span class=\"line\">    \tdeferreds = [];</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">    \t<span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">        \tdeferreds.push(onFulfilled);</span><br><span class=\"line\">        \t<span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        onFulfilled(value);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">newValue</span>) </span>&#123;</span><br><span class=\"line\">        value = newValue;</span><br><span class=\"line\">    \tstate = <span class=\"string\">&#x27;fulfilled&#x27;</span>;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">                deferred(value);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    fn(resolve);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/lamewijo/2/edit?js,console\">JS Bin</a></p>\n<p><code>resolve</code>  fulfilled <code>then</code> </p>\n<p> state  rejected</p>\n<h3 id=\"-Promise\"><a href=\"#-Promise\" class=\"headerlink\" title=\" Promise\"></a> Promise</h3><p> Promise  Killer Feature<strong> Promise</strong></p>\n<p> Promise  promise  fulfilled  promise promise id  id </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 4</span></span><br><span class=\"line\"></span><br><span class=\"line\">getUserId()</span><br><span class=\"line\">    .then(getUserMobileById)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">mobile</span>) </span>&#123;</span><br><span class=\"line\">\t    <span class=\"comment\">// do sth with mobile</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserMobileById</span>(<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">\t    Y.io(<span class=\"string\">&#x27;/usermobile/&#x27;</span> + id, &#123;</span><br><span class=\"line\">\t        <span class=\"attr\">on</span>: &#123;</span><br><span class=\"line\">\t            <span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">i, o</span>) </span>&#123;</span><br><span class=\"line\">\t                resolve(<span class=\"built_in\">JSON</span>.parse(o).mobile);</span><br><span class=\"line\">\t            &#125;</span><br><span class=\"line\">\t        &#125;</span><br><span class=\"line\">   \t    &#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/pibicefe/2/edit?js,console\">JS Bin</a></p>\n<p> feature  promise  promise</p>\n<p> <code>then</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span><br><span class=\"line\">        handle(&#123;</span><br><span class=\"line\">            <span class=\"attr\">onFulfilled</span>: onFulfilled || <span class=\"literal\">null</span>,</span><br><span class=\"line\">            <span class=\"attr\">resolve</span>: resolve</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handle</span>(<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">        deferreds.push(deferred);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">var</span> ret = deferred.onFulfilled(value);</span><br><span class=\"line\">    deferred.resolve(ret);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>then</code> </p>\n<ul>\n<li><code>then</code>  Promise  promise bridge promise Promise </li>\n<li><code>handle</code>  promise <code>then</code>  <code>onFullfilled</code> Promise  <code>resolve</code>  promise  <code>deferreds</code>  promise  promise </li>\n</ul>\n<p> <code>handle</code>  <code>then</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deferred.resolve(ret);</span><br></pre></td></tr></table></figure>\n\n<p> promise  <code>handle</code>  <code>onFulfilled</code>  <code>resolve</code>  promise <strong></strong></p>\n<p> 2  Promise </p>\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-simple-flow.png\" />\n</center>\n\n<p> Promise <code>resolve</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">newValue</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (newValue &amp;&amp; (<span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;object&#x27;</span> || <span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;function&#x27;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> then = newValue.then;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> then === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">            then.call(newValue, resolve);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    state = <span class=\"string\">&#x27;fulfilled&#x27;</span>;</span><br><span class=\"line\">    value = newValue;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">            handle(deferred);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>resolve</code>  Promise  4 </p>\n<ol>\n<li><code>getUserId</code>  promise  <code>getUserId</code> promise <code>resolve</code> <code>userid</code></li>\n<li> <code>handle</code>  <code>deferreds</code> <code>getUserMobileById</code>  promise <code>getUserMobileById</code> promise</li>\n<li> <code>getUserId</code> promise  <code>then</code>  bridge promise  <code>resolve</code>  <code>getUserMobileById</code> promise <code>resolve</code>  <code>getUserMobileById</code> promise  <code>then</code> </li>\n<li> <code>getUserMobileById</code> promise  <code>deferreds</code> <code>getUserId</code> bridge promise  <code>resolve</code> </li>\n<li> <code>getUserId</code> bridge promise  promise  <code>deferreds</code> </li>\n</ol>\n<p> bridge promise  promise </p>\n<p> 4  Promise </p>\n<center>\n<img title=\"promise series flow\" src=\"/images/promise-series-flow.png\" />\n</center>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> rejected  rejected</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 5</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserId</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// </span></span><br><span class=\"line\">\t\tY.io(<span class=\"string\">&#x27;/userid/1&#x27;</span>, &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">on</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id, res</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> o = <span class=\"built_in\">JSON</span>.parse(res);</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (o.status === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                        resolve(o.id);</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        <span class=\"comment\">// </span></span><br><span class=\"line\">                        reject(o.errorMsg);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">getUserId().then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// do sth with id</span></span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(error);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/padolebi/2/edit?js,console\">JS Bin</a></p>\n<p> fulfilled  code base</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Promise</span>(<span class=\"params\">fn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> state = <span class=\"string\">&#x27;pending&#x27;</span>,</span><br><span class=\"line\">    \tvalue = <span class=\"literal\">null</span>,</span><br><span class=\"line\">        deferreds = [];</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"built_in\">this</span>.then = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">onFulfilled, onRejected</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">            handle(&#123;</span><br><span class=\"line\">                <span class=\"attr\">onFulfilled</span>: onFulfilled || <span class=\"literal\">null</span>,</span><br><span class=\"line\">                <span class=\"attr\">onRejected</span>: onRejected || <span class=\"literal\">null</span>,</span><br><span class=\"line\">                <span class=\"attr\">resolve</span>: resolve,</span><br><span class=\"line\">                <span class=\"attr\">reject</span>: reject</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handle</span>(<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">            deferreds.push(deferred);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">var</span> cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.onFulfilled : deferred.onRejected,</span><br><span class=\"line\">            ret;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cb === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.resolve : deferred.reject;</span><br><span class=\"line\">            cb(value);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ret = cb(value);</span><br><span class=\"line\">        deferred.resolve(ret);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">resolve</span>(<span class=\"params\">newValue</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (newValue &amp;&amp; (<span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;object&#x27;</span> || <span class=\"keyword\">typeof</span> newValue === <span class=\"string\">&#x27;function&#x27;</span>)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> then = newValue.then;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> then === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">                then.call(newValue, resolve, reject);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        state = <span class=\"string\">&#x27;fulfilled&#x27;</span>;</span><br><span class=\"line\">        value = newValue;</span><br><span class=\"line\">        finale();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">reject</span>(<span class=\"params\">reason</span>) </span>&#123;</span><br><span class=\"line\">        state = <span class=\"string\">&#x27;rejected&#x27;</span>;</span><br><span class=\"line\">        value = reason;</span><br><span class=\"line\">        finale();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">finale</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            deferreds.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">                handle(deferred);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    fn(resolve, reject);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> <code>reject</code>  <code>resolve</code>  <code>reject</code>  <code>finale</code> </p>\n<p><strong></strong> <code>handle</code>  bridge promise  rejected  Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 6</span></span><br><span class=\"line\"></span><br><span class=\"line\">getUserId()</span><br><span class=\"line\">    .then(getUserMobileById)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">mobile</span>) </span>&#123;</span><br><span class=\"line\">\t    <span class=\"comment\">// do sth else with mobile</span></span><br><span class=\"line\">    &#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">error</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// getUserIdgetUerMobileById</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(error);</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://jsbin.com/joqamiko/3/edit?js,console\">JS Bin</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>try-catch</code>  bridge promise  rejected <code>handle</code> </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handle</span>(<span class=\"params\">deferred</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (state === <span class=\"string\">&#x27;pending&#x27;</span>) &#123;</span><br><span class=\"line\">        deferreds.push(deferred);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">var</span> cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.onFulfilled : deferred.onRejected,</span><br><span class=\"line\">        ret;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cb === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        cb = state === <span class=\"string\">&#x27;fulfilled&#x27;</span> ? deferred.resolve : deferred.reject;</span><br><span class=\"line\">        cb(value);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        ret = cb(value);</span><br><span class=\"line\">        deferred.resolve(ret);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        deferred.reject(e);</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> <code>resolve</code>  <code>reject</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Promise  Monad API / Forbes Lindesay <a href=\"https://github.com/then/promise/blob/master/core.js\"> Promise </a> Promise </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Promise  Promise Promise </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://www.promisejs.org/\">Introduction to Promises</a></li>\n<li><a href=\"http://mattgreer.org/articles/promises-in-wicked-detail/\">JavaScript Promises  In Wicked Detail</a></li>\n<li><a href=\"http://sean.voisen.org/blog/2013/10/intro-monads-maybe/\">A Gentle Introduction to Monads in JavaScript</a></li>\n</ul>"},{"layout":"post","title":"React Hooks ","date":"2021-08-31T13:54:00.000Z","status":"publish","_content":"\n [React Hooks ](https://zhuanlan.zhihu.com/p/372790745) \n","source":"_posts/react-hooks.md","raw":"---\nlayout: post\ntitle: \"React Hooks \"\ndate: 2021-08-31 21:54\nstatus: publish\ntags: [React, Hooks, Web]\n---\n\n [React Hooks ](https://zhuanlan.zhihu.com/p/372790745) \n","slug":"react-hooks","published":1,"updated":"2021-10-05T13:05:42.377Z","comments":1,"photos":[],"link":"","_id":"cl1klgupr00158e85hfgo91we","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/372790745\">React Hooks </a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/372790745\">React Hooks </a> </p>\n"},{"layout":"post","title":"Javascript","date":"2011-11-06T12:30:00.000Z","status":"publish","_content":"\n> If an error is possible, someone will make it. The designer must assume that all possible errors will occur and design so as to minimize the chance of the error in the first place, or its effects once it gets made. Errors should be easy to detect, they should have minimal consequences, and, if possible, their effects should be reversible.\n> *--Donald Norman, author, The Design of Everyday Things*\n\n****\n\nPHPerror logbug\n\nJavascript\n\n## Javascript\n\n### \n\n<center>\n  <img alt=\"error flow\" src=\"/images/error-flow.png\" />\n</center>\n\n`try-catch``window.onerror`\n\n<!-- more -->\n\n#### try-catch\n\n`try-catch`ECMAScript`throw`\n\n`try-catch`catchex`ex.message`IEFireFoxChrome\n\n```js\ntry {\n    M.unexistMethod();\n} catch(ex) {\n    alert(ex.message);\n    // IE: \"Object does't support this property or method\"\n    // FF: \"M.unexistMethod is not a function\"\n    // Chrome: \"Object # has no method 'unexistMethod'\"\n}\n```\n\n`try-catch``catch``throw`\n\n#### window.onerror\n\n`window.onerror`DOM`window.onerror`IEFireFoxHTML5ChromeSafariOpera12 alpha`window.onerror`js\n\njs\n\n```js\nwindow.onerror = function(msg, url, line) {\n    alert(msg + ':' + line);\n    // IE:\"Object does't support this property or method:7\"\n    // FF:\"Script error.:0\"\n    // Chrome:\"Script error.:0\"\n};\nM.unexistMethod();\n```\n\nFireFoxChromeScript error.js`window.onerror`\n\n`window.onerror`FireFoxjs\n\n### \n\n`try-catch``window.onerror`\n\n- `try-catch``try-catch``try-catch`\n- `window.onerror``window.onerror``window.onerror`\n- beacon\n\n\n\n```js\n// base.js\nvar M  {\n    toQueryString: function(o) {\n        var res = [], p, encode = encodeURIComponent;\n        for (p in o) {\n             if (o.hasOwnProperty(p)) res.push(encode(p) + '=' + encode(o[p]));\n        }\n        return res.join('&');\n    },\n    beacon: function(msg) {\n        var img = new Image();\n        img.src = 'http://xxx.com/_.gif?' + msg;\n    },\n    log: function(info) {\n        M.beacon(M.toQueryString(info));\n    },\n    runMethod: function(method) {\n        try {\n            method();\n        } catch(ex) {\n            M.log({ msg: ex.message, type: 'try-catch' });\n        }\n    }\n};\nwindow.onerror = function(msg, url, line) {\n    M.log({ msg: msg, url: url, line: line, type: 'onerror' });\n    return true;\n};\n\n// app.js\nM.app = {\n    editAddress = function() {\n        var elForm = document.getElementById('address-form');\n        elForm.onsubmit = function() {\n            if (elForm.address.value === '') return false;\n        };\n        elForm.address.focus();\n    }\n};\n```\n\n```html\n<form action=\"address\" method=\"post\" id=\"address-form\">\n    <!-- the name is misspelled, so it may cause an error -->\n    <input type=\"text\" name=\"adress\" />\n    <input type=\"submit\" value=\"Submit\" />\n</form>\n<script type=\"text/javascript\" src=\"base.js\"></script>\n<script type=\"text/javascript\" src=\"app.js\"></script>\n<script>\nM.runMethod(function() {\n    M.app.editAddress();\n});\n</script>\n```\n\n[Github](https://github.com/springuper/log-error)\n\n## \n\njavascript\n\n- Script error.\n- Object doesn't support this property or method.\n\n\n\n\n\n\n\n## \n\n- [HTML5-window.onerror](http://www.w3.org/TR/2010/WD-html5-20100624/webappapis.html#handler-window-onerror)\n- [MSDN-window.onerror](http://msdn.microsoft.com/en-us/library/cc197053%28VS.85%29.aspx)\n- [MDN-window.onerror](https://developer.mozilla.org/en/DOM/window.onerror)\n- [Enterprise JavaScript Error Handling](http://www.slideshare.net/nzakas/enterprise-javascript-error-handling-presentation)\n- [Cryptic Script Error. reported in Javascript in Chrome and Firefox](http://stackoverflow.com/questions/5913978/cryptic-script-error-reported-in-javascript-in-chrome-and-firefox)\n","source":"_posts/js-error-catch.md","raw":"---\nlayout: post\ntitle: \"Javascript\"\ndate: 2011-11-06 20:30\nstatus: publish\ntags: [try-cacth, onerror]\n---\n\n> If an error is possible, someone will make it. The designer must assume that all possible errors will occur and design so as to minimize the chance of the error in the first place, or its effects once it gets made. Errors should be easy to detect, they should have minimal consequences, and, if possible, their effects should be reversible.\n> *--Donald Norman, author, The Design of Everyday Things*\n\n****\n\nPHPerror logbug\n\nJavascript\n\n## Javascript\n\n### \n\n<center>\n  <img alt=\"error flow\" src=\"/images/error-flow.png\" />\n</center>\n\n`try-catch``window.onerror`\n\n<!-- more -->\n\n#### try-catch\n\n`try-catch`ECMAScript`throw`\n\n`try-catch`catchex`ex.message`IEFireFoxChrome\n\n```js\ntry {\n    M.unexistMethod();\n} catch(ex) {\n    alert(ex.message);\n    // IE: \"Object does't support this property or method\"\n    // FF: \"M.unexistMethod is not a function\"\n    // Chrome: \"Object # has no method 'unexistMethod'\"\n}\n```\n\n`try-catch``catch``throw`\n\n#### window.onerror\n\n`window.onerror`DOM`window.onerror`IEFireFoxHTML5ChromeSafariOpera12 alpha`window.onerror`js\n\njs\n\n```js\nwindow.onerror = function(msg, url, line) {\n    alert(msg + ':' + line);\n    // IE:\"Object does't support this property or method:7\"\n    // FF:\"Script error.:0\"\n    // Chrome:\"Script error.:0\"\n};\nM.unexistMethod();\n```\n\nFireFoxChromeScript error.js`window.onerror`\n\n`window.onerror`FireFoxjs\n\n### \n\n`try-catch``window.onerror`\n\n- `try-catch``try-catch``try-catch`\n- `window.onerror``window.onerror``window.onerror`\n- beacon\n\n\n\n```js\n// base.js\nvar M  {\n    toQueryString: function(o) {\n        var res = [], p, encode = encodeURIComponent;\n        for (p in o) {\n             if (o.hasOwnProperty(p)) res.push(encode(p) + '=' + encode(o[p]));\n        }\n        return res.join('&');\n    },\n    beacon: function(msg) {\n        var img = new Image();\n        img.src = 'http://xxx.com/_.gif?' + msg;\n    },\n    log: function(info) {\n        M.beacon(M.toQueryString(info));\n    },\n    runMethod: function(method) {\n        try {\n            method();\n        } catch(ex) {\n            M.log({ msg: ex.message, type: 'try-catch' });\n        }\n    }\n};\nwindow.onerror = function(msg, url, line) {\n    M.log({ msg: msg, url: url, line: line, type: 'onerror' });\n    return true;\n};\n\n// app.js\nM.app = {\n    editAddress = function() {\n        var elForm = document.getElementById('address-form');\n        elForm.onsubmit = function() {\n            if (elForm.address.value === '') return false;\n        };\n        elForm.address.focus();\n    }\n};\n```\n\n```html\n<form action=\"address\" method=\"post\" id=\"address-form\">\n    <!-- the name is misspelled, so it may cause an error -->\n    <input type=\"text\" name=\"adress\" />\n    <input type=\"submit\" value=\"Submit\" />\n</form>\n<script type=\"text/javascript\" src=\"base.js\"></script>\n<script type=\"text/javascript\" src=\"app.js\"></script>\n<script>\nM.runMethod(function() {\n    M.app.editAddress();\n});\n</script>\n```\n\n[Github](https://github.com/springuper/log-error)\n\n## \n\njavascript\n\n- Script error.\n- Object doesn't support this property or method.\n\n\n\n\n\n\n\n## \n\n- [HTML5-window.onerror](http://www.w3.org/TR/2010/WD-html5-20100624/webappapis.html#handler-window-onerror)\n- [MSDN-window.onerror](http://msdn.microsoft.com/en-us/library/cc197053%28VS.85%29.aspx)\n- [MDN-window.onerror](https://developer.mozilla.org/en/DOM/window.onerror)\n- [Enterprise JavaScript Error Handling](http://www.slideshare.net/nzakas/enterprise-javascript-error-handling-presentation)\n- [Cryptic Script Error. reported in Javascript in Chrome and Firefox](http://stackoverflow.com/questions/5913978/cryptic-script-error-reported-in-javascript-in-chrome-and-firefox)\n","slug":"js-error-catch","published":1,"updated":"2021-10-05T09:33:34.983Z","comments":1,"photos":[],"link":"","_id":"cl1klgupr00168e85a8sz2i4n","content":"<blockquote>\n<p>If an error is possible, someone will make it. The designer must assume that all possible errors will occur and design so as to minimize the chance of the error in the first place, or its effects once it gets made. Errors should be easy to detect, they should have minimal consequences, and, if possible, their effects should be reversible.\n<em>Donald Norman, author, The Design of Everyday Things</em></p>\n</blockquote>\n<p><strong></strong></p>\n<p>PHPerror logbug</p>\n<p>Javascript</p>\n<h2 id=\"Javascript\"><a href=\"#Javascript\" class=\"headerlink\" title=\"Javascript\"></a>Javascript</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><center>\n  <img alt=\"error flow\" src=\"/images/error-flow.png\" />\n</center>\n\n<p><code>try-catch</code><code>window.onerror</code></p>\n<span id=\"more\"></span>\n\n<h4 id=\"try-catch\"><a href=\"#try-catch\" class=\"headerlink\" title=\"try-catch\"></a>try-catch</h4><p><code>try-catch</code>ECMAScript<code>throw</code></p>\n<p><code>try-catch</code>catchex<code>ex.message</code>IEFireFoxChrome</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    M.unexistMethod();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span>(ex) &#123;</span><br><span class=\"line\">    alert(ex.message);</span><br><span class=\"line\">    <span class=\"comment\">// IE: &quot;Object does&#x27;t support this property or method&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// FF: &quot;M.unexistMethod is not a function&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// Chrome: &quot;Object # has no method &#x27;unexistMethod&#x27;&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>try-catch</code><code>catch</code><code>throw</code></p>\n<h4 id=\"window-onerror\"><a href=\"#window-onerror\" class=\"headerlink\" title=\"window.onerror\"></a>window.onerror</h4><p><code>window.onerror</code>DOM<code>window.onerror</code>IEFireFoxHTML5ChromeSafariOpera12 alpha<code>window.onerror</code>js</p>\n<p>js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.onerror = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg, url, line</span>) </span>&#123;</span><br><span class=\"line\">    alert(msg + <span class=\"string\">&#x27;:&#x27;</span> + line);</span><br><span class=\"line\">    <span class=\"comment\">// IE:&quot;Object does&#x27;t support this property or method:7&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// FF:&quot;Script error.:0&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// Chrome:&quot;Script error.:0&quot;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">M.unexistMethod();</span><br></pre></td></tr></table></figure>\n\n<p>FireFoxChromeScript error.js<code>window.onerror</code></p>\n<p><code>window.onerror</code>FireFoxjs</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>try-catch</code><code>window.onerror</code></p>\n<ul>\n<li><code>try-catch</code><code>try-catch</code><code>try-catch</code></li>\n<li><code>window.onerror</code><code>window.onerror</code><code>window.onerror</code></li>\n<li>beacon</li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// base.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> M  &#123;</span><br><span class=\"line\">    <span class=\"attr\">toQueryString</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">o</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> res = [], p, encode = <span class=\"built_in\">encodeURIComponent</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (p <span class=\"keyword\">in</span> o) &#123;</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (o.hasOwnProperty(p)) res.push(encode(p) + <span class=\"string\">&#x27;=&#x27;</span> + encode(o[p]));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.join(<span class=\"string\">&#x27;&amp;&#x27;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">beacon</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">        img.src = <span class=\"string\">&#x27;http://xxx.com/_.gif?&#x27;</span> + msg;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">log</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">info</span>) </span>&#123;</span><br><span class=\"line\">        M.beacon(M.toQueryString(info));</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">runMethod</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">method</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            method();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span>(ex) &#123;</span><br><span class=\"line\">            M.log(&#123; <span class=\"attr\">msg</span>: ex.message, <span class=\"attr\">type</span>: <span class=\"string\">&#x27;try-catch&#x27;</span> &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">window</span>.onerror = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg, url, line</span>) </span>&#123;</span><br><span class=\"line\">    M.log(&#123; <span class=\"attr\">msg</span>: msg, <span class=\"attr\">url</span>: url, <span class=\"attr\">line</span>: line, <span class=\"attr\">type</span>: <span class=\"string\">&#x27;onerror&#x27;</span> &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\">M.app = &#123;</span><br><span class=\"line\">    editAddress = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> elForm = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;address-form&#x27;</span>);</span><br><span class=\"line\">        elForm.onsubmit = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (elForm.address.value === <span class=\"string\">&#x27;&#x27;</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        elForm.address.focus();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">&quot;address&quot;</span> <span class=\"attr\">method</span>=<span class=\"string\">&quot;post&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;address-form&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- the name is misspelled, so it may cause an error --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;adress&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;submit&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;Submit&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;base.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;app.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">M.runMethod(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    M.app.editAddress();</span></span><br><span class=\"line\"><span class=\"javascript\">&#125;);</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://github.com/springuper/log-error\">Github</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>javascript</p>\n<ul>\n<li>Script error.</li>\n<li>Object doesnt support this property or method.</li>\n</ul>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://www.w3.org/TR/2010/WD-html5-20100624/webappapis.html#handler-window-onerror\">HTML5-window.onerror</a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/cc197053%28VS.85%29.aspx\">MSDN-window.onerror</a></li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/window.onerror\">MDN-window.onerror</a></li>\n<li><a href=\"http://www.slideshare.net/nzakas/enterprise-javascript-error-handling-presentation\">Enterprise JavaScript Error Handling</a></li>\n<li><a href=\"http://stackoverflow.com/questions/5913978/cryptic-script-error-reported-in-javascript-in-chrome-and-firefox\">Cryptic Script Error. reported in Javascript in Chrome and Firefox</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>If an error is possible, someone will make it. The designer must assume that all possible errors will occur and design so as to minimize the chance of the error in the first place, or its effects once it gets made. Errors should be easy to detect, they should have minimal consequences, and, if possible, their effects should be reversible.\n<em>Donald Norman, author, The Design of Everyday Things</em></p>\n</blockquote>\n<p><strong></strong></p>\n<p>PHPerror logbug</p>\n<p>Javascript</p>\n<h2 id=\"Javascript\"><a href=\"#Javascript\" class=\"headerlink\" title=\"Javascript\"></a>Javascript</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><center>\n  <img alt=\"error flow\" src=\"/images/error-flow.png\" />\n</center>\n\n<p><code>try-catch</code><code>window.onerror</code></p>","more":"<h4 id=\"try-catch\"><a href=\"#try-catch\" class=\"headerlink\" title=\"try-catch\"></a>try-catch</h4><p><code>try-catch</code>ECMAScript<code>throw</code></p>\n<p><code>try-catch</code>catchex<code>ex.message</code>IEFireFoxChrome</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    M.unexistMethod();</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span>(ex) &#123;</span><br><span class=\"line\">    alert(ex.message);</span><br><span class=\"line\">    <span class=\"comment\">// IE: &quot;Object does&#x27;t support this property or method&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// FF: &quot;M.unexistMethod is not a function&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// Chrome: &quot;Object # has no method &#x27;unexistMethod&#x27;&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>try-catch</code><code>catch</code><code>throw</code></p>\n<h4 id=\"window-onerror\"><a href=\"#window-onerror\" class=\"headerlink\" title=\"window.onerror\"></a>window.onerror</h4><p><code>window.onerror</code>DOM<code>window.onerror</code>IEFireFoxHTML5ChromeSafariOpera12 alpha<code>window.onerror</code>js</p>\n<p>js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">window</span>.onerror = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg, url, line</span>) </span>&#123;</span><br><span class=\"line\">    alert(msg + <span class=\"string\">&#x27;:&#x27;</span> + line);</span><br><span class=\"line\">    <span class=\"comment\">// IE:&quot;Object does&#x27;t support this property or method:7&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// FF:&quot;Script error.:0&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// Chrome:&quot;Script error.:0&quot;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">M.unexistMethod();</span><br></pre></td></tr></table></figure>\n\n<p>FireFoxChromeScript error.js<code>window.onerror</code></p>\n<p><code>window.onerror</code>FireFoxjs</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>try-catch</code><code>window.onerror</code></p>\n<ul>\n<li><code>try-catch</code><code>try-catch</code><code>try-catch</code></li>\n<li><code>window.onerror</code><code>window.onerror</code><code>window.onerror</code></li>\n<li>beacon</li>\n</ul>\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// base.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> M  &#123;</span><br><span class=\"line\">    <span class=\"attr\">toQueryString</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">o</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> res = [], p, encode = <span class=\"built_in\">encodeURIComponent</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (p <span class=\"keyword\">in</span> o) &#123;</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (o.hasOwnProperty(p)) res.push(encode(p) + <span class=\"string\">&#x27;=&#x27;</span> + encode(o[p]));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res.join(<span class=\"string\">&#x27;&amp;&#x27;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">beacon</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">        img.src = <span class=\"string\">&#x27;http://xxx.com/_.gif?&#x27;</span> + msg;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">log</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">info</span>) </span>&#123;</span><br><span class=\"line\">        M.beacon(M.toQueryString(info));</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">runMethod</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">method</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            method();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span>(ex) &#123;</span><br><span class=\"line\">            M.log(&#123; <span class=\"attr\">msg</span>: ex.message, <span class=\"attr\">type</span>: <span class=\"string\">&#x27;try-catch&#x27;</span> &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"built_in\">window</span>.onerror = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">msg, url, line</span>) </span>&#123;</span><br><span class=\"line\">    M.log(&#123; <span class=\"attr\">msg</span>: msg, <span class=\"attr\">url</span>: url, <span class=\"attr\">line</span>: line, <span class=\"attr\">type</span>: <span class=\"string\">&#x27;onerror&#x27;</span> &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\">M.app = &#123;</span><br><span class=\"line\">    editAddress = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> elForm = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;address-form&#x27;</span>);</span><br><span class=\"line\">        elForm.onsubmit = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (elForm.address.value === <span class=\"string\">&#x27;&#x27;</span>) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        elForm.address.focus();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">&quot;address&quot;</span> <span class=\"attr\">method</span>=<span class=\"string\">&quot;post&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;address-form&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- the name is misspelled, so it may cause an error --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;adress&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;submit&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;Submit&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;base.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;app.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">M.runMethod(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    M.app.editAddress();</span></span><br><span class=\"line\"><span class=\"javascript\">&#125;);</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://github.com/springuper/log-error\">Github</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>javascript</p>\n<ul>\n<li>Script error.</li>\n<li>Object doesnt support this property or method.</li>\n</ul>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"http://www.w3.org/TR/2010/WD-html5-20100624/webappapis.html#handler-window-onerror\">HTML5-window.onerror</a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/cc197053%28VS.85%29.aspx\">MSDN-window.onerror</a></li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/window.onerror\">MDN-window.onerror</a></li>\n<li><a href=\"http://www.slideshare.net/nzakas/enterprise-javascript-error-handling-presentation\">Enterprise JavaScript Error Handling</a></li>\n<li><a href=\"http://stackoverflow.com/questions/5913978/cryptic-script-error-reported-in-javascript-in-chrome-and-firefox\">Cryptic Script Error. reported in Javascript in Chrome and Firefox</a></li>\n</ul>"},{"layout":"post","title":"","date":"2021-11-23T13:56:00.000Z","status":"publish","_content":"\n\n\n\n\n\n## \n\n 20  Paul Graham \n\n\n\n\n\n- \n- \n- \n- \n\n<!--more-->\n\n\n## \n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n\n\n- \n- \n- \n- \n- \n\n## \n\n\n\n\nCEO  CTO\n\n## \n\n\n","source":"_posts/recruitment-driven-organization.md","raw":"---\nlayout: post\ntitle: \ndate: 2021-11-23 21:56\nstatus: publish\ntags:\n  - Recruitment\n  - Organization\n---\n\n\n\n\n\n\n## \n\n 20  Paul Graham \n\n\n\n\n\n- \n- \n- \n- \n\n<!--more-->\n\n\n## \n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n\n\n- \n- \n- \n- \n- \n\n## \n\n\n\n\nCEO  CTO\n\n## \n\n\n","slug":"recruitment-driven-organization","published":1,"updated":"2021-11-25T07:35:44.261Z","comments":1,"photos":[],"link":"","_id":"cl1klgupt00198e8578wd71h8","content":"<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> 20  Paul Graham </p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<span id=\"more\"></span>\n\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>\nCEO  CTO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n","site":{"data":{}},"excerpt":"<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> 20  Paul Graham </p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>\nCEO  CTO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>"},{"layout":"post","title":"","date":"2021-08-12T14:09:00.000Z","status":"publish","_content":"\n [](https://zhuanlan.zhihu.com/p/397630221) \n","source":"_posts/the-awakeing-age.md","raw":"---\nlayout: post\ntitle: \"\"\ndate: 2021-08-12 22:09\nstatus: publish\ntags: [Series, Review]\n---\n\n [](https://zhuanlan.zhihu.com/p/397630221) \n","slug":"the-awakeing-age","published":1,"updated":"2021-10-05T13:08:42.280Z","comments":1,"photos":[],"link":"","_id":"cl1klgupt001b8e85huarb063","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/397630221\"></a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/397630221\"></a> </p>\n"},{"layout":"post","title":" TypeScript ","date":"2019-06-22T05:53:00.000Z","status":"publish","_content":"\n [ TypeScript ](https://zhuanlan.zhihu.com/p/64446259) \n","source":"_posts/typescript-101.md","raw":"---\nlayout: post\ntitle: \" TypeScript \"\ndate: 2019-06-22 13:53\nstatus: publish\ntags: [TypeScript, Type System]\n---\n\n [ TypeScript ](https://zhuanlan.zhihu.com/p/64446259) \n","slug":"typescript-101","published":1,"updated":"2021-10-05T13:12:02.099Z","comments":1,"photos":[],"link":"","_id":"cl1klgupu001e8e85dwqoh1hu","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/64446259\"> TypeScript </a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/64446259\"> TypeScript </a> </p>\n"},{"layout":"post","title":"TypeScript ","date":"2021-05-15T05:33:00.000Z","status":"publish","_content":"\n [TypeScript ](https://zhuanlan.zhihu.com/p/370000610) \n","source":"_posts/typescript-advanced.md","raw":"---\nlayout: post\ntitle: \"TypeScript \"\ndate: 2021-05-15 13:33\nstatus: publish\ntags: [TypeScript, Type System]\n---\n\n [TypeScript ](https://zhuanlan.zhihu.com/p/370000610) \n","slug":"typescript-advanced","published":1,"updated":"2021-10-05T13:10:25.932Z","comments":1,"photos":[],"link":"","_id":"cl1klgupu001g8e85ct009jv8","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/370000610\">TypeScript </a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/370000610\">TypeScript </a> </p>\n"},{"layout":"post","title":"w3cTech 21","date":"2011-08-04T12:05:00.000Z","status":"publish","_content":"\n![w3ctech in meituan](/images/w3ctech-meituan.jpg)\n\nw3cTech\n\n\n\nYUI3[YUI3](/yui3-in-meituan.html)\n","source":"_posts/w3ctech-meituan.md","raw":"---\nlayout: post\ntitle: \"w3cTech 21\"\ndate: 2011-08-04 20:05\nstatus: publish\ntags: [W3CTech, Meituan, YUI]\n---\n\n![w3ctech in meituan](/images/w3ctech-meituan.jpg)\n\nw3cTech\n\n\n\nYUI3[YUI3](/yui3-in-meituan.html)\n","slug":"w3ctech-meituan","published":1,"updated":"2021-10-05T09:33:59.162Z","comments":1,"photos":[],"link":"","_id":"cl1klgupu001i8e85brse155x","content":"<p><img src=\"/images/w3ctech-meituan.jpg\" alt=\"w3ctech in meituan\"></p>\n<p>w3cTech</p>\n<p></p>\n<p>YUI3<a href=\"/yui3-in-meituan.html\">YUI3</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/images/w3ctech-meituan.jpg\" alt=\"w3ctech in meituan\"></p>\n<p>w3cTech</p>\n<p></p>\n<p>YUI3<a href=\"/yui3-in-meituan.html\">YUI3</a></p>\n"},{"layout":"post","title":"[]Javascriptthis","date":"2011-06-21T13:52:00.000Z","status":"publish","_content":"\n<div class=\"preface\">\n    <p>javascriptthisthisthisEE</p>\n    <p><a href=\"http://javascriptweblog.wordpress.com/2010/08/30/understanding-javascripts-this/\" target=\"_blank\">Understanding JavaScripts this keyword</a></p>\n</div>\n\n`this`Javascript\n\n## \n\n\\(execution context\\)ThisBinding\n\n### 1. \n\n`this``window`\n\n```js\nalert(this);  // window\n```\n\n<!-- more -->\n\n### 2. \n\n5`this`\n\n#### a) \n\n`this`\\([baseValue](http://javascriptweblog.wordpress.com/2010/08/09/variables-vs-properties-in-javascript/)\\)\n\n```js\nvar a = {\n    b: function() {\n        return this;\n    }\n};\n\na.b();  // a\na['b']();  // a\n\nvar c = {};\nc.d = a.b;\nc.d();  // c\n```\n\n#### b) \n\n`this`\n\n```js\nvar a = {\n    b: function() {\n        return this;\n    }\n};\n\nvar foo = a.b;\nfoo();  // window\n\nvar a = {\n    b: function() {\n        var c = function() {\n            return this;\n        };\n        return c();\n    }\n};\n\na.b();  // window\n```\n\n\\(self-invoking functions\\)\n\n```js\nvar a = {\n    b: function() {\n        return (function() { return this; })();\n    }\n};\n\na.b();  // window\n```\n\n#### c) Function.prototype.call\n\n`this``call`\n\n#### d) Function.prototype.apply\n\n`this``apply`\n\n```js\nvar a = {\n    b: function() {\n        return this;\n    }\n};\n\nvar d = {};\n\na.b.apply(d);  // d\n```\n\n#### e) new\n\n`this`\n\n```js\nvar A = function() {\n    this.toString = function() { return \"I'm an A\"; };\n};\n\nnew A();  // \"I'm an A\"\n```\n\n### 3. eval\n\n`this``eval``this`\n\n```js\nalert(eval('this == window'));  // true - (except firebug, see above)\nvar a = {\n    b: function() {\n        eval('alert(this == a)');\n    }\n};\n\na.b();  // true\n```\n\n## \n\nECMA 5 262`this`\n\nECMA`this`\n\n> thisThisBinding  *ECMA 5, 11.1.1*\n\n### ThisBinding\n\n\\[\\[Call\\]\\]\\(ECMA 5, 13.2.1 [[Call]]\\) invocation values\n\n> F(function code)thisValueargumentsList\n> \n> 1.  (function code)  (strict code)ThisBindingthisValue\n> 2. thisValuenullundefinedThisBinding\n> 3. thisValueObjectthisBindingToObject(thisValue)\n> 4. thisBindingthisValue\n> 5. \n> *ECMA 5, 10.4.3 Entering Function Code*\n\n`ThisBinding``thisValue``thisValue``undefined``null`\\(`ThisBinding``thisValue`\\)\n\n### thisValue\n\n\n\n#### 1. \n\n#### 2. \n\nECMAScriptFunction CallsMemberExpressionArguments list\n\n> 1. refMemberExpression\n> 2. funcGetValue(ref)\n> 6. Type(ref)\n>     a) IsPropertyReference(ref)truethisValueGetBase(ref)\n>     b) refEnvironment RecordthisValueGetBase(ref)ImplicitThisValue\n> 7. Type(ref)thisValueundefined\n> 8. thisthisValueargument valuesargListfunc[[Call]]\n> *ECMA 5, 11.2.3 Function Calls*\n\n`thisValue`baseValue\\(6baseValue`GetBase`\\)\n\nbaseValue\\(\\)\n\n```js\nvar foo = {\n    bar: function() {\n        // (Comments apply to example invocation only)\n        // MemberExpression = foo.bar\n        // thisValue = foo\n        // ThisBinding = foo\n        return this;\n    }\n};\n\nfoo.bar();  // foo\nfoo['bar']();  // foo\n```\n\n`baseValue`\\(VariableObjectEnvironment Record\\)Environment RecordECMA 10.2.1.1Environment RecordImplicitThisValue`undefined`\n\n```js\nvar bar = function() { ... };\nbar();  // thisValue is undefined\n```\n\n10.4.3 Entering Function Code`thisValue``undefined``ThisBinding``this`\n\n```js\nvar bar = function() {\n    // (Comments apply to example invocation only)\n    // MemberExpression = bar\n    // thisValue = undefined\n    // ThisBinding = global object (e.g. window)\n    return this;\n};\n\nbar();  // window\n```\n\n#### 3. Function.prototype.apply\n\n#### 4. Function.prototype.use\n\n\\(15.3.4.3 Function.prototype.apply15.3.4.4 Function.prototype.use\\)\n\n`call``apply``this`\\(\\)`thisValue`10.4.3 Entering Function Code\\(ECMA 3`thisArg``null``undefined``thisArg`\\(10.4.3 Entering Function Code\\)\\)\n\n#### 5. new\n\n> F[[Construct]]\n> 1. objECMAScript\n> 8. thisValueobjargs[[Construct]]F[[Call]]result\n> 10. obj\n> *ECMA 5, 13.2.2 [[Construct]]*\n\n`thisValue``this`\n\n## \n\n### \nECMAScript`thisValue``this``null``undefined`\n\n### bind\n`Function.prototype.bind`ECMAScript 5`call`/`apply``bind``thisValue``ThisBinding``onclick``baseValue`\n\n```js\n// Bad Example: fails because ThisBinding of handler will be button\nvar sorter = function() {\n    sort: function() {\n        alert('sorting');\n    },\n    requestSorting: function() {\n        this.sort();\n    }\n};\n\n$('sortButton').onclick = sorter.requestSorting;\n\n// Good Example: sorter baked into ThisBinding of handler\nvar sorter = function() {\n    sort: function() {\n        alert('sorting');\n    },\n    requestSorting: function() {\n        this.sort();\n    }\n};\n\n$('sortButton').onclick = sorter.requestSorting.bind(sorter);\n```\n\n## \n\n[ECMA 262 5th Edition \\(PDF\\)](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf)\n\n- 11.1.1 Definition of this\n- 10.4.3 Entering Function Code\n- 11.2.3 Function Calls\n- 13.2.1 [[Call]]\n- 10.2.1.1 Declarative Environment Record \\(ImplicitThisValue\\)\n- 13.2.2 [[Construct]]\n- 15.3.4.3 Function.prototype.apply\n- 15.3.4.4 Function.prototype.call\n- 15.3.4.5 Function.prototype.bind\n- Annex C The Strict Mode of ECMAScript\n","source":"_posts/understanding-this-keyword.md","raw":"---\nlayout: post\ntitle: \"[]Javascriptthis\"\ndate: 2011-06-21 21:52\nstatus: publish\ntags: [This]\n---\n\n<div class=\"preface\">\n    <p>javascriptthisthisthisEE</p>\n    <p><a href=\"http://javascriptweblog.wordpress.com/2010/08/30/understanding-javascripts-this/\" target=\"_blank\">Understanding JavaScripts this keyword</a></p>\n</div>\n\n`this`Javascript\n\n## \n\n\\(execution context\\)ThisBinding\n\n### 1. \n\n`this``window`\n\n```js\nalert(this);  // window\n```\n\n<!-- more -->\n\n### 2. \n\n5`this`\n\n#### a) \n\n`this`\\([baseValue](http://javascriptweblog.wordpress.com/2010/08/09/variables-vs-properties-in-javascript/)\\)\n\n```js\nvar a = {\n    b: function() {\n        return this;\n    }\n};\n\na.b();  // a\na['b']();  // a\n\nvar c = {};\nc.d = a.b;\nc.d();  // c\n```\n\n#### b) \n\n`this`\n\n```js\nvar a = {\n    b: function() {\n        return this;\n    }\n};\n\nvar foo = a.b;\nfoo();  // window\n\nvar a = {\n    b: function() {\n        var c = function() {\n            return this;\n        };\n        return c();\n    }\n};\n\na.b();  // window\n```\n\n\\(self-invoking functions\\)\n\n```js\nvar a = {\n    b: function() {\n        return (function() { return this; })();\n    }\n};\n\na.b();  // window\n```\n\n#### c) Function.prototype.call\n\n`this``call`\n\n#### d) Function.prototype.apply\n\n`this``apply`\n\n```js\nvar a = {\n    b: function() {\n        return this;\n    }\n};\n\nvar d = {};\n\na.b.apply(d);  // d\n```\n\n#### e) new\n\n`this`\n\n```js\nvar A = function() {\n    this.toString = function() { return \"I'm an A\"; };\n};\n\nnew A();  // \"I'm an A\"\n```\n\n### 3. eval\n\n`this``eval``this`\n\n```js\nalert(eval('this == window'));  // true - (except firebug, see above)\nvar a = {\n    b: function() {\n        eval('alert(this == a)');\n    }\n};\n\na.b();  // true\n```\n\n## \n\nECMA 5 262`this`\n\nECMA`this`\n\n> thisThisBinding  *ECMA 5, 11.1.1*\n\n### ThisBinding\n\n\\[\\[Call\\]\\]\\(ECMA 5, 13.2.1 [[Call]]\\) invocation values\n\n> F(function code)thisValueargumentsList\n> \n> 1.  (function code)  (strict code)ThisBindingthisValue\n> 2. thisValuenullundefinedThisBinding\n> 3. thisValueObjectthisBindingToObject(thisValue)\n> 4. thisBindingthisValue\n> 5. \n> *ECMA 5, 10.4.3 Entering Function Code*\n\n`ThisBinding``thisValue``thisValue``undefined``null`\\(`ThisBinding``thisValue`\\)\n\n### thisValue\n\n\n\n#### 1. \n\n#### 2. \n\nECMAScriptFunction CallsMemberExpressionArguments list\n\n> 1. refMemberExpression\n> 2. funcGetValue(ref)\n> 6. Type(ref)\n>     a) IsPropertyReference(ref)truethisValueGetBase(ref)\n>     b) refEnvironment RecordthisValueGetBase(ref)ImplicitThisValue\n> 7. Type(ref)thisValueundefined\n> 8. thisthisValueargument valuesargListfunc[[Call]]\n> *ECMA 5, 11.2.3 Function Calls*\n\n`thisValue`baseValue\\(6baseValue`GetBase`\\)\n\nbaseValue\\(\\)\n\n```js\nvar foo = {\n    bar: function() {\n        // (Comments apply to example invocation only)\n        // MemberExpression = foo.bar\n        // thisValue = foo\n        // ThisBinding = foo\n        return this;\n    }\n};\n\nfoo.bar();  // foo\nfoo['bar']();  // foo\n```\n\n`baseValue`\\(VariableObjectEnvironment Record\\)Environment RecordECMA 10.2.1.1Environment RecordImplicitThisValue`undefined`\n\n```js\nvar bar = function() { ... };\nbar();  // thisValue is undefined\n```\n\n10.4.3 Entering Function Code`thisValue``undefined``ThisBinding``this`\n\n```js\nvar bar = function() {\n    // (Comments apply to example invocation only)\n    // MemberExpression = bar\n    // thisValue = undefined\n    // ThisBinding = global object (e.g. window)\n    return this;\n};\n\nbar();  // window\n```\n\n#### 3. Function.prototype.apply\n\n#### 4. Function.prototype.use\n\n\\(15.3.4.3 Function.prototype.apply15.3.4.4 Function.prototype.use\\)\n\n`call``apply``this`\\(\\)`thisValue`10.4.3 Entering Function Code\\(ECMA 3`thisArg``null``undefined``thisArg`\\(10.4.3 Entering Function Code\\)\\)\n\n#### 5. new\n\n> F[[Construct]]\n> 1. objECMAScript\n> 8. thisValueobjargs[[Construct]]F[[Call]]result\n> 10. obj\n> *ECMA 5, 13.2.2 [[Construct]]*\n\n`thisValue``this`\n\n## \n\n### \nECMAScript`thisValue``this``null``undefined`\n\n### bind\n`Function.prototype.bind`ECMAScript 5`call`/`apply``bind``thisValue``ThisBinding``onclick``baseValue`\n\n```js\n// Bad Example: fails because ThisBinding of handler will be button\nvar sorter = function() {\n    sort: function() {\n        alert('sorting');\n    },\n    requestSorting: function() {\n        this.sort();\n    }\n};\n\n$('sortButton').onclick = sorter.requestSorting;\n\n// Good Example: sorter baked into ThisBinding of handler\nvar sorter = function() {\n    sort: function() {\n        alert('sorting');\n    },\n    requestSorting: function() {\n        this.sort();\n    }\n};\n\n$('sortButton').onclick = sorter.requestSorting.bind(sorter);\n```\n\n## \n\n[ECMA 262 5th Edition \\(PDF\\)](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf)\n\n- 11.1.1 Definition of this\n- 10.4.3 Entering Function Code\n- 11.2.3 Function Calls\n- 13.2.1 [[Call]]\n- 10.2.1.1 Declarative Environment Record \\(ImplicitThisValue\\)\n- 13.2.2 [[Construct]]\n- 15.3.4.3 Function.prototype.apply\n- 15.3.4.4 Function.prototype.call\n- 15.3.4.5 Function.prototype.bind\n- Annex C The Strict Mode of ECMAScript\n","slug":"understanding-this-keyword","published":1,"updated":"2021-10-04T12:57:16.037Z","comments":1,"photos":[],"link":"","_id":"cl1klgupv001j8e85c5nwc2ok","content":"<div class=\"preface\">\n    <p>javascriptthisthisthisEE</p>\n    <p><a href=\"http://javascriptweblog.wordpress.com/2010/08/30/understanding-javascripts-this/\" target=\"_blank\">Understanding JavaScripts this keyword</a></p>\n</div>\n\n<p><code>this</code>Javascript</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(execution context)ThisBinding</p>\n<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p><code>this</code><code>window</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert(<span class=\"built_in\">this</span>);  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p>5<code>this</code></p>\n<h4 id=\"a-\"><a href=\"#a-\" class=\"headerlink\" title=\"a) \"></a>a) </h4><p><code>this</code>(<a href=\"http://javascriptweblog.wordpress.com/2010/08/09/variables-vs-properties-in-javascript/\">baseValue</a>)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// a</span></span><br><span class=\"line\">a[<span class=\"string\">&#x27;b&#x27;</span>]();  <span class=\"comment\">// a</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> c = &#123;&#125;;</span><br><span class=\"line\">c.d = a.b;</span><br><span class=\"line\">c.d();  <span class=\"comment\">// c</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"b-\"><a href=\"#b-\" class=\"headerlink\" title=\"b) \"></a>b) </h4><p><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = a.b;</span><br><span class=\"line\">foo();  <span class=\"comment\">// window</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> c = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> c();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>\n\n<p>(self-invoking functions)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; &#125;)();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"c-Function-prototype-call\"><a href=\"#c-Function-prototype-call\" class=\"headerlink\" title=\"c) Function.prototype.call\"></a>c) Function.prototype.call</h4><p><code>this</code><code>call</code></p>\n<h4 id=\"d-Function-prototype-apply\"><a href=\"#d-Function-prototype-apply\" class=\"headerlink\" title=\"d) Function.prototype.apply\"></a>d) Function.prototype.apply</h4><p><code>this</code><code>apply</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> d = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b.apply(d);  <span class=\"comment\">// d</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"e-new\"><a href=\"#e-new\" class=\"headerlink\" title=\"e) new\"></a>e) new</h4><p><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> A = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"string\">&quot;I&#x27;m an A&quot;</span>; &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> A();  <span class=\"comment\">// &quot;I&#x27;m an A&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-eval\"><a href=\"#3-eval\" class=\"headerlink\" title=\"3. eval\"></a>3. eval</h3><p><code>this</code><code>eval</code><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert(<span class=\"built_in\">eval</span>(<span class=\"string\">&#x27;this == window&#x27;</span>));  <span class=\"comment\">// true - (except firebug, see above)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">eval</span>(<span class=\"string\">&#x27;alert(this == a)&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ECMA 5 262<code>this</code></p>\n<p>ECMA<code>this</code></p>\n<blockquote>\n<p>thisThisBinding  <em>ECMA 5, 11.1.1</em></p>\n</blockquote>\n<h3 id=\"ThisBinding\"><a href=\"#ThisBinding\" class=\"headerlink\" title=\"ThisBinding\"></a>ThisBinding</h3><p>[[Call]](ECMA 5, 13.2.1 [[Call]]) invocation values</p>\n<blockquote>\n<p>F(function code)thisValueargumentsList</p>\n<ol>\n<li> (function code)  (strict code)ThisBindingthisValue</li>\n<li>thisValuenullundefinedThisBinding</li>\n<li>thisValueObjectthisBindingToObject(thisValue)</li>\n<li>thisBindingthisValue</li>\n<li></li>\n</ol>\n<p><em>ECMA 5, 10.4.3 Entering Function Code</em></p>\n</blockquote>\n<p><code>ThisBinding</code><code>thisValue</code><code>thisValue</code><code>undefined</code><code>null</code>(<code>ThisBinding</code><code>thisValue</code>)</p>\n<h3 id=\"thisValue\"><a href=\"#thisValue\" class=\"headerlink\" title=\"thisValue\"></a>thisValue</h3><p></p>\n<h4 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h4><h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h4><p>ECMAScriptFunction CallsMemberExpressionArguments list</p>\n<blockquote>\n<ol>\n<li>refMemberExpression</li>\n<li>funcGetValue(ref)</li>\n<li>Type(ref)\n a) IsPropertyReference(ref)truethisValueGetBase(ref)\n b) refEnvironment RecordthisValueGetBase(ref)ImplicitThisValue</li>\n<li>Type(ref)thisValueundefined</li>\n<li>thisthisValueargument valuesargListfunc[[Call]]</li>\n</ol>\n<p><em>ECMA 5, 11.2.3 Function Calls</em></p>\n</blockquote>\n<p><code>thisValue</code>baseValue(6baseValue<code>GetBase</code>)</p>\n<p>baseValue()</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> foo = &#123;</span><br><span class=\"line\">    <span class=\"attr\">bar</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// (Comments apply to example invocation only)</span></span><br><span class=\"line\">        <span class=\"comment\">// MemberExpression = foo.bar</span></span><br><span class=\"line\">        <span class=\"comment\">// thisValue = foo</span></span><br><span class=\"line\">        <span class=\"comment\">// ThisBinding = foo</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">foo.bar();  <span class=\"comment\">// foo</span></span><br><span class=\"line\">foo[<span class=\"string\">&#x27;bar&#x27;</span>]();  <span class=\"comment\">// foo</span></span><br></pre></td></tr></table></figure>\n\n<p><code>baseValue</code>(VariableObjectEnvironment Record)Environment RecordECMA 10.2.1.1Environment RecordImplicitThisValue<code>undefined</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bar = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;;</span><br><span class=\"line\">bar();  <span class=\"comment\">// thisValue is undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>10.4.3 Entering Function Code<code>thisValue</code><code>undefined</code><code>ThisBinding</code><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bar = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// (Comments apply to example invocation only)</span></span><br><span class=\"line\">    <span class=\"comment\">// MemberExpression = bar</span></span><br><span class=\"line\">    <span class=\"comment\">// thisValue = undefined</span></span><br><span class=\"line\">    <span class=\"comment\">// ThisBinding = global object (e.g. window)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">bar();  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-Function-prototype-apply\"><a href=\"#3-Function-prototype-apply\" class=\"headerlink\" title=\"3. Function.prototype.apply\"></a>3. Function.prototype.apply</h4><h4 id=\"4-Function-prototype-use\"><a href=\"#4-Function-prototype-use\" class=\"headerlink\" title=\"4. Function.prototype.use\"></a>4. Function.prototype.use</h4><p>(15.3.4.3 Function.prototype.apply15.3.4.4 Function.prototype.use)</p>\n<p><code>call</code><code>apply</code><code>this</code>()<code>thisValue</code>10.4.3 Entering Function Code(ECMA 3<code>thisArg</code><code>null</code><code>undefined</code><code>thisArg</code>(10.4.3 Entering Function Code))</p>\n<h4 id=\"5-new\"><a href=\"#5-new\" class=\"headerlink\" title=\"5. new\"></a>5. new</h4><blockquote>\n<p>F[[Construct]]</p>\n<ol>\n<li>objECMAScript</li>\n<li>thisValueobjargs[[Construct]]F[[Call]]result</li>\n<li>obj</li>\n</ol>\n<p><em>ECMA 5, 13.2.2 [[Construct]]</em></p>\n</blockquote>\n<p><code>thisValue</code><code>this</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ECMAScript<code>thisValue</code><code>this</code><code>null</code><code>undefined</code></p>\n<h3 id=\"bind\"><a href=\"#bind\" class=\"headerlink\" title=\"bind\"></a>bind</h3><p><code>Function.prototype.bind</code>ECMAScript 5<code>call</code>/<code>apply</code><code>bind</code><code>thisValue</code><code>ThisBinding</code><code>onclick</code><code>baseValue</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Bad Example: fails because ThisBinding of handler will be button</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> sorter = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"attr\">sort</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        alert(<span class=\"string\">&#x27;sorting&#x27;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">requestSorting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.sort();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&#x27;sortButton&#x27;</span>).onclick = sorter.requestSorting;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Good Example: sorter baked into ThisBinding of handler</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> sorter = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"attr\">sort</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        alert(<span class=\"string\">&#x27;sorting&#x27;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">requestSorting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.sort();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&#x27;sortButton&#x27;</span>).onclick = sorter.requestSorting.bind(sorter);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\">ECMA 262 5th Edition (PDF)</a></p>\n<ul>\n<li>11.1.1 Definition of this</li>\n<li>10.4.3 Entering Function Code</li>\n<li>11.2.3 Function Calls</li>\n<li>13.2.1 [[Call]]</li>\n<li>10.2.1.1 Declarative Environment Record (ImplicitThisValue)</li>\n<li>13.2.2 [[Construct]]</li>\n<li>15.3.4.3 Function.prototype.apply</li>\n<li>15.3.4.4 Function.prototype.call</li>\n<li>15.3.4.5 Function.prototype.bind</li>\n<li>Annex C The Strict Mode of ECMAScript</li>\n</ul>\n","site":{"data":{}},"excerpt":"<div class=\"preface\">\n    <p>javascriptthisthisthisEE</p>\n    <p><a href=\"http://javascriptweblog.wordpress.com/2010/08/30/understanding-javascripts-this/\" target=\"_blank\">Understanding JavaScripts this keyword</a></p>\n</div>\n\n<p><code>this</code>Javascript</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>(execution context)ThisBinding</p>\n<h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p><code>this</code><code>window</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert(<span class=\"built_in\">this</span>);  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>","more":"<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p>5<code>this</code></p>\n<h4 id=\"a-\"><a href=\"#a-\" class=\"headerlink\" title=\"a) \"></a>a) </h4><p><code>this</code>(<a href=\"http://javascriptweblog.wordpress.com/2010/08/09/variables-vs-properties-in-javascript/\">baseValue</a>)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// a</span></span><br><span class=\"line\">a[<span class=\"string\">&#x27;b&#x27;</span>]();  <span class=\"comment\">// a</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> c = &#123;&#125;;</span><br><span class=\"line\">c.d = a.b;</span><br><span class=\"line\">c.d();  <span class=\"comment\">// c</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"b-\"><a href=\"#b-\" class=\"headerlink\" title=\"b) \"></a>b) </h4><p><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = a.b;</span><br><span class=\"line\">foo();  <span class=\"comment\">// window</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> c = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> c();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>\n\n<p>(self-invoking functions)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>; &#125;)();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"c-Function-prototype-call\"><a href=\"#c-Function-prototype-call\" class=\"headerlink\" title=\"c) Function.prototype.call\"></a>c) Function.prototype.call</h4><p><code>this</code><code>call</code></p>\n<h4 id=\"d-Function-prototype-apply\"><a href=\"#d-Function-prototype-apply\" class=\"headerlink\" title=\"d) Function.prototype.apply\"></a>d) Function.prototype.apply</h4><p><code>this</code><code>apply</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> d = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b.apply(d);  <span class=\"comment\">// d</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"e-new\"><a href=\"#e-new\" class=\"headerlink\" title=\"e) new\"></a>e) new</h4><p><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> A = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.toString = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; <span class=\"keyword\">return</span> <span class=\"string\">&quot;I&#x27;m an A&quot;</span>; &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> A();  <span class=\"comment\">// &quot;I&#x27;m an A&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-eval\"><a href=\"#3-eval\" class=\"headerlink\" title=\"3. eval\"></a>3. eval</h3><p><code>this</code><code>eval</code><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alert(<span class=\"built_in\">eval</span>(<span class=\"string\">&#x27;this == window&#x27;</span>));  <span class=\"comment\">// true - (except firebug, see above)</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">b</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">eval</span>(<span class=\"string\">&#x27;alert(this == a)&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">a.b();  <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ECMA 5 262<code>this</code></p>\n<p>ECMA<code>this</code></p>\n<blockquote>\n<p>thisThisBinding  <em>ECMA 5, 11.1.1</em></p>\n</blockquote>\n<h3 id=\"ThisBinding\"><a href=\"#ThisBinding\" class=\"headerlink\" title=\"ThisBinding\"></a>ThisBinding</h3><p>[[Call]](ECMA 5, 13.2.1 [[Call]]) invocation values</p>\n<blockquote>\n<p>F(function code)thisValueargumentsList</p>\n<ol>\n<li> (function code)  (strict code)ThisBindingthisValue</li>\n<li>thisValuenullundefinedThisBinding</li>\n<li>thisValueObjectthisBindingToObject(thisValue)</li>\n<li>thisBindingthisValue</li>\n<li></li>\n</ol>\n<p><em>ECMA 5, 10.4.3 Entering Function Code</em></p>\n</blockquote>\n<p><code>ThisBinding</code><code>thisValue</code><code>thisValue</code><code>undefined</code><code>null</code>(<code>ThisBinding</code><code>thisValue</code>)</p>\n<h3 id=\"thisValue\"><a href=\"#thisValue\" class=\"headerlink\" title=\"thisValue\"></a>thisValue</h3><p></p>\n<h4 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h4><h4 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h4><p>ECMAScriptFunction CallsMemberExpressionArguments list</p>\n<blockquote>\n<ol>\n<li>refMemberExpression</li>\n<li>funcGetValue(ref)</li>\n<li>Type(ref)\n a) IsPropertyReference(ref)truethisValueGetBase(ref)\n b) refEnvironment RecordthisValueGetBase(ref)ImplicitThisValue</li>\n<li>Type(ref)thisValueundefined</li>\n<li>thisthisValueargument valuesargListfunc[[Call]]</li>\n</ol>\n<p><em>ECMA 5, 11.2.3 Function Calls</em></p>\n</blockquote>\n<p><code>thisValue</code>baseValue(6baseValue<code>GetBase</code>)</p>\n<p>baseValue()</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> foo = &#123;</span><br><span class=\"line\">    <span class=\"attr\">bar</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// (Comments apply to example invocation only)</span></span><br><span class=\"line\">        <span class=\"comment\">// MemberExpression = foo.bar</span></span><br><span class=\"line\">        <span class=\"comment\">// thisValue = foo</span></span><br><span class=\"line\">        <span class=\"comment\">// ThisBinding = foo</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">foo.bar();  <span class=\"comment\">// foo</span></span><br><span class=\"line\">foo[<span class=\"string\">&#x27;bar&#x27;</span>]();  <span class=\"comment\">// foo</span></span><br></pre></td></tr></table></figure>\n\n<p><code>baseValue</code>(VariableObjectEnvironment Record)Environment RecordECMA 10.2.1.1Environment RecordImplicitThisValue<code>undefined</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bar = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123; ... &#125;;</span><br><span class=\"line\">bar();  <span class=\"comment\">// thisValue is undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>10.4.3 Entering Function Code<code>thisValue</code><code>undefined</code><code>ThisBinding</code><code>this</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bar = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// (Comments apply to example invocation only)</span></span><br><span class=\"line\">    <span class=\"comment\">// MemberExpression = bar</span></span><br><span class=\"line\">    <span class=\"comment\">// thisValue = undefined</span></span><br><span class=\"line\">    <span class=\"comment\">// ThisBinding = global object (e.g. window)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">bar();  <span class=\"comment\">// window</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-Function-prototype-apply\"><a href=\"#3-Function-prototype-apply\" class=\"headerlink\" title=\"3. Function.prototype.apply\"></a>3. Function.prototype.apply</h4><h4 id=\"4-Function-prototype-use\"><a href=\"#4-Function-prototype-use\" class=\"headerlink\" title=\"4. Function.prototype.use\"></a>4. Function.prototype.use</h4><p>(15.3.4.3 Function.prototype.apply15.3.4.4 Function.prototype.use)</p>\n<p><code>call</code><code>apply</code><code>this</code>()<code>thisValue</code>10.4.3 Entering Function Code(ECMA 3<code>thisArg</code><code>null</code><code>undefined</code><code>thisArg</code>(10.4.3 Entering Function Code))</p>\n<h4 id=\"5-new\"><a href=\"#5-new\" class=\"headerlink\" title=\"5. new\"></a>5. new</h4><blockquote>\n<p>F[[Construct]]</p>\n<ol>\n<li>objECMAScript</li>\n<li>thisValueobjargs[[Construct]]F[[Call]]result</li>\n<li>obj</li>\n</ol>\n<p><em>ECMA 5, 13.2.2 [[Construct]]</em></p>\n</blockquote>\n<p><code>thisValue</code><code>this</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ECMAScript<code>thisValue</code><code>this</code><code>null</code><code>undefined</code></p>\n<h3 id=\"bind\"><a href=\"#bind\" class=\"headerlink\" title=\"bind\"></a>bind</h3><p><code>Function.prototype.bind</code>ECMAScript 5<code>call</code>/<code>apply</code><code>bind</code><code>thisValue</code><code>ThisBinding</code><code>onclick</code><code>baseValue</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Bad Example: fails because ThisBinding of handler will be button</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> sorter = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"attr\">sort</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        alert(<span class=\"string\">&#x27;sorting&#x27;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">requestSorting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.sort();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&#x27;sortButton&#x27;</span>).onclick = sorter.requestSorting;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Good Example: sorter baked into ThisBinding of handler</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> sorter = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"attr\">sort</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        alert(<span class=\"string\">&#x27;sorting&#x27;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">requestSorting</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.sort();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&#x27;sortButton&#x27;</span>).onclick = sorter.requestSorting.bind(sorter);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\">ECMA 262 5th Edition (PDF)</a></p>\n<ul>\n<li>11.1.1 Definition of this</li>\n<li>10.4.3 Entering Function Code</li>\n<li>11.2.3 Function Calls</li>\n<li>13.2.1 [[Call]]</li>\n<li>10.2.1.1 Declarative Environment Record (ImplicitThisValue)</li>\n<li>13.2.2 [[Construct]]</li>\n<li>15.3.4.3 Function.prototype.apply</li>\n<li>15.3.4.4 Function.prototype.call</li>\n<li>15.3.4.5 Function.prototype.bind</li>\n<li>Annex C The Strict Mode of ECMAScript</li>\n</ul>"},{"layout":"post","title":"","date":"2011-03-10T05:36:00.000Z","status":"publish","_content":"\n\n\n## 1\n\njs\n\n```js\nfunction spring(name){\n    this.name = name;\n}\nvar firstIns = new spring('shang chun');   //an instance of spring\n```\n\n\n\n```js\nvar secondeIns = spring('wang qiang');   // 'this' refer to window now\n```\n\n`window``name`\n\n<!-- more -->\n\n## 2\n\n\n\n```js\n(new spring('shang chun')).hasOwnProperty('name');\n```\n\n\n\n## \n\n`new`YUI3\n\n```js\nfunction spring(name) {\n    var _this = this;\n    var insanceOf = function(o, type){\n        return (o && o.hasOwnProperty && (o instanceof type));\n    };\n    if (!instanceOf(_this, spring)) {\n         _this = new spring(name);\n    } else {\n         _this.name = name;\n    }\n    return _this;\n}\n\nvar ins = new spring('shang chun');  // normal constructor\nins.name;  // outputs 'shang chun'\n\nspring('shang chun').name;  // outputs 'shang chun'\n```\n\n","source":"_posts/scope-safe-constructor.md","raw":"---\nlayout: post\ntitle: \"\"\ndate: 2011-03-10 13:36\nstatus: publish\ntags: [Instanceof, Scope-safe Constructor]\n---\n\n\n\n## 1\n\njs\n\n```js\nfunction spring(name){\n    this.name = name;\n}\nvar firstIns = new spring('shang chun');   //an instance of spring\n```\n\n\n\n```js\nvar secondeIns = spring('wang qiang');   // 'this' refer to window now\n```\n\n`window``name`\n\n<!-- more -->\n\n## 2\n\n\n\n```js\n(new spring('shang chun')).hasOwnProperty('name');\n```\n\n\n\n## \n\n`new`YUI3\n\n```js\nfunction spring(name) {\n    var _this = this;\n    var insanceOf = function(o, type){\n        return (o && o.hasOwnProperty && (o instanceof type));\n    };\n    if (!instanceOf(_this, spring)) {\n         _this = new spring(name);\n    } else {\n         _this.name = name;\n    }\n    return _this;\n}\n\nvar ins = new spring('shang chun');  // normal constructor\nins.name;  // outputs 'shang chun'\n\nspring('shang chun').name;  // outputs 'shang chun'\n```\n\n","slug":"scope-safe-constructor","published":1,"updated":"2021-10-05T09:36:49.474Z","comments":1,"photos":[],"link":"","_id":"cl1klgupv001l8e857vjp6bv8","content":"<p></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><p>js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">spring</span>(<span class=\"params\">name</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> firstIns = <span class=\"keyword\">new</span> spring(<span class=\"string\">&#x27;shang chun&#x27;</span>);   <span class=\"comment\">//an instance of spring</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> secondeIns = spring(<span class=\"string\">&#x27;wang qiang&#x27;</span>);   <span class=\"comment\">// &#x27;this&#x27; refer to window now</span></span><br></pre></td></tr></table></figure>\n\n<p><code>window</code><code>name</code></p>\n<span id=\"more\"></span>\n\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">new</span> spring(<span class=\"string\">&#x27;shang chun&#x27;</span>)).hasOwnProperty(<span class=\"string\">&#x27;name&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>new</code>YUI3</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">spring</span>(<span class=\"params\">name</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> _this = <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> insanceOf = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">o, type</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (o &amp;&amp; o.hasOwnProperty &amp;&amp; (o <span class=\"keyword\">instanceof</span> type));</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!instanceOf(_this, spring)) &#123;</span><br><span class=\"line\">         _this = <span class=\"keyword\">new</span> spring(name);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">         _this.name = name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> _this;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> ins = <span class=\"keyword\">new</span> spring(<span class=\"string\">&#x27;shang chun&#x27;</span>);  <span class=\"comment\">// normal constructor</span></span><br><span class=\"line\">ins.name;  <span class=\"comment\">// outputs &#x27;shang chun&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">spring(<span class=\"string\">&#x27;shang chun&#x27;</span>).name;  <span class=\"comment\">// outputs &#x27;shang chun&#x27;</span></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<p></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><p>js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">spring</span>(<span class=\"params\">name</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> firstIns = <span class=\"keyword\">new</span> spring(<span class=\"string\">&#x27;shang chun&#x27;</span>);   <span class=\"comment\">//an instance of spring</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> secondeIns = spring(<span class=\"string\">&#x27;wang qiang&#x27;</span>);   <span class=\"comment\">// &#x27;this&#x27; refer to window now</span></span><br></pre></td></tr></table></figure>\n\n<p><code>window</code><code>name</code></p>","more":"<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">new</span> spring(<span class=\"string\">&#x27;shang chun&#x27;</span>)).hasOwnProperty(<span class=\"string\">&#x27;name&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>new</code>YUI3</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">spring</span>(<span class=\"params\">name</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> _this = <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> insanceOf = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">o, type</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (o &amp;&amp; o.hasOwnProperty &amp;&amp; (o <span class=\"keyword\">instanceof</span> type));</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!instanceOf(_this, spring)) &#123;</span><br><span class=\"line\">         _this = <span class=\"keyword\">new</span> spring(name);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">         _this.name = name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> _this;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> ins = <span class=\"keyword\">new</span> spring(<span class=\"string\">&#x27;shang chun&#x27;</span>);  <span class=\"comment\">// normal constructor</span></span><br><span class=\"line\">ins.name;  <span class=\"comment\">// outputs &#x27;shang chun&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">spring(<span class=\"string\">&#x27;shang chun&#x27;</span>).name;  <span class=\"comment\">// outputs &#x27;shang chun&#x27;</span></span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"YUI onDOMReadywindow.onload","date":"2011-03-11T06:12:00.000Z","status":"publish","_content":"\n## \n\nwphtml\n\n## \n\ndom readyloadticketIEloaddom ready\n\n## \n\nbugYUIYUI2YUI3`onDOMReady``onDOMReady`frameIE\n\n<!-- more -->\n\n```js\n// Process onAvailable/onContentReady items when the\n// DOM is ready.\nYAHOO.util.Event.onDOMReady(\n    YAHOO.util.Event._tryPreloadAttach,\n    YAHOO.util.Event, true);\n\nvar n = document.createElement('p');\n\nEU._dri = setInterval(function() {\n    try {\n        // throws an error if doc is not ready\n        n.doScroll('left');\n        clearInterval(EU._dri);\n        EU._dri = null;\n        EU._ready();\n        n = null;\n    } catch (ex) {\n    }\n}, EU.POLL_INTERVAL);\n```\n\n`doScroll`IE`doScroll`YUIIEdom ready40YUIdom readydom readyloadYUIdom readyload\n\n## \n\nloaddom readyFirefoxChromeSafariDOMContentLoadeddom ready\n","source":"_posts/yui-domready-after-load.md","raw":"---\nlayout: post\ntitle: \"YUI onDOMReadywindow.onload\"\ndate: 2011-03-11 14:12\nstatus: publish\ntags: [YUI2, domready, load]\n---\n\n## \n\nwphtml\n\n## \n\ndom readyloadticketIEloaddom ready\n\n## \n\nbugYUIYUI2YUI3`onDOMReady``onDOMReady`frameIE\n\n<!-- more -->\n\n```js\n// Process onAvailable/onContentReady items when the\n// DOM is ready.\nYAHOO.util.Event.onDOMReady(\n    YAHOO.util.Event._tryPreloadAttach,\n    YAHOO.util.Event, true);\n\nvar n = document.createElement('p');\n\nEU._dri = setInterval(function() {\n    try {\n        // throws an error if doc is not ready\n        n.doScroll('left');\n        clearInterval(EU._dri);\n        EU._dri = null;\n        EU._ready();\n        n = null;\n    } catch (ex) {\n    }\n}, EU.POLL_INTERVAL);\n```\n\n`doScroll`IE`doScroll`YUIIEdom ready40YUIdom readydom readyloadYUIdom readyload\n\n## \n\nloaddom readyFirefoxChromeSafariDOMContentLoadeddom ready\n","slug":"yui-domready-after-load","published":1,"updated":"2021-10-04T12:57:16.038Z","comments":1,"photos":[],"link":"","_id":"cl1klgupw001n8e85elwqebpi","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>wphtml</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dom readyloadticketIEloaddom ready</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>bugYUIYUI2YUI3<code>onDOMReady</code><code>onDOMReady</code>frameIE</p>\n<span id=\"more\"></span>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Process onAvailable/onContentReady items when the</span></span><br><span class=\"line\"><span class=\"comment\">// DOM is ready.</span></span><br><span class=\"line\">YAHOO.util.Event.onDOMReady(</span><br><span class=\"line\">    YAHOO.util.Event._tryPreloadAttach,</span><br><span class=\"line\">    YAHOO.util.Event, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> n = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;p&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">EU._dri = <span class=\"built_in\">setInterval</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// throws an error if doc is not ready</span></span><br><span class=\"line\">        n.doScroll(<span class=\"string\">&#x27;left&#x27;</span>);</span><br><span class=\"line\">        <span class=\"built_in\">clearInterval</span>(EU._dri);</span><br><span class=\"line\">        EU._dri = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        EU._ready();</span><br><span class=\"line\">        n = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;, EU.POLL_INTERVAL);</span><br></pre></td></tr></table></figure>\n\n<p><code>doScroll</code>IE<code>doScroll</code>YUIIEdom ready40YUIdom readydom readyloadYUIdom readyload</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>loaddom readyFirefoxChromeSafariDOMContentLoadeddom ready</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>wphtml</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dom readyloadticketIEloaddom ready</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>bugYUIYUI2YUI3<code>onDOMReady</code><code>onDOMReady</code>frameIE</p>","more":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Process onAvailable/onContentReady items when the</span></span><br><span class=\"line\"><span class=\"comment\">// DOM is ready.</span></span><br><span class=\"line\">YAHOO.util.Event.onDOMReady(</span><br><span class=\"line\">    YAHOO.util.Event._tryPreloadAttach,</span><br><span class=\"line\">    YAHOO.util.Event, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> n = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;p&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">EU._dri = <span class=\"built_in\">setInterval</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// throws an error if doc is not ready</span></span><br><span class=\"line\">        n.doScroll(<span class=\"string\">&#x27;left&#x27;</span>);</span><br><span class=\"line\">        <span class=\"built_in\">clearInterval</span>(EU._dri);</span><br><span class=\"line\">        EU._dri = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        EU._ready();</span><br><span class=\"line\">        n = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;, EU.POLL_INTERVAL);</span><br></pre></td></tr></table></figure>\n\n<p><code>doScroll</code>IE<code>doScroll</code>YUIIEdom ready40YUIdom readydom readyloadYUIdom readyload</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>loaddom readyFirefoxChromeSafariDOMContentLoadeddom ready</p>"},{"layout":"post","title":"YUI3","date":"2011-05-21T13:16:00.000Z","status":"publish","_content":"\nYUI2YUI3YUI3\n\n\n\n1. \n2. \n3. Combo\n4. \n5. \n6. \n\n## \nYUI3`YUI`YUI2`YAHOO``YUI`[](http://shangchun.net/scope-safe-contructor.html)\n\n## \n\nYUI2DOM`YAHOO.util.Dom`YUI2****\\(function library\\)\n\n<!-- more -->\n\nYUI3\\(module\\)YUI3`DOM``Event`\n\n```js\nYUI.add('new-module', function (Y) {\n    Y.sayHelloWorld = function (id) {\n        var el = Y.DOM.byId(id);\n        Y.DOM.set(el, 'innerHTML', 'Hello, world!');\n    };\n}, '1.0.0', { requires: ['dom'] });\n```\n\n`YUI``add`new-module`YUI``Y``sayHelloWorld`dom`byId``add`new-moduledom\n\nnew-module\n\n```js\n// html\n<div id=\"entry\"></div>\n\n// js\nYUI().use('new-module', function(Y) {\n    Y.sayHelloWorld('entry');   // <div id=\"entry\">Hello, world!</div>\n});\n```\n\nYUI`use`YUI[loader](http://developer.yahoo.com/yui/3/yui/#loader)new-moduledomcheckdom\n\n\n\n- **domready**YUI2domreadyjsYUI3js&lt;body&gt;jsdomYUI3domready\n- ****(Sandbox)YUI\n- ****&lt;script&gt;jsjsYUIloader`requires`\n- ****(Framework)/YUI3jsYUI3\n\nYUI[Inception](http://movie.douban.com/subject/3541415/)Cobba very simple idea that changed everything\n\n\n\n## Combo\nYUI3js\\(\\)httpYUI2YUI[Best Practices for Speeding Up Your Web Site](http://developer.yahoo.com/performance/rules.html)httpjsYUIcombojsurl\n\nCombo[JavaScriptCSS](http://dancewithnet.com/2010/06/08/minify-js-and-css-files-in-server)\n\n## \n\njQuerywrite less do moreYUIYUI3[Node/NodeList](http://developer.yahoo.com/yui/3/node)DOMYUI3 CoreYUI3\n\n## \n\nYUI3custom eventdom-likeLuke Smith[](http://developer.yahoo.com/yui/theater/video.php?v=smith-yuiconf2009-events)\n\n## \n\nYUI3\n\n- YUI2`getRegion`YUI3`node.get('region')`\n- Node`get`idvaluejQueryapi`val()`, `height()`, `text()`\n- YUI`path``requires``requires`\n- NodeFormtext`ndForm.one('input[name=\"xxx\"]')``ndForm.get('xxx')`\n- name=\"id\"`Y.Selector.test``Y.one('#input-id').ancestor('form')`\n- Form`serialize`\n</ul>\n\nokYUI3\n","source":"_posts/yui3-intro.md","raw":"---\nlayout: post\ntitle: \"YUI3\"\ndate: 2011-05-21 21:16\nstatus: publish\ntags: [YUI]\n---\n\nYUI2YUI3YUI3\n\n\n\n1. \n2. \n3. Combo\n4. \n5. \n6. \n\n## \nYUI3`YUI`YUI2`YAHOO``YUI`[](http://shangchun.net/scope-safe-contructor.html)\n\n## \n\nYUI2DOM`YAHOO.util.Dom`YUI2****\\(function library\\)\n\n<!-- more -->\n\nYUI3\\(module\\)YUI3`DOM``Event`\n\n```js\nYUI.add('new-module', function (Y) {\n    Y.sayHelloWorld = function (id) {\n        var el = Y.DOM.byId(id);\n        Y.DOM.set(el, 'innerHTML', 'Hello, world!');\n    };\n}, '1.0.0', { requires: ['dom'] });\n```\n\n`YUI``add`new-module`YUI``Y``sayHelloWorld`dom`byId``add`new-moduledom\n\nnew-module\n\n```js\n// html\n<div id=\"entry\"></div>\n\n// js\nYUI().use('new-module', function(Y) {\n    Y.sayHelloWorld('entry');   // <div id=\"entry\">Hello, world!</div>\n});\n```\n\nYUI`use`YUI[loader](http://developer.yahoo.com/yui/3/yui/#loader)new-moduledomcheckdom\n\n\n\n- **domready**YUI2domreadyjsYUI3js&lt;body&gt;jsdomYUI3domready\n- ****(Sandbox)YUI\n- ****&lt;script&gt;jsjsYUIloader`requires`\n- ****(Framework)/YUI3jsYUI3\n\nYUI[Inception](http://movie.douban.com/subject/3541415/)Cobba very simple idea that changed everything\n\n\n\n## Combo\nYUI3js\\(\\)httpYUI2YUI[Best Practices for Speeding Up Your Web Site](http://developer.yahoo.com/performance/rules.html)httpjsYUIcombojsurl\n\nCombo[JavaScriptCSS](http://dancewithnet.com/2010/06/08/minify-js-and-css-files-in-server)\n\n## \n\njQuerywrite less do moreYUIYUI3[Node/NodeList](http://developer.yahoo.com/yui/3/node)DOMYUI3 CoreYUI3\n\n## \n\nYUI3custom eventdom-likeLuke Smith[](http://developer.yahoo.com/yui/theater/video.php?v=smith-yuiconf2009-events)\n\n## \n\nYUI3\n\n- YUI2`getRegion`YUI3`node.get('region')`\n- Node`get`idvaluejQueryapi`val()`, `height()`, `text()`\n- YUI`path``requires``requires`\n- NodeFormtext`ndForm.one('input[name=\"xxx\"]')``ndForm.get('xxx')`\n- name=\"id\"`Y.Selector.test``Y.one('#input-id').ancestor('form')`\n- Form`serialize`\n</ul>\n\nokYUI3\n","slug":"yui3-intro","published":1,"updated":"2021-10-04T12:57:16.046Z","comments":1,"photos":[],"link":"","_id":"cl1klgupw001q8e850gz4dlzg","content":"<p>YUI2YUI3YUI3</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>Combo</li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3<code>YUI</code>YUI2<code>YAHOO</code><code>YUI</code><a href=\"http://shangchun.net/scope-safe-contructor.html\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI2DOM<code>YAHOO.util.Dom</code>YUI2<strong></strong>(function library)</p>\n<span id=\"more\"></span>\n\n<p>YUI3(module)YUI3<code>DOM</code><code>Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">YUI.add(<span class=\"string\">&#x27;new-module&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.sayHelloWorld = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> el = Y.DOM.byId(id);</span><br><span class=\"line\">        Y.DOM.set(el, <span class=\"string\">&#x27;innerHTML&#x27;</span>, <span class=\"string\">&#x27;Hello, world!&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;, <span class=\"string\">&#x27;1.0.0&#x27;</span>, &#123; <span class=\"attr\">requires</span>: [<span class=\"string\">&#x27;dom&#x27;</span>] &#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>YUI</code><code>add</code>new-module<code>YUI</code><code>Y</code><code>sayHelloWorld</code>dom<code>byId</code><code>add</code>new-moduledom</p>\n<p>new-module</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// html</span></span><br><span class=\"line\">&lt;div id=<span class=\"string\">&quot;entry&quot;</span>&gt;&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// js</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;new-module&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.sayHelloWorld(<span class=\"string\">&#x27;entry&#x27;</span>);   <span class=\"comment\">// &lt;div id=&quot;entry&quot;&gt;Hello, world!&lt;/div&gt;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUI<code>use</code>YUI<a href=\"http://developer.yahoo.com/yui/3/yui/#loader\">loader</a>new-moduledomcheckdom</p>\n<p></p>\n<ul>\n<li><strong>domready</strong>YUI2domreadyjsYUI3js&lt;body&gt;jsdomYUI3domready</li>\n<li><strong></strong>(Sandbox)YUI</li>\n<li><strong></strong>&lt;script&gt;jsjsYUIloader<code>requires</code></li>\n<li><strong></strong>(Framework)/YUI3jsYUI3</li>\n</ul>\n<p>YUI<a href=\"http://movie.douban.com/subject/3541415/\">Inception</a>Cobba very simple idea that changed everything</p>\n<p></p>\n<h2 id=\"Combo\"><a href=\"#Combo\" class=\"headerlink\" title=\"Combo\"></a>Combo</h2><p>YUI3js()httpYUI2YUI<a href=\"http://developer.yahoo.com/performance/rules.html\">Best Practices for Speeding Up Your Web Site</a>httpjsYUIcombojsurl</p>\n<p>Combo<a href=\"http://dancewithnet.com/2010/06/08/minify-js-and-css-files-in-server\">JavaScriptCSS</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>jQuerywrite less do moreYUIYUI3<a href=\"http://developer.yahoo.com/yui/3/node\">Node/NodeList</a>DOMYUI3 CoreYUI3</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3custom eventdom-likeLuke Smith<a href=\"http://developer.yahoo.com/yui/theater/video.php?v=smith-yuiconf2009-events\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3</p>\n<ul>\n<li>YUI2<code>getRegion</code>YUI3<code>node.get(&#39;region&#39;)</code></li>\n<li>Node<code>get</code>idvaluejQueryapi<code>val()</code>, <code>height()</code>, <code>text()</code></li>\n<li>YUI<code>path</code><code>requires</code><code>requires</code></li>\n<li>NodeFormtext<code>ndForm.one(&#39;input[name=&quot;xxx&quot;]&#39;)</code><code>ndForm.get(&#39;xxx&#39;)</code></li>\n<li>name=id<code>Y.Selector.test</code><code>Y.one(&#39;#input-id&#39;).ancestor(&#39;form&#39;)</code></li>\n<li>Form<code>serialize</code></ul></li>\n</ul>\n<p>okYUI3</p>\n","site":{"data":{}},"excerpt":"<p>YUI2YUI3YUI3</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>Combo</li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3<code>YUI</code>YUI2<code>YAHOO</code><code>YUI</code><a href=\"http://shangchun.net/scope-safe-contructor.html\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI2DOM<code>YAHOO.util.Dom</code>YUI2<strong></strong>(function library)</p>","more":"<p>YUI3(module)YUI3<code>DOM</code><code>Event</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">YUI.add(<span class=\"string\">&#x27;new-module&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.sayHelloWorld = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">id</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> el = Y.DOM.byId(id);</span><br><span class=\"line\">        Y.DOM.set(el, <span class=\"string\">&#x27;innerHTML&#x27;</span>, <span class=\"string\">&#x27;Hello, world!&#x27;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;, <span class=\"string\">&#x27;1.0.0&#x27;</span>, &#123; <span class=\"attr\">requires</span>: [<span class=\"string\">&#x27;dom&#x27;</span>] &#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>YUI</code><code>add</code>new-module<code>YUI</code><code>Y</code><code>sayHelloWorld</code>dom<code>byId</code><code>add</code>new-moduledom</p>\n<p>new-module</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// html</span></span><br><span class=\"line\">&lt;div id=<span class=\"string\">&quot;entry&quot;</span>&gt;&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// js</span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;new-module&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">    Y.sayHelloWorld(<span class=\"string\">&#x27;entry&#x27;</span>);   <span class=\"comment\">// &lt;div id=&quot;entry&quot;&gt;Hello, world!&lt;/div&gt;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUI<code>use</code>YUI<a href=\"http://developer.yahoo.com/yui/3/yui/#loader\">loader</a>new-moduledomcheckdom</p>\n<p></p>\n<ul>\n<li><strong>domready</strong>YUI2domreadyjsYUI3js&lt;body&gt;jsdomYUI3domready</li>\n<li><strong></strong>(Sandbox)YUI</li>\n<li><strong></strong>&lt;script&gt;jsjsYUIloader<code>requires</code></li>\n<li><strong></strong>(Framework)/YUI3jsYUI3</li>\n</ul>\n<p>YUI<a href=\"http://movie.douban.com/subject/3541415/\">Inception</a>Cobba very simple idea that changed everything</p>\n<p></p>\n<h2 id=\"Combo\"><a href=\"#Combo\" class=\"headerlink\" title=\"Combo\"></a>Combo</h2><p>YUI3js()httpYUI2YUI<a href=\"http://developer.yahoo.com/performance/rules.html\">Best Practices for Speeding Up Your Web Site</a>httpjsYUIcombojsurl</p>\n<p>Combo<a href=\"http://dancewithnet.com/2010/06/08/minify-js-and-css-files-in-server\">JavaScriptCSS</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>jQuerywrite less do moreYUIYUI3<a href=\"http://developer.yahoo.com/yui/3/node\">Node/NodeList</a>DOMYUI3 CoreYUI3</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3custom eventdom-likeLuke Smith<a href=\"http://developer.yahoo.com/yui/theater/video.php?v=smith-yuiconf2009-events\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3</p>\n<ul>\n<li>YUI2<code>getRegion</code>YUI3<code>node.get(&#39;region&#39;)</code></li>\n<li>Node<code>get</code>idvaluejQueryapi<code>val()</code>, <code>height()</code>, <code>text()</code></li>\n<li>YUI<code>path</code><code>requires</code><code>requires</code></li>\n<li>NodeFormtext<code>ndForm.one(&#39;input[name=&quot;xxx&quot;]&#39;)</code><code>ndForm.get(&#39;xxx&#39;)</code></li>\n<li>name=id<code>Y.Selector.test</code><code>Y.one(&#39;#input-id&#39;).ancestor(&#39;form&#39;)</code></li>\n<li>Form<code>serialize</code></ul></li>\n</ul>\n<p>okYUI3</p>"},{"layout":"post","title":"YUI-","date":"2014-02-14T02:00:00.000Z","comments":1,"status":"publish","_content":"\nJSYUIfeature****\n\n## \n\nYUIDOMDOM[DOM3 Event - Default actions and cancelable events](https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel)\n\n- `click`href\n- submitaction\n\n\n\n```\ne.preventDefault();\n```\n\n\n\n<!-- more -->\n\n<center><img alt=\"Event Default Action\" src=\"/images/event-default-action.png\" /></center>\n\nYUIAPIDOM\n\n## \n\n****\n\nDOM\n\n- `click`\n- `submit`\n\n\n\n- EDM\n- `failure`OK\n- \n\n\n## \n\n\n\n`FieldValidator``EventTarget`\n\n```js\nvar FieldValidator = function (ndField, validateFn) {\n    var instance = this;\n    // ...\n};\nY.augment(FieldValidator, Y.EventTarget);\n```\n\n`publish`\n\n```js\nvar FieldValidator = function (ndField, validateFn) {\n    // ...\n\n    // \n    instance.publish('success', {\n        emitFacade: true,\n        defaultFn: function (e) {\n            e.field.next('.tip').setHTML('ok');\n        }\n    });\n\n    // \n    instance.publish('failure', {\n        emitFacade: true,\n        defaultFn: function (e) {\n            e.field.next('.tip').setHTML('error');\n        }\n    });\n};\n```\n\n`focus``blur``blur`\n\n```js\nvar FieldValidator = function (ndField, validateFn) {\n    // ...\n\n    ndField.on({\n        focus: function (e) {\n            ndField.next('.tip').setHTML('');\n        },\n        blur: function (e) {\n            if (validateFn(this.get('value'))) {\n                // \n                instance.fire('success', { field: ndField });\n            } else {\n                // \n                instance.fire('failure', { field: ndField });\n            }\n        }\n    });\n};\n```\n\n\n\n```js\n// \nnew FieldValidator(Y.one('[name=\"email\"]'), function (value) {\n    return /^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/.test(value);\n});\n```\n\nYahooEDM\n\n```js\nvar validator = new FieldValidator(Y.one('[name=\"email\"]'), function (value) {\n    return /^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/.test(value);\n});\nvalidator.on('success', function (e) {\n\tif (e.field.get('value').indexOf('@yahoo.com') !== -1) {\n        // \n        e.preventDefault();\n\n\t    // \n\t\te.field.next('.tip').setHTML('yahoo.com');\n\t}\n});\n```\n\n`success`OK\n\n[JSFiddle](http://jsfiddle.net/springuper/h4XAY/)\n\n## \n\nidea\n\n- callbackcallback\n- \n\n\n## \n\n- [DOM3 Event - Default actions and cancelable events](https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel)\n- [YUI EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n","source":"_posts/yui3-event-default-action.md","raw":"---\nlayout: post\ntitle: \"YUI-\"\ndate: 2014-02-14 10:00\ncomments: true\nstatus: publish\ntags: [YUI, Event, JavaScript]\n---\n\nJSYUIfeature****\n\n## \n\nYUIDOMDOM[DOM3 Event - Default actions and cancelable events](https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel)\n\n- `click`href\n- submitaction\n\n\n\n```\ne.preventDefault();\n```\n\n\n\n<!-- more -->\n\n<center><img alt=\"Event Default Action\" src=\"/images/event-default-action.png\" /></center>\n\nYUIAPIDOM\n\n## \n\n****\n\nDOM\n\n- `click`\n- `submit`\n\n\n\n- EDM\n- `failure`OK\n- \n\n\n## \n\n\n\n`FieldValidator``EventTarget`\n\n```js\nvar FieldValidator = function (ndField, validateFn) {\n    var instance = this;\n    // ...\n};\nY.augment(FieldValidator, Y.EventTarget);\n```\n\n`publish`\n\n```js\nvar FieldValidator = function (ndField, validateFn) {\n    // ...\n\n    // \n    instance.publish('success', {\n        emitFacade: true,\n        defaultFn: function (e) {\n            e.field.next('.tip').setHTML('ok');\n        }\n    });\n\n    // \n    instance.publish('failure', {\n        emitFacade: true,\n        defaultFn: function (e) {\n            e.field.next('.tip').setHTML('error');\n        }\n    });\n};\n```\n\n`focus``blur``blur`\n\n```js\nvar FieldValidator = function (ndField, validateFn) {\n    // ...\n\n    ndField.on({\n        focus: function (e) {\n            ndField.next('.tip').setHTML('');\n        },\n        blur: function (e) {\n            if (validateFn(this.get('value'))) {\n                // \n                instance.fire('success', { field: ndField });\n            } else {\n                // \n                instance.fire('failure', { field: ndField });\n            }\n        }\n    });\n};\n```\n\n\n\n```js\n// \nnew FieldValidator(Y.one('[name=\"email\"]'), function (value) {\n    return /^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/.test(value);\n});\n```\n\nYahooEDM\n\n```js\nvar validator = new FieldValidator(Y.one('[name=\"email\"]'), function (value) {\n    return /^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/.test(value);\n});\nvalidator.on('success', function (e) {\n\tif (e.field.get('value').indexOf('@yahoo.com') !== -1) {\n        // \n        e.preventDefault();\n\n\t    // \n\t\te.field.next('.tip').setHTML('yahoo.com');\n\t}\n});\n```\n\n`success`OK\n\n[JSFiddle](http://jsfiddle.net/springuper/h4XAY/)\n\n## \n\nidea\n\n- callbackcallback\n- \n\n\n## \n\n- [DOM3 Event - Default actions and cancelable events](https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel)\n- [YUI EventTarget](http://yuilibrary.com/yui/docs/event-custom/index.html)\n","slug":"yui3-event-default-action","published":1,"updated":"2021-10-05T09:27:48.617Z","photos":[],"link":"","_id":"cl1klgupx001r8e850b7ocwk7","content":"<p>JSYUIfeature<strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUIDOMDOM<a href=\"https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel\">DOM3 Event - Default actions and cancelable events</a></p>\n<ul>\n<li><code>click</code>href</li>\n<li>submitaction</li>\n</ul>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">e.preventDefault();</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<span id=\"more\"></span>\n\n<center><img alt=\"Event Default Action\" src=\"/images/event-default-action.png\" /></center>\n\n<p>YUIAPIDOM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p>DOM</p>\n<ul>\n<li><code>click</code></li>\n<li><code>submit</code></li>\n</ul>\n<p></p>\n<ul>\n<li>EDM</li>\n<li><code>failure</code>OK</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>FieldValidator</code><code>EventTarget</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> FieldValidator = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ndField, validateFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> instance = <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.augment(FieldValidator, Y.EventTarget);</span><br></pre></td></tr></table></figure>\n\n<p><code>publish</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> FieldValidator = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ndField, validateFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    instance.publish(<span class=\"string\">&#x27;success&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">defaultFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.field.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;ok&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    instance.publish(<span class=\"string\">&#x27;failure&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">defaultFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.field.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;error&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><code>focus</code><code>blur</code><code>blur</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> FieldValidator = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ndField, validateFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    ndField.on(&#123;</span><br><span class=\"line\">        <span class=\"attr\">focus</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            ndField.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">blur</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (validateFn(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;value&#x27;</span>))) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                instance.fire(<span class=\"string\">&#x27;success&#x27;</span>, &#123; <span class=\"attr\">field</span>: ndField &#125;);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                instance.fire(<span class=\"string\">&#x27;failure&#x27;</span>, &#123; <span class=\"attr\">field</span>: ndField &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">new</span> FieldValidator(Y.one(<span class=\"string\">&#x27;[name=&quot;email&quot;]&#x27;</span>), <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"regexp\">/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/</span>.test(value);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YahooEDM</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> validator = <span class=\"keyword\">new</span> FieldValidator(Y.one(<span class=\"string\">&#x27;[name=&quot;email&quot;]&#x27;</span>), <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"regexp\">/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/</span>.test(value);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">validator.on(<span class=\"string\">&#x27;success&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (e.field.get(<span class=\"string\">&#x27;value&#x27;</span>).indexOf(<span class=\"string\">&#x27;@yahoo.com&#x27;</span>) !== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\"></span><br><span class=\"line\">\t    <span class=\"comment\">// </span></span><br><span class=\"line\">\t\te.field.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;yahoo.com&#x27;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>success</code>OK</p>\n<p><a href=\"http://jsfiddle.net/springuper/h4XAY/\">JSFiddle</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>idea</p>\n<ul>\n<li>callbackcallback</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel\">DOM3 Event - Default actions and cancelable events</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUI EventTarget</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>JSYUIfeature<strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUIDOMDOM<a href=\"https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel\">DOM3 Event - Default actions and cancelable events</a></p>\n<ul>\n<li><code>click</code>href</li>\n<li>submitaction</li>\n</ul>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">e.preventDefault();</span><br></pre></td></tr></table></figure>\n\n<p></p>","more":"<center><img alt=\"Event Default Action\" src=\"/images/event-default-action.png\" /></center>\n\n<p>YUIAPIDOM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p>DOM</p>\n<ul>\n<li><code>click</code></li>\n<li><code>submit</code></li>\n</ul>\n<p></p>\n<ul>\n<li>EDM</li>\n<li><code>failure</code>OK</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>FieldValidator</code><code>EventTarget</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> FieldValidator = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ndField, validateFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> instance = <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">Y.augment(FieldValidator, Y.EventTarget);</span><br></pre></td></tr></table></figure>\n\n<p><code>publish</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> FieldValidator = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ndField, validateFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    instance.publish(<span class=\"string\">&#x27;success&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">defaultFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.field.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;ok&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    instance.publish(<span class=\"string\">&#x27;failure&#x27;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">emitFacade</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">defaultFn</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            e.field.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;error&#x27;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><code>focus</code><code>blur</code><code>blur</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> FieldValidator = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">ndField, validateFn</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">    ndField.on(&#123;</span><br><span class=\"line\">        <span class=\"attr\">focus</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            ndField.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">blur</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (validateFn(<span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;value&#x27;</span>))) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                instance.fire(<span class=\"string\">&#x27;success&#x27;</span>, &#123; <span class=\"attr\">field</span>: ndField &#125;);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// </span></span><br><span class=\"line\">                instance.fire(<span class=\"string\">&#x27;failure&#x27;</span>, &#123; <span class=\"attr\">field</span>: ndField &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">new</span> FieldValidator(Y.one(<span class=\"string\">&#x27;[name=&quot;email&quot;]&#x27;</span>), <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"regexp\">/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/</span>.test(value);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YahooEDM</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> validator = <span class=\"keyword\">new</span> FieldValidator(Y.one(<span class=\"string\">&#x27;[name=&quot;email&quot;]&#x27;</span>), <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"regexp\">/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/</span>.test(value);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">validator.on(<span class=\"string\">&#x27;success&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (e.field.get(<span class=\"string\">&#x27;value&#x27;</span>).indexOf(<span class=\"string\">&#x27;@yahoo.com&#x27;</span>) !== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\"></span><br><span class=\"line\">\t    <span class=\"comment\">// </span></span><br><span class=\"line\">\t\te.field.next(<span class=\"string\">&#x27;.tip&#x27;</span>).setHTML(<span class=\"string\">&#x27;yahoo.com&#x27;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><code>success</code>OK</p>\n<p><a href=\"http://jsfiddle.net/springuper/h4XAY/\">JSFiddle</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>idea</p>\n<ul>\n<li>callbackcallback</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#event-flow-default-cancel\">DOM3 Event - Default actions and cancelable events</a></li>\n<li><a href=\"http://yuilibrary.com/yui/docs/event-custom/index.html\">YUI EventTarget</a></li>\n</ul>"},{"layout":"post","title":"YUI3","date":"2011-08-04T11:51:00.000Z","status":"publish","_content":"\n<div style=\"text-align:center;\"><div style=\"width:425px; margin:0 auto;\" id=\"__ss_8759550\"><object id=\"__sse8759550\" width=\"425\" height=\"355\"><param name=\"movie\" value=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" /><param name=\"allowFullScreen\" value=\"true\"/><param name=\"allowScriptAccess\" value=\"always\"/><embed name=\"__sse8759550\" src=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" type=\"application/x-shockwave-flash\" allowscriptaccess=\"always\" allowfullscreen=\"true\" width=\"425\" height=\"355\"></embed></object></div></div>\n\n<p style=\"text-align:center; text-indent:0;\"><a href=\"/assets/YUI3-in-Meituan.key_.zip\">keynote</a> | <a href=\"/assets/YUI3-in-Meituan.pdf.zip\">pdf</a></p>\n\n<!-- more -->\n\n## Notes\n\n1. YUI3\n\n2. email201012117\n\n3. YUI3YUI3\n\n4. \n\n    - \n    - \n    - \n\n    \n\n5. YUI3YUI2YUIYUI2YUIYUI3YUI2\n\n6. YUI3YUI3YUI2YUI3\n\n7. YUI3YUI3YUI2comboYUI3\n\n8. YUIaddYUIEnv\n\n9. YUIuseattachapiYUI,apiYUI\n\n10. script\n\n    - \n    - useuse\n    - api\n    - \n\n11. YUI3YUI3\n\n    - YUIYUIyuiLangUAArray, Object, Get\n    - DOMNodeEvent\n    - \n    - IOJSONAnimation\n\n12. \n\n    - \n    - ComboyahoocomboYUIminifycombo\n    - \n    - query stringembedding\n\n13. YUI3\n\n14. jscore.jswidgetapp-deal.jsjquery.jsweb app\n\n15. \n\n    - \n    - \n    - combo\n    - YUI\n\n16. JS\n\n    - YUI3api\n    - mt-basestrtotimegetRadioValueCookiew-basew-autocomplete\n    - mis-basemischeckFormChanged\n    - mis-dealmisdealfinance-paymisc\n\n20. MYUIM.addM.useM.useconfigconfigcomboloaderusedebug\n\n24. yuinodeeventiomiswidget\n\n25. PHP loaderloader\n\n    loader\n\n26. loader\n\n\n","source":"_posts/yui3-in-meituan.md","raw":"---\nlayout: post\ntitle: \"YUI3\"\ndate: 2011-08-04 19:51\nstatus: publish\ntags: [YUI, Meituan]\n---\n\n<div style=\"text-align:center;\"><div style=\"width:425px; margin:0 auto;\" id=\"__ss_8759550\"><object id=\"__sse8759550\" width=\"425\" height=\"355\"><param name=\"movie\" value=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" /><param name=\"allowFullScreen\" value=\"true\"/><param name=\"allowScriptAccess\" value=\"always\"/><embed name=\"__sse8759550\" src=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" type=\"application/x-shockwave-flash\" allowscriptaccess=\"always\" allowfullscreen=\"true\" width=\"425\" height=\"355\"></embed></object></div></div>\n\n<p style=\"text-align:center; text-indent:0;\"><a href=\"/assets/YUI3-in-Meituan.key_.zip\">keynote</a> | <a href=\"/assets/YUI3-in-Meituan.pdf.zip\">pdf</a></p>\n\n<!-- more -->\n\n## Notes\n\n1. YUI3\n\n2. email201012117\n\n3. YUI3YUI3\n\n4. \n\n    - \n    - \n    - \n\n    \n\n5. YUI3YUI2YUIYUI2YUIYUI3YUI2\n\n6. YUI3YUI3YUI2YUI3\n\n7. YUI3YUI3YUI2comboYUI3\n\n8. YUIaddYUIEnv\n\n9. YUIuseattachapiYUI,apiYUI\n\n10. script\n\n    - \n    - useuse\n    - api\n    - \n\n11. YUI3YUI3\n\n    - YUIYUIyuiLangUAArray, Object, Get\n    - DOMNodeEvent\n    - \n    - IOJSONAnimation\n\n12. \n\n    - \n    - ComboyahoocomboYUIminifycombo\n    - \n    - query stringembedding\n\n13. YUI3\n\n14. jscore.jswidgetapp-deal.jsjquery.jsweb app\n\n15. \n\n    - \n    - \n    - combo\n    - YUI\n\n16. JS\n\n    - YUI3api\n    - mt-basestrtotimegetRadioValueCookiew-basew-autocomplete\n    - mis-basemischeckFormChanged\n    - mis-dealmisdealfinance-paymisc\n\n20. MYUIM.addM.useM.useconfigconfigcomboloaderusedebug\n\n24. yuinodeeventiomiswidget\n\n25. PHP loaderloader\n\n    loader\n\n26. loader\n\n\n","slug":"yui3-in-meituan","published":1,"updated":"2021-10-04T12:57:16.034Z","comments":1,"photos":[],"link":"","_id":"cl1klgupx001t8e85crkb8vli","content":"<div style=\"text-align:center;\"><div style=\"width:425px; margin:0 auto;\" id=\"__ss_8759550\"><object id=\"__sse8759550\" width=\"425\" height=\"355\"><param name=\"movie\" value=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" /><param name=\"allowFullScreen\" value=\"true\"/><param name=\"allowScriptAccess\" value=\"always\"/><embed name=\"__sse8759550\" src=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" type=\"application/x-shockwave-flash\" allowscriptaccess=\"always\" allowfullscreen=\"true\" width=\"425\" height=\"355\"></embed></object></div></div>\n\n<p style=\"text-align:center; text-indent:0;\"><a href=\"/assets/YUI3-in-Meituan.key_.zip\">keynote</a> | <a href=\"/assets/YUI3-in-Meituan.pdf.zip\">pdf</a></p>\n\n<span id=\"more\"></span>\n\n<h2 id=\"Notes\"><a href=\"#Notes\" class=\"headerlink\" title=\"Notes\"></a>Notes</h2><ol>\n<li><p>YUI3</p>\n</li>\n<li><p>email201012117</p>\n</li>\n<li><p>YUI3YUI3</p>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> </p>\n</li>\n<li><p>YUI3YUI2YUIYUI2YUIYUI3YUI2</p>\n</li>\n<li><p>YUI3YUI3YUI2YUI3</p>\n</li>\n<li><p>YUI3YUI3YUI2comboYUI3</p>\n</li>\n<li><p>YUIaddYUIEnv</p>\n</li>\n<li><p>YUIuseattachapiYUI,apiYUI</p>\n</li>\n<li><p>script</p>\n<ul>\n<li></li>\n<li>useuse</li>\n<li>api</li>\n<li></li>\n</ul>\n</li>\n<li><p>YUI3YUI3</p>\n<ul>\n<li>YUIYUIyuiLangUAArray, Object, Get</li>\n<li>DOMNodeEvent</li>\n<li></li>\n<li>IOJSONAnimation</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li>ComboyahoocomboYUIminifycombo</li>\n<li></li>\n<li>query stringembedding</li>\n</ul>\n</li>\n<li><p>YUI3</p>\n</li>\n<li><p>jscore.jswidgetapp-deal.jsjquery.jsweb app</p>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>combo</li>\n<li>YUI</li>\n</ul>\n</li>\n<li><p>JS</p>\n<ul>\n<li>YUI3api</li>\n<li>mt-basestrtotimegetRadioValueCookiew-basew-autocomplete</li>\n<li>mis-basemischeckFormChanged</li>\n<li>mis-dealmisdealfinance-paymisc</li>\n</ul>\n</li>\n<li><p>MYUIM.addM.useM.useconfigconfigcomboloaderusedebug</p>\n</li>\n<li><p>yuinodeeventiomiswidget</p>\n</li>\n<li><p>PHP loaderloader</p>\n<p>loader</p>\n</li>\n<li><p>loader</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<div style=\"text-align:center;\"><div style=\"width:425px; margin:0 auto;\" id=\"__ss_8759550\"><object id=\"__sse8759550\" width=\"425\" height=\"355\"><param name=\"movie\" value=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" /><param name=\"allowFullScreen\" value=\"true\"/><param name=\"allowScriptAccess\" value=\"always\"/><embed name=\"__sse8759550\" src=\"http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=yui3-110802225931-phpapp02&stripped_title=yui3-8759550&userName=springuper\" type=\"application/x-shockwave-flash\" allowscriptaccess=\"always\" allowfullscreen=\"true\" width=\"425\" height=\"355\"></embed></object></div></div>\n\n<p style=\"text-align:center; text-indent:0;\"><a href=\"/assets/YUI3-in-Meituan.key_.zip\">keynote</a> | <a href=\"/assets/YUI3-in-Meituan.pdf.zip\">pdf</a></p>","more":"<h2 id=\"Notes\"><a href=\"#Notes\" class=\"headerlink\" title=\"Notes\"></a>Notes</h2><ol>\n<li><p>YUI3</p>\n</li>\n<li><p>email201012117</p>\n</li>\n<li><p>YUI3YUI3</p>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> </p>\n</li>\n<li><p>YUI3YUI2YUIYUI2YUIYUI3YUI2</p>\n</li>\n<li><p>YUI3YUI3YUI2YUI3</p>\n</li>\n<li><p>YUI3YUI3YUI2comboYUI3</p>\n</li>\n<li><p>YUIaddYUIEnv</p>\n</li>\n<li><p>YUIuseattachapiYUI,apiYUI</p>\n</li>\n<li><p>script</p>\n<ul>\n<li></li>\n<li>useuse</li>\n<li>api</li>\n<li></li>\n</ul>\n</li>\n<li><p>YUI3YUI3</p>\n<ul>\n<li>YUIYUIyuiLangUAArray, Object, Get</li>\n<li>DOMNodeEvent</li>\n<li></li>\n<li>IOJSONAnimation</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li>ComboyahoocomboYUIminifycombo</li>\n<li></li>\n<li>query stringembedding</li>\n</ul>\n</li>\n<li><p>YUI3</p>\n</li>\n<li><p>jscore.jswidgetapp-deal.jsjquery.jsweb app</p>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>combo</li>\n<li>YUI</li>\n</ul>\n</li>\n<li><p>JS</p>\n<ul>\n<li>YUI3api</li>\n<li>mt-basestrtotimegetRadioValueCookiew-basew-autocomplete</li>\n<li>mis-basemischeckFormChanged</li>\n<li>mis-dealmisdealfinance-paymisc</li>\n</ul>\n</li>\n<li><p>MYUIM.addM.useM.useconfigconfigcomboloaderusedebug</p>\n</li>\n<li><p>yuinodeeventiomiswidget</p>\n</li>\n<li><p>PHP loaderloader</p>\n<p>loader</p>\n</li>\n<li><p>loader</p>\n</li>\n</ol>"},{"layout":"post","title":"YUI3","date":"2013-05-10T14:35:00.000Z","comments":1,"status":"publish","_content":"\n2010201255YUI3YUI3\n\n## YUI3\n\nYUI2YUI2\n\nYUI3\n\nYUI3YUI3ExtJSDojojQueryYUI3YUI\n\nYUI3\n\n- 100YUI3\n- \n- \n\nYUI3YUI3\n\nYUI3\n\n<!-- more -->\n\n## \n\nCommonJSAMD2008813YUI3 Preview Release 1YUI2009929YUI3\n\nYUI3\n\n```javascript\n// \nYUI.add('greeting', function (Y) {\n\tY.sayHello = function () {\n\t\tconsole.log('Hello, world!');\n\t};\n});\n\n// \nYUI().use('greeting', function (Y) {\n\tY.sayHello(); // output 'Hello, world!'\n});\n```\n\nYUI3LoaderCombo\n\n\n\n- \n- \n- \n\n### \n\n\n\n- ****\n- ****\n- ****Combo\n- ****YUI\n\n<center>\n  <img alt=\"\" src=\"/images/mt-fe-architecture.png\" />\n</center>\n\nJS\n\n1. **YUI3**API\n2. **ComponentWidget**MYUI3PluginExtension\n3. ****www-basewww\n4. ****www-dealdealfinance-paymisc\n\n\n\n### \n\nYUILoader\n\nYUI2YUI3PHPjsPHPhtml\n\nNodeJSjsGit Hooks\n\n\n\n- ****API\n- ****Loader\n\n### Combo\n\nComboYahooComboYUI3ComboComboCDN\n\nCombo\n\n```\nhttp://c.meituan.net/combo/?f=mt-yui-core.v3.5.1.js;fecore/mt/js/base.js\n```\n\nminifyCombominifyComboCSSURI300PV\n\n## \n\nYUI3YUI3\n\nYUI3YUIAOPAspect Oriented ProgrammingOOPObject Oriented Programming\n\n### EventTargetAttributeBase\n\nEventTargetYUI3DOMEventTargetYUIEventTarget\n\nAttributeattributeAttribute\n\n```javascript\n// namenameChange\nthis.on('nameChange', function (e) {\n\tconsole.log(e.newVal);\n});\n\n// name\nthis.set('name', 'meituan'); // output 'meituan'\n```\n\nattributeFormCheckerfields\n\nBaseC++JavaAttributeYUIBase\n\nFormCheckerLazyLoaderMap\n\n```javascript\n// \nFormChecker.prototype.initializer = function () {\n\tvar form = this.get('form');\n\tthis._handle = form.on('submit', function (e) {\n\t\t// check fields\n\t});\n};\n// \nFormChecker.prototype.destructor = function () {\n\tthis._handle.detach();\n};\n\n// \nvar checker = new FormChecker({ form: Y.one('#buy-form') });\n// \nchecker.destroy();\n```\n\n### ExtensionPlugin\n\nExtensionRubyMixinPlugin\n\nExtensionPluginPluginYUI3WidgetPositionAlign\n\n```javascript\n// \nEffect.fadeIn(nodeTip);\n\n// \nnodeTip.plug(NodeEffect);\nnodeTip.effect.fadeIn();\n```\n\nExtensionPluginWidgetFullScreenDialogAutoAlignAsyncSearchNodeEffectOOP\n\n### Widget\n\nWidgetBaseUI`renderUI``bindUI``syncUI``HTML_PARSER`HTMLDOMWidget\n\n\n\n- ****One Shot One Kill\n- ****Demo\n\n\n\n```html\n// data-widgetdata-params\n<a href=\"\" data-widget=\"bubbleTip\" data-params='{ \"tip\": \"\" }'></a>\n```\n\n30Widget\n\n## \n\nYUI3YUIComboCSSYUI3\n\n ****\n\nYUI3\n\nYUI3 http://fe.meituan.com\n\n\n\n","source":"_posts/yui3-practice.md","raw":"---\nlayout: post\ntitle: \"YUI3\"\ndate: 2013-05-10 22:35\ncomments: true\nstatus: publish\ntags: [YUI, Framework, JavaScript]\n---\n\n2010201255YUI3YUI3\n\n## YUI3\n\nYUI2YUI2\n\nYUI3\n\nYUI3YUI3ExtJSDojojQueryYUI3YUI\n\nYUI3\n\n- 100YUI3\n- \n- \n\nYUI3YUI3\n\nYUI3\n\n<!-- more -->\n\n## \n\nCommonJSAMD2008813YUI3 Preview Release 1YUI2009929YUI3\n\nYUI3\n\n```javascript\n// \nYUI.add('greeting', function (Y) {\n\tY.sayHello = function () {\n\t\tconsole.log('Hello, world!');\n\t};\n});\n\n// \nYUI().use('greeting', function (Y) {\n\tY.sayHello(); // output 'Hello, world!'\n});\n```\n\nYUI3LoaderCombo\n\n\n\n- \n- \n- \n\n### \n\n\n\n- ****\n- ****\n- ****Combo\n- ****YUI\n\n<center>\n  <img alt=\"\" src=\"/images/mt-fe-architecture.png\" />\n</center>\n\nJS\n\n1. **YUI3**API\n2. **ComponentWidget**MYUI3PluginExtension\n3. ****www-basewww\n4. ****www-dealdealfinance-paymisc\n\n\n\n### \n\nYUILoader\n\nYUI2YUI3PHPjsPHPhtml\n\nNodeJSjsGit Hooks\n\n\n\n- ****API\n- ****Loader\n\n### Combo\n\nComboYahooComboYUI3ComboComboCDN\n\nCombo\n\n```\nhttp://c.meituan.net/combo/?f=mt-yui-core.v3.5.1.js;fecore/mt/js/base.js\n```\n\nminifyCombominifyComboCSSURI300PV\n\n## \n\nYUI3YUI3\n\nYUI3YUIAOPAspect Oriented ProgrammingOOPObject Oriented Programming\n\n### EventTargetAttributeBase\n\nEventTargetYUI3DOMEventTargetYUIEventTarget\n\nAttributeattributeAttribute\n\n```javascript\n// namenameChange\nthis.on('nameChange', function (e) {\n\tconsole.log(e.newVal);\n});\n\n// name\nthis.set('name', 'meituan'); // output 'meituan'\n```\n\nattributeFormCheckerfields\n\nBaseC++JavaAttributeYUIBase\n\nFormCheckerLazyLoaderMap\n\n```javascript\n// \nFormChecker.prototype.initializer = function () {\n\tvar form = this.get('form');\n\tthis._handle = form.on('submit', function (e) {\n\t\t// check fields\n\t});\n};\n// \nFormChecker.prototype.destructor = function () {\n\tthis._handle.detach();\n};\n\n// \nvar checker = new FormChecker({ form: Y.one('#buy-form') });\n// \nchecker.destroy();\n```\n\n### ExtensionPlugin\n\nExtensionRubyMixinPlugin\n\nExtensionPluginPluginYUI3WidgetPositionAlign\n\n```javascript\n// \nEffect.fadeIn(nodeTip);\n\n// \nnodeTip.plug(NodeEffect);\nnodeTip.effect.fadeIn();\n```\n\nExtensionPluginWidgetFullScreenDialogAutoAlignAsyncSearchNodeEffectOOP\n\n### Widget\n\nWidgetBaseUI`renderUI``bindUI``syncUI``HTML_PARSER`HTMLDOMWidget\n\n\n\n- ****One Shot One Kill\n- ****Demo\n\n\n\n```html\n// data-widgetdata-params\n<a href=\"\" data-widget=\"bubbleTip\" data-params='{ \"tip\": \"\" }'></a>\n```\n\n30Widget\n\n## \n\nYUI3YUIComboCSSYUI3\n\n ****\n\nYUI3\n\nYUI3 http://fe.meituan.com\n\n\n\n","slug":"yui3-practice","published":1,"updated":"2021-10-05T09:29:40.997Z","photos":[],"link":"","_id":"cl1klguqn005q8e8523wveq4y","content":"<p>2010201255YUI3YUI3</p>\n<h2 id=\"YUI3\"><a href=\"#YUI3\" class=\"headerlink\" title=\"YUI3\"></a>YUI3</h2><p>YUI2YUI2</p>\n<p>YUI3</p>\n<p>YUI3YUI3ExtJSDojojQueryYUI3YUI</p>\n<p>YUI3</p>\n<ul>\n<li>100YUI3</li>\n<li></li>\n<li></li>\n</ul>\n<p>YUI3YUI3</p>\n<p>YUI3</p>\n<span id=\"more\"></span>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CommonJSAMD2008813YUI3 Preview Release 1YUI2009929YUI3</p>\n<p>YUI3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">YUI.add(<span class=\"string\">&#x27;greeting&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">\tY.sayHello = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Hello, world!&#x27;</span>);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;greeting&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">\tY.sayHello(); <span class=\"comment\">// output &#x27;Hello, world!&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUI3LoaderCombo</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong>Combo</li>\n<li><strong></strong>YUI</li>\n</ul>\n<center>\n  <img alt=\"\" src=\"/images/mt-fe-architecture.png\" />\n</center>\n\n<p>JS</p>\n<ol>\n<li><strong>YUI3</strong>API</li>\n<li><strong>ComponentWidget</strong>MYUI3PluginExtension</li>\n<li><strong></strong>www-basewww</li>\n<li><strong></strong>www-dealdealfinance-paymisc</li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUILoader</p>\n<p>YUI2YUI3PHPjsPHPhtml</p>\n<p>NodeJSjsGit Hooks</p>\n<p></p>\n<ul>\n<li><strong></strong>API</li>\n<li><strong></strong>Loader</li>\n</ul>\n<h3 id=\"Combo\"><a href=\"#Combo\" class=\"headerlink\" title=\"Combo\"></a>Combo</h3><p>ComboYahooComboYUI3ComboComboCDN</p>\n<p>Combo</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://c.meituan.net/combo/?f=mt-yui-core.v3.5.1.js;fecore/mt/js/base.js</span><br></pre></td></tr></table></figure>\n\n<p>minifyCombominifyComboCSSURI300PV</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3YUI3</p>\n<p>YUI3YUIAOPAspect Oriented ProgrammingOOPObject Oriented Programming</p>\n<h3 id=\"EventTargetAttributeBase\"><a href=\"#EventTargetAttributeBase\" class=\"headerlink\" title=\"EventTargetAttributeBase\"></a>EventTargetAttributeBase</h3><p>EventTargetYUI3DOMEventTargetYUIEventTarget</p>\n<p>AttributeattributeAttribute</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// namenameChange</span></span><br><span class=\"line\"><span class=\"built_in\">this</span>.on(<span class=\"string\">&#x27;nameChange&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(e.newVal);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// name</span></span><br><span class=\"line\"><span class=\"built_in\">this</span>.set(<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;meituan&#x27;</span>); <span class=\"comment\">// output &#x27;meituan&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>attributeFormCheckerfields</p>\n<p>BaseC++JavaAttributeYUIBase</p>\n<p>FormCheckerLazyLoaderMap</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">FormChecker.prototype.initializer = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> form = <span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;form&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">this</span>._handle = form.on(<span class=\"string\">&#x27;submit&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// check fields</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">FormChecker.prototype.destructor = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">this</span>._handle.detach();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> checker = <span class=\"keyword\">new</span> FormChecker(&#123; <span class=\"attr\">form</span>: Y.one(<span class=\"string\">&#x27;#buy-form&#x27;</span>) &#125;);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">checker.destroy();</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ExtensionPlugin\"><a href=\"#ExtensionPlugin\" class=\"headerlink\" title=\"ExtensionPlugin\"></a>ExtensionPlugin</h3><p>ExtensionRubyMixinPlugin</p>\n<p>ExtensionPluginPluginYUI3WidgetPositionAlign</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Effect.fadeIn(nodeTip);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">nodeTip.plug(NodeEffect);</span><br><span class=\"line\">nodeTip.effect.fadeIn();</span><br></pre></td></tr></table></figure>\n\n<p>ExtensionPluginWidgetFullScreenDialogAutoAlignAsyncSearchNodeEffectOOP</p>\n<h3 id=\"Widget\"><a href=\"#Widget\" class=\"headerlink\" title=\"Widget\"></a>Widget</h3><p>WidgetBaseUI<code>renderUI</code><code>bindUI</code><code>syncUI</code><code>HTML_PARSER</code>HTMLDOMWidget</p>\n<p></p>\n<ul>\n<li><strong></strong>One Shot One Kill</li>\n<li><strong></strong>Demo</li>\n</ul>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// data-widgetdata-params</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">data-widget</span>=<span class=\"string\">&quot;bubbleTip&quot;</span> <span class=\"attr\">data-params</span>=<span class=\"string\">&#x27;&#123; &quot;tip&quot;: &quot;&quot; &#125;&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>30Widget</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3YUIComboCSSYUI3</p>\n<p> <strong></strong></p>\n<p>YUI3</p>\n<p>YUI3 <a href=\"http://fe.meituan.com/\">http://fe.meituan.com</a></p>\n","site":{"data":{}},"excerpt":"<p>2010201255YUI3YUI3</p>\n<h2 id=\"YUI3\"><a href=\"#YUI3\" class=\"headerlink\" title=\"YUI3\"></a>YUI3</h2><p>YUI2YUI2</p>\n<p>YUI3</p>\n<p>YUI3YUI3ExtJSDojojQueryYUI3YUI</p>\n<p>YUI3</p>\n<ul>\n<li>100YUI3</li>\n<li></li>\n<li></li>\n</ul>\n<p>YUI3YUI3</p>\n<p>YUI3</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CommonJSAMD2008813YUI3 Preview Release 1YUI2009929YUI3</p>\n<p>YUI3</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">YUI.add(<span class=\"string\">&#x27;greeting&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">\tY.sayHello = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Hello, world!&#x27;</span>);</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">YUI().use(<span class=\"string\">&#x27;greeting&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">Y</span>) </span>&#123;</span><br><span class=\"line\">\tY.sayHello(); <span class=\"comment\">// output &#x27;Hello, world!&#x27;</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>YUI3LoaderCombo</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong>Combo</li>\n<li><strong></strong>YUI</li>\n</ul>\n<center>\n  <img alt=\"\" src=\"/images/mt-fe-architecture.png\" />\n</center>\n\n<p>JS</p>\n<ol>\n<li><strong>YUI3</strong>API</li>\n<li><strong>ComponentWidget</strong>MYUI3PluginExtension</li>\n<li><strong></strong>www-basewww</li>\n<li><strong></strong>www-dealdealfinance-paymisc</li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>YUILoader</p>\n<p>YUI2YUI3PHPjsPHPhtml</p>\n<p>NodeJSjsGit Hooks</p>\n<p></p>\n<ul>\n<li><strong></strong>API</li>\n<li><strong></strong>Loader</li>\n</ul>\n<h3 id=\"Combo\"><a href=\"#Combo\" class=\"headerlink\" title=\"Combo\"></a>Combo</h3><p>ComboYahooComboYUI3ComboComboCDN</p>\n<p>Combo</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://c.meituan.net/combo/?f=mt-yui-core.v3.5.1.js;fecore/mt/js/base.js</span><br></pre></td></tr></table></figure>\n\n<p>minifyCombominifyComboCSSURI300PV</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3YUI3</p>\n<p>YUI3YUIAOPAspect Oriented ProgrammingOOPObject Oriented Programming</p>\n<h3 id=\"EventTargetAttributeBase\"><a href=\"#EventTargetAttributeBase\" class=\"headerlink\" title=\"EventTargetAttributeBase\"></a>EventTargetAttributeBase</h3><p>EventTargetYUI3DOMEventTargetYUIEventTarget</p>\n<p>AttributeattributeAttribute</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// namenameChange</span></span><br><span class=\"line\"><span class=\"built_in\">this</span>.on(<span class=\"string\">&#x27;nameChange&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(e.newVal);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// name</span></span><br><span class=\"line\"><span class=\"built_in\">this</span>.set(<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;meituan&#x27;</span>); <span class=\"comment\">// output &#x27;meituan&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>attributeFormCheckerfields</p>\n<p>BaseC++JavaAttributeYUIBase</p>\n<p>FormCheckerLazyLoaderMap</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">FormChecker.prototype.initializer = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> form = <span class=\"built_in\">this</span>.get(<span class=\"string\">&#x27;form&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">this</span>._handle = form.on(<span class=\"string\">&#x27;submit&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// check fields</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">FormChecker.prototype.destructor = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">this</span>._handle.detach();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> checker = <span class=\"keyword\">new</span> FormChecker(&#123; <span class=\"attr\">form</span>: Y.one(<span class=\"string\">&#x27;#buy-form&#x27;</span>) &#125;);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">checker.destroy();</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ExtensionPlugin\"><a href=\"#ExtensionPlugin\" class=\"headerlink\" title=\"ExtensionPlugin\"></a>ExtensionPlugin</h3><p>ExtensionRubyMixinPlugin</p>\n<p>ExtensionPluginPluginYUI3WidgetPositionAlign</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Effect.fadeIn(nodeTip);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">nodeTip.plug(NodeEffect);</span><br><span class=\"line\">nodeTip.effect.fadeIn();</span><br></pre></td></tr></table></figure>\n\n<p>ExtensionPluginWidgetFullScreenDialogAutoAlignAsyncSearchNodeEffectOOP</p>\n<h3 id=\"Widget\"><a href=\"#Widget\" class=\"headerlink\" title=\"Widget\"></a>Widget</h3><p>WidgetBaseUI<code>renderUI</code><code>bindUI</code><code>syncUI</code><code>HTML_PARSER</code>HTMLDOMWidget</p>\n<p></p>\n<ul>\n<li><strong></strong>One Shot One Kill</li>\n<li><strong></strong>Demo</li>\n</ul>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// data-widgetdata-params</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">data-widget</span>=<span class=\"string\">&quot;bubbleTip&quot;</span> <span class=\"attr\">data-params</span>=<span class=\"string\">&#x27;&#123; &quot;tip&quot;: &quot;&quot; &#125;&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>30Widget</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>YUI3YUIComboCSSYUI3</p>\n<p> <strong></strong></p>\n<p>YUI3</p>\n<p>YUI3 <a href=\"http://fe.meituan.com/\">http://fe.meituan.com</a></p>"},{"layout":"post","title":"Fire Fast","date":"2022-05-03T01:28:25.000Z","status":"publish","_content":"\n[](https://shangchun.net/hire-slow/)Hire slowfire fastfire fast\n\n\n\n\n\n##  fire \n\n fire \n\n\n1. \n  <p style=\"margin: 0 0 0.2rem 0\">\n  \n  \n  \n  </p>\n2. \n  <p style=\"margin: 0 0 0.2rem 0\">\n  \n  \n  </p>\n\n\n\n<!--more-->\n\n\n## Fire \n\n fire\n\n- \n- \n- \n\n\n\n fire \n\n\n\n fire \n Netflix \n\n\n\n\n\n\n## \n\n\n\n- \n\n\n\n\n Jon Snow \n\n\n\n\n\n## \n\n fire \n[](https://shangchun.net/recruitment-driven-organization/)\n\n> \n\n\n\n## \n\nHire slow, fire fast\" \n","source":"_posts/fire-fast.md","raw":"---\nlayout: post\ntitle: \"Fire Fast\"\ndate: 2022-05-03 09:28:25\nstatus: publish\ntags:\n  - Recruitment\n  - Organization\n---\n\n[](https://shangchun.net/hire-slow/)Hire slowfire fastfire fast\n\n\n\n\n\n##  fire \n\n fire \n\n\n1. \n  <p style=\"margin: 0 0 0.2rem 0\">\n  \n  \n  \n  </p>\n2. \n  <p style=\"margin: 0 0 0.2rem 0\">\n  \n  \n  </p>\n\n\n\n<!--more-->\n\n\n## Fire \n\n fire\n\n- \n- \n- \n\n\n\n fire \n\n\n\n fire \n Netflix \n\n\n\n\n\n\n## \n\n\n\n- \n\n\n\n\n Jon Snow \n\n\n\n\n\n## \n\n fire \n[](https://shangchun.net/recruitment-driven-organization/)\n\n> \n\n\n\n## \n\nHire slow, fire fast\" \n","slug":"fire-fast","published":1,"updated":"2022-05-03T03:59:49.290Z","_id":"cl2plges60000x88551ie2r26","comments":1,"photos":[],"link":"","content":"<p><a href=\"https://shangchun.net/hire-slow/\"></a>Hire slowfire fastfire fast</p>\n<p>\n</p>\n<h2 id=\"-fire-\"><a href=\"#-fire-\" class=\"headerlink\" title=\" fire \"></a> fire </h2><p> fire \n</p>\n<ol>\n<li><p style=\"margin: 0 0 0.2rem 0\">\n\n\n\n</p></li>\n<li><p style=\"margin: 0 0 0.2rem 0\">\n\n\n</p></li>\n</ol>\n<p></p>\n<span id=\"more\"></span>\n\n\n<h2 id=\"Fire-\"><a href=\"#Fire-\" class=\"headerlink\" title=\"Fire \"></a>Fire </h2><p> fire</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>\n\n fire \n\n</p>\n<p> fire \n Netflix \n</p>\n<p>\n</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n</ul>\n<p>\n</p>\n<p> Jon Snow \n</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> fire \n<a href=\"https://shangchun.net/recruitment-driven-organization/\"></a></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Hire slow, fire fast </p>\n","site":{"data":{}},"excerpt":"<p><a href=\"https://shangchun.net/hire-slow/\"></a>Hire slowfire fastfire fast</p>\n<p>\n</p>\n<h2 id=\"-fire-\"><a href=\"#-fire-\" class=\"headerlink\" title=\" fire \"></a> fire </h2><p> fire \n</p>\n<ol>\n<li><p style=\"margin: 0 0 0.2rem 0\">\n\n\n\n</p></li>\n<li><p style=\"margin: 0 0 0.2rem 0\">\n\n\n</p></li>\n</ol>\n<p></p>","more":"<h2 id=\"Fire-\"><a href=\"#Fire-\" class=\"headerlink\" title=\"Fire \"></a>Fire </h2><p> fire</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>\n\n fire \n\n</p>\n<p> fire \n Netflix \n</p>\n<p>\n</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li></li>\n</ul>\n<p>\n</p>\n<p> Jon Snow \n</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> fire \n<a href=\"https://shangchun.net/recruitment-driven-organization/\"></a></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Hire slow, fire fast </p>"},{"layout":"post","title":" React Query","date":"2022-06-05T08:25:19.000Z","status":"publish","_content":"\n [ React Query](https://zhuanlan.zhihu.com/p/522609991) \n","source":"_posts/react-query.md","raw":"---\nlayout: post\ntitle: \" React Query\"\ndate: 2022-06-05 16:25:19\nstatus: publish\ntags: [React Query, React]\n---\n\n [ React Query](https://zhuanlan.zhihu.com/p/522609991) \n","slug":"react-query","published":1,"updated":"2022-06-27T00:54:40.679Z","comments":1,"photos":[],"link":"","_id":"cl4w135nx0000od85cqwag3vt","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/522609991\"> React Query</a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/522609991\"> React Query</a> </p>\n"},{"layout":"post","title":"","date":"2022-07-05T13:06:17.000Z","status":"publish","_content":"\n\n\n\n Multiplier\n\n\n## \n\n> If you want to build a shipdon't drum up people to collect wood and don't assign them tasks and work, but rather long for the endless immensity of sea.\n> \n\n\n\n1. \n2. \n3. \n \n<!--more-->\n\n\n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n\n****\n\n\n## \n\n\n\n\n\n- \n-  ->  ->  -> \n- \n\n Tubi Talent Time \n\n\n****\n\n\n## \n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n****\n\n\n## \n\n\n\n\n\n","source":"_posts/management-lever.md","raw":"---\nlayout: post\ntitle: \ndate: 2022-07-05 21:06:17\nstatus: publish\ntags: [Management, Lever]\n---\n\n\n\n\n Multiplier\n\n\n## \n\n> If you want to build a shipdon't drum up people to collect wood and don't assign them tasks and work, but rather long for the endless immensity of sea.\n> \n\n\n\n1. \n2. \n3. \n \n<!--more-->\n\n\n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n\n****\n\n\n## \n\n\n\n\n\n- \n-  ->  ->  -> \n- \n\n Tubi Talent Time \n\n\n****\n\n\n## \n\n\n\n\n\n\n\n- \n- \n- \n\n\n\n****\n\n\n## \n\n\n\n\n\n","slug":"management-lever","published":1,"updated":"2022-08-13T01:52:17.954Z","_id":"cl6r86mkw0000fcei7ptx3asi","comments":1,"photos":[],"link":"","content":"<p>\n</p>\n<p> Multiplier\n</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>If you want to build a shipdont drum up people to collect wood and dont assign them tasks and work, but rather long for the endless immensity of sea.\n</p>\n</blockquote>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<span id=\"more\"></span>\n\n<p>\n\n</p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p>\n<strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ul>\n<li></li>\n<li> -&gt;  -&gt;  -&gt; </li>\n<li></li>\n</ul>\n<p> Tubi Talent Time \n</p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>\n\n\n</p>\n","site":{"data":{}},"excerpt":"<p>\n</p>\n<p> Multiplier\n</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p>If you want to build a shipdont drum up people to collect wood and dont assign them tasks and work, but rather long for the endless immensity of sea.\n</p>\n</blockquote>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>","more":"<p>\n\n</p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p>\n<strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ul>\n<li></li>\n<li> -&gt;  -&gt;  -&gt; </li>\n<li></li>\n</ul>\n<p> Tubi Talent Time \n</p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>\n\n\n</p>"},{"layout":"post","title":"","date":"2023-05-30T13:50:00.000Z","status":"publish","_content":"\n\n\n\n\n\n- \n- \n- \n\n Problem Maker\n\n Problem Solver\n\n\n\n\n## \n\n\n\n React Query React Query Redux  React Query  SWR React Query  SWR \n\n\n## \n\n\n\n xxxyyyzzz \n\n xxxyyyzzz  groupBy \n\n\n\n\n\n\n\n\n## \n\n ChatGPT  PoC \n\n\n\n\n## \n\n\n\n\n## \n\n- [](https://36kr.com/p/1953327724501128)\n- [](https://www.woshipm.com/zhichang/4239783.html)\n- [ - ](https://www.niaogebiji.com/article-33854-1.html)\n- [](http://cripac.ia.ac.cn/people/wwang/post/how-to-ask-questions-the-smart-way/)\n- [](https://wenku.baidu.com/view/a8de92b352e79b89680203d8ce2f0066f5336483.html)\n","source":"_posts/ask-with-answers.md","raw":"---\nlayout: post\ntitle: \ndate: 2023-05-30 21:50:00\nstatus: publish\ntags:\n  - Communication\n  - Asking\n---\n\n\n\n\n\n\n- \n- \n- \n\n Problem Maker\n\n Problem Solver\n\n\n\n\n## \n\n\n\n React Query React Query Redux  React Query  SWR React Query  SWR \n\n\n## \n\n\n\n xxxyyyzzz \n\n xxxyyyzzz  groupBy \n\n\n\n\n\n\n\n\n## \n\n ChatGPT  PoC \n\n\n\n\n## \n\n\n\n\n## \n\n- [](https://36kr.com/p/1953327724501128)\n- [](https://www.woshipm.com/zhichang/4239783.html)\n- [ - ](https://www.niaogebiji.com/article-33854-1.html)\n- [](http://cripac.ia.ac.cn/people/wwang/post/how-to-ask-questions-the-smart-way/)\n- [](https://wenku.baidu.com/view/a8de92b352e79b89680203d8ce2f0066f5336483.html)\n","slug":"ask-with-answers","published":1,"updated":"2023-05-30T14:16:57.616Z","_id":"clhgbdskr000059mael2ybdhi","comments":1,"photos":[],"link":"","content":"<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> Problem Maker</p>\n<p> Problem Solver</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> React Query React Query Redux  React Query  SWR React Query  SWR </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> xxxyyyzzz </p>\n<p> xxxyyyzzz  groupBy </p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ChatGPT  PoC </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://36kr.com/p/1953327724501128\"></a></li>\n<li><a href=\"https://www.woshipm.com/zhichang/4239783.html\"></a></li>\n<li><a href=\"https://www.niaogebiji.com/article-33854-1.html\"> - </a></li>\n<li><a href=\"http://cripac.ia.ac.cn/people/wwang/post/how-to-ask-questions-the-smart-way/\"></a></li>\n<li><a href=\"https://wenku.baidu.com/view/a8de92b352e79b89680203d8ce2f0066f5336483.html\"></a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p> Problem Maker</p>\n<p> Problem Solver</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> React Query React Query Redux  React Query  SWR React Query  SWR </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> xxxyyyzzz </p>\n<p> xxxyyyzzz  groupBy </p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ChatGPT  PoC </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://36kr.com/p/1953327724501128\"></a></li>\n<li><a href=\"https://www.woshipm.com/zhichang/4239783.html\"></a></li>\n<li><a href=\"https://www.niaogebiji.com/article-33854-1.html\"> - </a></li>\n<li><a href=\"http://cripac.ia.ac.cn/people/wwang/post/how-to-ask-questions-the-smart-way/\"></a></li>\n<li><a href=\"https://wenku.baidu.com/view/a8de92b352e79b89680203d8ce2f0066f5336483.html\"></a></li>\n</ul>\n"},{"layout":"post","title":" Context  React ","date":"2023-03-09T01:12:00.000Z","status":"publish","_content":"\n [ Context  React ](https://zhuanlan.zhihu.com/p/607970423) \n","source":"_posts/react-context.md","raw":"---\nlayout: post\ntitle: \" Context  React \"\ndate: 2023-03-09 09:12\nstatus: publish\ntags: [React, Context, useContextSelector]\n---\n\n [ Context  React ](https://zhuanlan.zhihu.com/p/607970423) \n","slug":"react-context","published":1,"updated":"2023-05-30T14:40:42.936Z","comments":1,"photos":[],"link":"","_id":"cliadyvpj0000qfmacexv5cnh","content":"<p> <a href=\"https://zhuanlan.zhihu.com/p/607970423\"> Context  React </a> </p>\n","site":{"data":{}},"excerpt":"","more":"<p> <a href=\"https://zhuanlan.zhihu.com/p/607970423\"> Context  React </a> </p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cl1klgup100018e853wvtdzqz","tag_id":"cl1klgup600038e85d0jpagls","_id":"cl1klgupf000c8e85a0xjc85w"},{"post_id":"cl1klgup100018e853wvtdzqz","tag_id":"cl1klgup900078e85g8bzcbwn","_id":"cl1klguph000e8e856xwv36vl"},{"post_id":"cl1klgup400028e85bpac6xtr","tag_id":"cl1klgup600038e85d0jpagls","_id":"cl1klgupj000k8e85ctmcfuph"},{"post_id":"cl1klgup400028e85bpac6xtr","tag_id":"cl1klguph000f8e855bd99uii","_id":"cl1klgupk000m8e8523xm1p9o"},{"post_id":"cl1klgup700048e854aa60cuj","tag_id":"cl1klgupi000i8e85dl386jvy","_id":"cl1klgupp000w8e854jhqhbjx"},{"post_id":"cl1klgup700048e854aa60cuj","tag_id":"cl1klgupk000n8e85gtvc5fe9","_id":"cl1klgupp000y8e856fd95jub"},{"post_id":"cl1klgup700048e854aa60cuj","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klgupq00118e8515swhg8b"},{"post_id":"cl1klgup800058e8527pzb6at","tag_id":"cl1klgupo000u8e851ano4jd3","_id":"cl1klgupt00188e8577yge9ox"},{"post_id":"cl1klgup800058e8527pzb6at","tag_id":"cl1klgupp000z8e859zr03e53","_id":"cl1klgupt001a8e85f2ne4rcy"},{"post_id":"cl1klgup800058e8527pzb6at","tag_id":"cl1klgupq00138e853xck8oov","_id":"cl1klgupu001d8e85gsife0rg"},{"post_id":"cl1klgup900068e852o73d2x5","tag_id":"cl1klgupr00178e8581vwbpk6","_id":"cl1klgupu001f8e85clbh7rav"},{"post_id":"cl1klgupa00088e857bp81ncu","tag_id":"cl1klgupt001c8e8547fg8ojg","_id":"cl1klgupw001m8e858bs0cugm"},{"post_id":"cl1klgupa00088e857bp81ncu","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klgupw001o8e85gis07y6t"},{"post_id":"cl1klgupw001q8e850gz4dlzg","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klgupx001s8e851cucdrqg"},{"post_id":"cl1klgupx001r8e850b7ocwk7","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klgupx001v8e8537ir8cug"},{"post_id":"cl1klgupx001r8e850b7ocwk7","tag_id":"cl1klgupw001p8e855clb3uhu","_id":"cl1klgupy001w8e85bh0laerd"},{"post_id":"cl1klgupx001r8e850b7ocwk7","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klgupy001y8e85byf87zg2"},{"post_id":"cl1klgupb00098e85htfeay0o","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klgupy001z8e850xtvhjyu"},{"post_id":"cl1klgupb00098e85htfeay0o","tag_id":"cl1klgupw001p8e855clb3uhu","_id":"cl1klgupy00218e850ycc7ey5"},{"post_id":"cl1klgupb00098e85htfeay0o","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klgupy00228e85hkwr4xjo"},{"post_id":"cl1klgupe000b8e85bh9f4lyu","tag_id":"cl1klgupw001p8e855clb3uhu","_id":"cl1klgupy00248e859dz2bqeq"},{"post_id":"cl1klgupf000d8e85h32qf2h5","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klgupz00278e856sel550j"},{"post_id":"cl1klgupf000d8e85h32qf2h5","tag_id":"cl1klgupw001p8e855clb3uhu","_id":"cl1klgupz00288e857yj71sln"},{"post_id":"cl1klgupf000d8e85h32qf2h5","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klgupz002a8e85hrcy26f7"},{"post_id":"cl1klguph000g8e85er5e0m55","tag_id":"cl1klgupz00268e85ffk3hjy6","_id":"cl1klguq0002c8e8515csb0nj"},{"post_id":"cl1klguph000g8e85er5e0m55","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klguq0002d8e850i659oco"},{"post_id":"cl1klgupi000h8e853bu5a8nf","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klguq2002h8e85gguw3yv6"},{"post_id":"cl1klgupi000h8e853bu5a8nf","tag_id":"cl1klguq0002e8e853xgk3cma","_id":"cl1klguq2002i8e85er8fc0xe"},{"post_id":"cl1klgupi000h8e853bu5a8nf","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klguq2002k8e85cuaz3f3i"},{"post_id":"cl1klgupj000j8e855q0wfyai","tag_id":"cl1klguq2002g8e850t4h1jp4","_id":"cl1klguq3002p8e8509bl55rx"},{"post_id":"cl1klgupj000j8e855q0wfyai","tag_id":"cl1klguq2002j8e852g3r4jg1","_id":"cl1klguq3002q8e8573m1gxr1"},{"post_id":"cl1klgupj000j8e855q0wfyai","tag_id":"cl1klguq2002l8e8589qqfivq","_id":"cl1klguq3002s8e85h2xe8dav"},{"post_id":"cl1klgupj000j8e855q0wfyai","tag_id":"cl1klguq2002m8e85b29a9v4y","_id":"cl1klguq3002t8e85bvk6263b"},{"post_id":"cl1klgupj000j8e855q0wfyai","tag_id":"cl1klgupq00138e853xck8oov","_id":"cl1klguq3002v8e8530dk1s7z"},{"post_id":"cl1klgupj000l8e85b57860j0","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klguq4002x8e853uv7gaqg"},{"post_id":"cl1klgupj000l8e85b57860j0","tag_id":"cl1klgupw001p8e855clb3uhu","_id":"cl1klguq4002y8e850gsj5gmm"},{"post_id":"cl1klgupj000l8e85b57860j0","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klguq400308e85h1ice128"},{"post_id":"cl1klgupk000o8e85gl3a7hsn","tag_id":"cl1klguq3002w8e85630bg24s","_id":"cl1klguq400348e858haw8g5h"},{"post_id":"cl1klgupk000o8e85gl3a7hsn","tag_id":"cl1klguq4002z8e8585xj2lmu","_id":"cl1klguq400358e853didhafc"},{"post_id":"cl1klgupk000o8e85gl3a7hsn","tag_id":"cl1klguq400318e8500a4cb90","_id":"cl1klguq400378e855ovpb7s8"},{"post_id":"cl1klgupk000o8e85gl3a7hsn","tag_id":"cl1klguq400328e851cl5blbm","_id":"cl1klguq500388e85c8720727"},{"post_id":"cl1klgupl000p8e854cfq5w0p","tag_id":"cl1klgupo000u8e851ano4jd3","_id":"cl1klguq5003b8e85ckaqg5u6"},{"post_id":"cl1klgupl000p8e854cfq5w0p","tag_id":"cl1klguq400368e854e8p8xqb","_id":"cl1klguq5003c8e859o7m12sj"},{"post_id":"cl1klgupl000p8e854cfq5w0p","tag_id":"cl1klguq500398e85c8yo8x3f","_id":"cl1klguq5003e8e8523j82atu"},{"post_id":"cl1klgupl000q8e85e1rk0lh1","tag_id":"cl1klguq5003a8e8540l2fcmr","_id":"cl1klguq6003g8e85bjibfjcz"},{"post_id":"cl1klgupl000q8e85e1rk0lh1","tag_id":"cl1klguq5003d8e85a1pn8swp","_id":"cl1klguq6003h8e85gwrtb3fg"},{"post_id":"cl1klgupm000s8e85doqv6ewz","tag_id":"cl1klgupo000u8e851ano4jd3","_id":"cl1klguq6003l8e85cizmb68x"},{"post_id":"cl1klgupm000s8e85doqv6ewz","tag_id":"cl1klguq400368e854e8p8xqb","_id":"cl1klguq6003m8e8537sdf337"},{"post_id":"cl1klgupm000s8e85doqv6ewz","tag_id":"cl1klguq500398e85c8yo8x3f","_id":"cl1klguq7003o8e854ii0f1ho"},{"post_id":"cl1klgupm000t8e85a5gwhkir","tag_id":"cl1klguq6003k8e85cx8fd55j","_id":"cl1klguq9003r8e852bio9mju"},{"post_id":"cl1klgupm000t8e85a5gwhkir","tag_id":"cl1klguq6003n8e855ik19woa","_id":"cl1klguq9003s8e85fert1sel"},{"post_id":"cl1klgupm000t8e85a5gwhkir","tag_id":"cl1klguq7003p8e8526j10oi5","_id":"cl1klguq9003u8e858c3z425w"},{"post_id":"cl1klgupo000v8e85ae5a4pdp","tag_id":"cl1klguq8003q8e85gm5q4jte","_id":"cl1klguq9003v8e85ghu3240j"},{"post_id":"cl1klgupp000x8e85efwm556p","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klguq9003z8e85humq5qqq"},{"post_id":"cl1klgupp000x8e85efwm556p","tag_id":"cl1klguq9003t8e85av6a7s5d","_id":"cl1klguq900408e853tms3be3"},{"post_id":"cl1klgupp000x8e85efwm556p","tag_id":"cl1klguq9003w8e8524yteb0g","_id":"cl1klguq900428e85fkuj28lx"},{"post_id":"cl1klgupp000x8e85efwm556p","tag_id":"cl1klguq9003x8e857geh6q6a","_id":"cl1klguq900438e854zssaggd"},{"post_id":"cl1klgupp00108e85ewfzblzj","tag_id":"cl1klguq9003y8e858zdk93dp","_id":"cl1klguqa00468e85f4rx0szp"},{"post_id":"cl1klgupp00108e85ewfzblzj","tag_id":"cl1klguq900418e8554va7w3l","_id":"cl1klguqa00478e851cvr32n4"},{"post_id":"cl1klgupp00108e85ewfzblzj","tag_id":"cl1klguq900448e85ehk62qwz","_id":"cl1klguqa00498e855w3s8553"},{"post_id":"cl1klgupq00128e85aocl9sif","tag_id":"cl1klgupo000u8e851ano4jd3","_id":"cl1klguqa004a8e85grvr93ur"},{"post_id":"cl1klgupq00128e85aocl9sif","tag_id":"cl1klguqa00458e855wor7vbl","_id":"cl1klguqb004c8e8512523o6o"},{"post_id":"cl1klgupq00148e85f3wr8c3b","tag_id":"cl1klgupq00138e853xck8oov","_id":"cl1klguqb004e8e851gdbb8wa"},{"post_id":"cl1klgupq00148e85f3wr8c3b","tag_id":"cl1klguqa00458e855wor7vbl","_id":"cl1klguqb004f8e85aesw8xmq"},{"post_id":"cl1klgupq00148e85f3wr8c3b","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klguqb004h8e85c6sw0gj9"},{"post_id":"cl1klgupr00158e85hfgo91we","tag_id":"cl1klguq9003y8e858zdk93dp","_id":"cl1klguqb004k8e85h5832lje"},{"post_id":"cl1klgupr00158e85hfgo91we","tag_id":"cl1klguqb004g8e850e501ofp","_id":"cl1klguqb004l8e85cij33qs3"},{"post_id":"cl1klgupr00158e85hfgo91we","tag_id":"cl1klguqb004i8e85eorshfsd","_id":"cl1klguqc004n8e858sz19maf"},{"post_id":"cl1klgupr00168e85a8sz2i4n","tag_id":"cl1klguqb004j8e850ils1dwk","_id":"cl1klguqc004p8e85c5o07yka"},{"post_id":"cl1klgupr00168e85a8sz2i4n","tag_id":"cl1klguqb004m8e851syxcs88","_id":"cl1klguqc004q8e85cln88j3d"},{"post_id":"cl1klgupt00198e8578wd71h8","tag_id":"cl1klguq5003a8e8540l2fcmr","_id":"cl1klguqd004t8e854oic91no"},{"post_id":"cl1klgupt00198e8578wd71h8","tag_id":"cl1klguq5003d8e85a1pn8swp","_id":"cl1klguqd004u8e855rgd2ve2"},{"post_id":"cl1klgupt001b8e85huarb063","tag_id":"cl1klguqc004s8e850pnz5m3n","_id":"cl1klguqf004x8e855x31h9tv"},{"post_id":"cl1klgupt001b8e85huarb063","tag_id":"cl1klguqd004v8e853w7wdeh3","_id":"cl1klguqf004y8e859dbm4j3e"},{"post_id":"cl1klgupu001e8e85dwqoh1hu","tag_id":"cl1klguqf004w8e85gy0l7kd3","_id":"cl1klguqg00518e854dhahbce"},{"post_id":"cl1klgupu001e8e85dwqoh1hu","tag_id":"cl1klguqf004z8e850uam12lb","_id":"cl1klguqg00528e857d74bz6n"},{"post_id":"cl1klgupu001g8e85ct009jv8","tag_id":"cl1klguqf004w8e85gy0l7kd3","_id":"cl1klguqg00558e85hhl4fw65"},{"post_id":"cl1klgupu001g8e85ct009jv8","tag_id":"cl1klguqf004z8e850uam12lb","_id":"cl1klguqg00568e85645n5hm5"},{"post_id":"cl1klgupu001i8e85brse155x","tag_id":"cl1klguqg00548e85a2xacjnl","_id":"cl1klguqh00598e855bd1heif"},{"post_id":"cl1klgupu001i8e85brse155x","tag_id":"cl1klguqg00578e85fbn1f5li","_id":"cl1klguqh005a8e85dekc707r"},{"post_id":"cl1klgupu001i8e85brse155x","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klguqh005c8e854eno3g72"},{"post_id":"cl1klgupv001j8e85c5nwc2ok","tag_id":"cl1klguqg00588e8542125gak","_id":"cl1klguqh005d8e857sq83mz6"},{"post_id":"cl1klgupv001l8e857vjp6bv8","tag_id":"cl1klguqh005b8e85g9saay8v","_id":"cl1klguqi005g8e85dfmt25x1"},{"post_id":"cl1klgupv001l8e857vjp6bv8","tag_id":"cl1klguqh005e8e85gw598f9v","_id":"cl1klguqi005h8e85g8g2a8l2"},{"post_id":"cl1klgupw001n8e85elwqebpi","tag_id":"cl1klguqi005f8e85d8440555","_id":"cl1klguqi005l8e85d3bt0nt6"},{"post_id":"cl1klgupw001n8e85elwqebpi","tag_id":"cl1klguqi005i8e85aewpcn17","_id":"cl1klguqi005m8e8566tv6qq6"},{"post_id":"cl1klgupw001n8e85elwqebpi","tag_id":"cl1klguqi005j8e853zxl0umk","_id":"cl1klguqi005n8e85fqibe24w"},{"post_id":"cl1klgupx001t8e85crkb8vli","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klguqi005o8e8503r0dvwk"},{"post_id":"cl1klgupx001t8e85crkb8vli","tag_id":"cl1klguqg00578e85fbn1f5li","_id":"cl1klguqj005p8e858we4hmg8"},{"post_id":"cl1klguqn005q8e8523wveq4y","tag_id":"cl1klgupu001h8e8540yjfdd0","_id":"cl1klguqp005s8e8565xqgff3"},{"post_id":"cl1klguqn005q8e8523wveq4y","tag_id":"cl1klguqp005r8e854o0jegap","_id":"cl1klguqp005t8e85a8f79alz"},{"post_id":"cl1klguqn005q8e8523wveq4y","tag_id":"cl1klgupl000r8e852zeobo2j","_id":"cl1klguqq005u8e852jcl42bi"},{"post_id":"cl2plges60000x88551ie2r26","tag_id":"cl1klguq5003a8e8540l2fcmr","_id":"cl2plgesb0001x8854n1q6zh2"},{"post_id":"cl2plges60000x88551ie2r26","tag_id":"cl1klguq5003d8e85a1pn8swp","_id":"cl2plgesb0002x885eh1l6o5k"},{"post_id":"cl4w135nx0000od85cqwag3vt","tag_id":"cl4w135o20001od85e0dz9fpx","_id":"cl4w135oa0002od856nf1dy6q"},{"post_id":"cl4w135nx0000od85cqwag3vt","tag_id":"cl1klguq9003y8e858zdk93dp","_id":"cl4w135oa0003od85ck1oh8rt"},{"post_id":"cl6r86mkw0000fcei7ptx3asi","tag_id":"cl6r86ml00001fcei6ahu1bdv","_id":"cl6r86ml90003fcei3ro33dgd"},{"post_id":"cl6r86mkw0000fcei7ptx3asi","tag_id":"cl6r86ml90002fceig5udh4t0","_id":"cl6r86mla0004fceibscf0yfs"},{"post_id":"clhgbdskr000059mael2ybdhi","tag_id":"cliace909000011ma2nf92bf9","_id":"cliace90j000211ma1jkc52lt"},{"post_id":"clhgbdskr000059mael2ybdhi","tag_id":"cliace90h000111ma6ot8fyx9","_id":"cliace90j000311ma7zoc22u9"},{"post_id":"cliadyvpj0000qfmacexv5cnh","tag_id":"cl1klguq9003y8e858zdk93dp","_id":"cliadyvpx0003qfma31ezgjdx"},{"post_id":"cliadyvpj0000qfmacexv5cnh","tag_id":"cliadyvpn0001qfma9tu8e02a","_id":"cliadyvpx0004qfmaay4g18yu"},{"post_id":"cliadyvpj0000qfmacexv5cnh","tag_id":"cliadyvpv0002qfma08kchyh3","_id":"cliadyvpx0005qfmahvz88tk0"}],"Tag":[{"name":"Self","_id":"cl1klgup600038e85d0jpagls"},{"name":"Life","_id":"cl1klgup900078e85g8bzcbwn"},{"name":"Metro","_id":"cl1klguph000f8e855bd99uii"},{"name":"BitwiseNOT","_id":"cl1klgupi000i8e85dl386jvy"},{"name":"LogicalNOT","_id":"cl1klgupk000n8e85gtvc5fe9"},{"name":"JavaScript","_id":"cl1klgupl000r8e852zeobo2j"},{"name":"Functional Programming","_id":"cl1klgupo000u8e851ano4jd3"},{"name":"Continuation","_id":"cl1klgupp000z8e859zr03e53"},{"name":"Promise","_id":"cl1klgupq00138e853xck8oov"},{"name":"Programming","_id":"cl1klgupr00178e8581vwbpk6"},{"name":"Y.delegate","_id":"cl1klgupt001c8e8547fg8ojg"},{"name":"YUI","_id":"cl1klgupu001h8e8540yjfdd0"},{"name":"Event","_id":"cl1klgupw001p8e855clb3uhu"},{"name":"Y.Event","_id":"cl1klgupz00268e85ffk3hjy6"},{"name":"OOP","_id":"cl1klguq0002e8e853xgk3cma"},{"name":"FrontEnd","_id":"cl1klguq2002g8e850t4h1jp4"},{"name":"Pipeline","_id":"cl1klguq2002j8e852g3r4jg1"},{"name":"Middleware","_id":"cl1klguq2002l8e8589qqfivq"},{"name":"Stream","_id":"cl1klguq2002m8e85b29a9v4y"},{"name":"front-end","_id":"cl1klguq3002w8e85630bg24s"},{"name":"component","_id":"cl1klguq4002z8e8585xj2lmu"},{"name":"reduce","_id":"cl1klguq400318e8500a4cb90"},{"name":"turbo","_id":"cl1klguq400328e851cl5blbm"},{"name":"Functional Reactive Programming","_id":"cl1klguq400368e854e8p8xqb"},{"name":"RxJS","_id":"cl1klguq500398e85c8yo8x3f"},{"name":"Recruitment","_id":"cl1klguq5003a8e8540l2fcmr"},{"name":"Organization","_id":"cl1klguq5003d8e85a1pn8swp"},{"name":"Closure","_id":"cl1klguq6003k8e85cx8fd55j"},{"name":"Execution Context","_id":"cl1klguq6003n8e855ik19woa"},{"name":"Prototype Chain","_id":"cl1klguq7003p8e8526j10oi5"},{"name":"Interview","_id":"cl1klguq8003q8e85gm5q4jte"},{"name":"Linter","_id":"cl1klguq9003t8e85av6a7s5d"},{"name":"ESLint","_id":"cl1klguq9003w8e8524yteb0g"},{"name":"JSLint","_id":"cl1klguq9003x8e857geh6q6a"},{"name":"React","_id":"cl1klguq9003y8e858zdk93dp"},{"name":"Virtual DOM","_id":"cl1klguq900418e8554va7w3l"},{"name":"Fiber","_id":"cl1klguq900448e85ehk62qwz"},{"name":"Monad","_id":"cl1klguqa00458e855wor7vbl"},{"name":"Hooks","_id":"cl1klguqb004g8e850e501ofp"},{"name":"Web","_id":"cl1klguqb004i8e85eorshfsd"},{"name":"try-cacth","_id":"cl1klguqb004j8e850ils1dwk"},{"name":"onerror","_id":"cl1klguqb004m8e851syxcs88"},{"name":"Series","_id":"cl1klguqc004s8e850pnz5m3n"},{"name":"Review","_id":"cl1klguqd004v8e853w7wdeh3"},{"name":"TypeScript","_id":"cl1klguqf004w8e85gy0l7kd3"},{"name":"Type System","_id":"cl1klguqf004z8e850uam12lb"},{"name":"W3CTech","_id":"cl1klguqg00548e85a2xacjnl"},{"name":"Meituan","_id":"cl1klguqg00578e85fbn1f5li"},{"name":"This","_id":"cl1klguqg00588e8542125gak"},{"name":"Instanceof","_id":"cl1klguqh005b8e85g9saay8v"},{"name":"Scope-safe Constructor","_id":"cl1klguqh005e8e85gw598f9v"},{"name":"YUI2","_id":"cl1klguqi005f8e85d8440555"},{"name":"domready","_id":"cl1klguqi005i8e85aewpcn17"},{"name":"load","_id":"cl1klguqi005j8e853zxl0umk"},{"name":"Framework","_id":"cl1klguqp005r8e854o0jegap"},{"name":"React Query","_id":"cl4w135o20001od85e0dz9fpx"},{"name":"Management","_id":"cl6r86ml00001fcei6ahu1bdv"},{"name":"Lever","_id":"cl6r86ml90002fceig5udh4t0"},{"name":"Communication","_id":"cliace909000011ma2nf92bf9"},{"name":"Asking","_id":"cliace90h000111ma6ot8fyx9"},{"name":"Context","_id":"cliadyvpn0001qfma9tu8e02a"},{"name":"useContextSelector","_id":"cliadyvpv0002qfma08kchyh3"}]}}