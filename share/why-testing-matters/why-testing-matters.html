<!DOCTYPE html><html>  <head>    <title>Why Testing Matters</title>    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>    <script src="https://github.com/downloads/gnab/remark/remark-0.4.2.min.js" type="text/javascript">      {"highlightStyle": "monokai",       "highlightLanguage": "javascript" }    </script>    <style type="text/css" media="screen">      @import url(http://fonts.googleapis.com/css?family=Ubuntu:400,500);      @import url(http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);      body {         font-family: 'Ubuntu';        font-weight: 400;      }      h1, h2, h3 {        font-family: 'Yanone Kaffeesatz';        font-weight: 400;        margin: 5px;      }      h1 { font-size: 4em; }      h2 { font-size: 2.3em; }      h3 { font-size: 1.6em; }      body { font-size: 1.5em; }      .slide .content {        padding: 10px 50px !important;      }      #slideshow .no-highlight {        font-size: 1em !important;      }      #slideshow .slide .content pre {        text-align: left;      }      #slideshow .slide .content pre .javascript {          opacity: 1;      }      blockquote {        font-style: italic;        margin: 0.25em 0;        padding: 0.25em 40px;        line-height: 1.45;        position: relative;      }      code {        -moz-border-radius: 5px;        -web-border-radius: 5px;        background: #e7e8e2;        border-radius: 5px;      }      .inverse {        background: #A60A17;      }    </style>  </head>  <body>    <textarea id="source">name: inverseclass: center, middlelayout: true---# Why Testing Matters### 尚春@美团---## 时间去哪儿了？---## 做Ticket的时间分布![ticket time distribution](ticket-time.png)--### 功能测试### UI兼容性测试### 改进代码，重复上述测试--## ~20%---## 做功能的时间分布![feature time distribution](feature-time.png)### 功能测试### UI兼容性测试### **回归测试**### 改进代码，重复上述测试--关键：这些测试都是 **人肉** 完成的---![iceberg](iceberg.png)---## 问题--### 效率低 - 靠人工，速度慢### 结果差 - CaseStudy、线上事故记录--当前的主要矛盾是：**不断增长的业务复杂度和落后的质量保障之间的矛盾**---# 怎么破？--# Testing -&gt; Workflow ---# 自动化测试的好处 ?---# 契约实体化```javascripttest("jQuery.isEmptyObject", function(){    expect(2);    equal(true, jQuery.isEmptyObject({}),        "isEmptyObject on empty object literal");    equal(false, jQuery.isEmptyObject({a:1}),         "isEmptyObject on non-empty object literal");});```测试中包含每一个约定的feature---# 效率DRY，让机器去做它擅长的事情---# 方便Debug迅速定位出问题的上下文---# 产出优质代码迫使交付接口定义良好、功能解耦的代码否则很难进行测试---# 信心当测试全部通过时，证明能够交付符合契约的功能可以去磨杯咖啡，然后思考人生的意义了~---## 自动化测试的内容### 单元测试 - 适用于fe.core等核心模块### 端到端测试 - 适用于前端组件、控件### 系统测试 - 适用于核心流程---## 整合到工作流## Stash + Jenkins![workflow](workflow.png)---![stash pr](stash-pr.png)--## Comming Soon---# Future - TDD--![TDD flowchart](Test-driven_development.png)---# One More Thing### Testing的目标是## 提高工程生产力---## 参考### [How Google Tests Software](http://googletesting.blogspot.com/2011/01/how-google-tests-software.html)### [Why Testing Matters in Agile Projects](http://www.infoq.com/articles/why-testing-matters-agile)### [Test-driven development](http://en.wikipedia.org/wiki/Test-driven_development)### [Jenkins and GitHub by Hiroki HIROCASTER OHTSUKA](https://speakerdeck.com/hirocaster/jenkins-and-github)    </textarea>    <div id="slideshow"></div>  </body></html>